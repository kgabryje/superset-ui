(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{2108:function(module,exports,__webpack_require__){eval("var api = __webpack_require__(262);\n            var content = __webpack_require__(2109);\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.i, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjEwOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vVXNlcnMva2FtaWxnYWJyeWplbHNraS9wcm9qZWN0cy9zdXBlcnNldC11aS9wbHVnaW5zL2xlZ2FjeS1wbHVnaW4tY2hhcnQtbWFwLWJveC9zcmMvTWFwQm94LmNzcz82NDA3Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBhcGkgPSByZXF1aXJlKFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tNi0xIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3Bvc3Rjc3MhLi9NYXBCb3guY3NzXCIpO1xuXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICB9XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG52YXIgZXhwb3J0ZWQgPSBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDoge307XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydGVkOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2108\n")},2109:function(module,exports,__webpack_require__){eval('// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(263);\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, "/**\\n * Licensed to the Apache Software Foundation (ASF) under one\\n * or more contributor license agreements.  See the NOTICE file\\n * distributed with this work for additional information\\n * regarding copyright ownership.  The ASF licenses this file\\n * to you under the Apache License, Version 2.0 (the\\n * \\"License\\"); you may not use this file except in compliance\\n * with the License.  You may obtain a copy of the License at\\n *\\n *   http://www.apache.org/licenses/LICENSE-2.0\\n *\\n * Unless required by applicable law or agreed to in writing,\\n * software distributed under the License is distributed on an\\n * \\"AS IS\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n * KIND, either express or implied.  See the License for the\\n * specific language governing permissions and limitations\\n * under the License.\\n */\\n.mapbox .slice_container div {\\n  padding-top: 0px;\\n}\\n", ""]);\n// Exports\nmodule.exports = exports;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjEwOS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vVXNlcnMva2FtaWxnYWJyeWplbHNraS9wcm9qZWN0cy9zdXBlcnNldC11aS9wbHVnaW5zL2xlZ2FjeS1wbHVnaW4tY2hhcnQtbWFwLWJveC9zcmMvTWFwQm94LmNzcz8yYzIyIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbnZhciBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gPSByZXF1aXJlKFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKTtcbmV4cG9ydHMgPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIvKipcXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXFxuICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXFxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXFxuICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxcbiAqIFxcXCJMaWNlbnNlXFxcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcXG4gKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XFxuICpcXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxcbiAqXFxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXFxuICogXFxcIkFTIElTXFxcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXFxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXFxuICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxcbiAqL1xcbi5tYXBib3ggLnNsaWNlX2NvbnRhaW5lciBkaXYge1xcbiAgcGFkZGluZy10b3A6IDBweDtcXG59XFxuXCIsIFwiXCJdKTtcbi8vIEV4cG9ydHNcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cztcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2109\n')},2226:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, "DEFAULT_MAX_ZOOM", function() { return /* binding */ DEFAULT_MAX_ZOOM; });\n__webpack_require__.d(__webpack_exports__, "DEFAULT_POINT_RADIUS", function() { return /* binding */ DEFAULT_POINT_RADIUS; });\n\n// EXTERNAL MODULE: /Users/kamilgabryjelski/projects/superset-ui/node_modules/core-js/modules/es.object.assign.js\nvar es_object_assign = __webpack_require__(48);\n\n// EXTERNAL MODULE: /Users/kamilgabryjelski/projects/superset-ui/node_modules/react/index.js\nvar react = __webpack_require__(2);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: /Users/kamilgabryjelski/projects/superset-ui/node_modules/prop-types/index.js\nvar prop_types = __webpack_require__(17);\nvar prop_types_default = /*#__PURE__*/__webpack_require__.n(prop_types);\n\n// EXTERNAL MODULE: /Users/kamilgabryjelski/projects/superset-ui/node_modules/react-map-gl/dist/esm/index.js + 72 modules\nvar esm = __webpack_require__(2093);\n\n// EXTERNAL MODULE: /Users/kamilgabryjelski/projects/superset-ui/node_modules/immutable/dist/immutable.js\nvar immutable = __webpack_require__(1932);\nvar immutable_default = /*#__PURE__*/__webpack_require__.n(immutable);\n\n// EXTERNAL MODULE: /Users/kamilgabryjelski/projects/superset-ui/node_modules/viewport-mercator-project/dist/esm/web-mercator-viewport.js + 10 modules\nvar web_mercator_viewport = __webpack_require__(2430);\n\n// EXTERNAL MODULE: /Users/kamilgabryjelski/projects/superset-ui/node_modules/core-js/modules/web.dom-collections.iterator.js\nvar web_dom_collections_iterator = __webpack_require__(47);\n\n// CONCATENATED MODULE: /Users/kamilgabryjelski/projects/superset-ui/plugins/legacy-plugin-chart-map-box/src/utils/roundDecimal.js\nfunction roundDecimal(number,precision){let roundedNumber,p=precision;if(precision){roundedNumber=Math.round(number*(p=10**p))/p}else{roundedNumber=Math.round(number)}return roundedNumber}\n// CONCATENATED MODULE: /Users/kamilgabryjelski/projects/superset-ui/plugins/legacy-plugin-chart-map-box/src/utils/geo.js\nconst EARTH_CIRCUMFERENCE_KM=40075.16;const MILES_PER_KM=1.60934;function kmToPixels(kilometers,latitude,zoomLevel){// Algorithm from: http://wiki.openstreetmap.org/wiki/Zoom_levels\nconst latitudeRad=latitude*(Math.PI/180),kmPerPixel=EARTH_CIRCUMFERENCE_KM*Math.cos(latitudeRad)/2**(zoomLevel+9);// Seems like the zoomLevel is off by one\nreturn roundDecimal(kilometers/kmPerPixel,2)}\n// CONCATENATED MODULE: /Users/kamilgabryjelski/projects/superset-ui/plugins/legacy-plugin-chart-map-box/src/utils/luminanceFromRGB.js\nconst LUMINANCE_RED_WEIGHT=.2126;const LUMINANCE_GREEN_WEIGHT=.7152;const LUMINANCE_BLUE_WEIGHT=.0722;function luminanceFromRGB(r,g,b){// Formula: https://en.wikipedia.org/wiki/Relative_luminance\nreturn LUMINANCE_RED_WEIGHT*r+LUMINANCE_GREEN_WEIGHT*g+LUMINANCE_BLUE_WEIGHT*b}\n// EXTERNAL MODULE: /Users/kamilgabryjelski/projects/superset-ui/node_modules/mapbox-gl/dist/mapbox-gl.css\nvar mapbox_gl = __webpack_require__(2165);\n\n// CONCATENATED MODULE: /Users/kamilgabryjelski/projects/superset-ui/plugins/legacy-plugin-chart-map-box/src/ScatterPlotGlowOverlay.jsx\n/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * "License"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */ /* eslint-disable react/require-default-props */const propTypes={aggregation:prop_types_default.a.string,compositeOperation:prop_types_default.a.string,dotRadius:prop_types_default.a.number,lngLatAccessor:prop_types_default.a.func,locations:prop_types_default.a.instanceOf(immutable_default.a.List).isRequired,pointRadiusUnit:prop_types_default.a.string,renderWhileDragging:prop_types_default.a.bool,rgb:prop_types_default.a.arrayOf(prop_types_default.a.oneOfType([prop_types_default.a.string,prop_types_default.a.number])),zoom:prop_types_default.a.number},defaultProps={// Same as browser default.\ncompositeOperation:"source-over",dotRadius:4,lngLatAccessor:location=>[location.get(0),location.get(1)],renderWhileDragging:!0},computeClusterLabel=(properties,aggregation)=>{const count=properties.get("point_count");if(!aggregation){return count}if("sum"===aggregation||"min"===aggregation||"max"===aggregation){return properties.get(aggregation)}const sum=properties.get("sum");if("mean"===aggregation){return Math.round(100*(sum/count))/100}const squaredSum=properties.get("squaredSum"),variance=squaredSum/count-(sum/count)**2;if("var"===aggregation){return Math.round(100*variance)/100}if("stdev"===aggregation){return Math.round(100*Math.sqrt(variance))/100}// fallback to point_count, this really shouldn\'t happen\nreturn count};class ScatterPlotGlowOverlay_ScatterPlotGlowOverlay extends react_default.a.PureComponent{constructor(props){super(props);this.redraw=this.redraw.bind(this)}drawText(ctx,pixel,options={}){const{fontHeight=0,label="",radius=0,rgb=[0,0,0],shadow=!1}=options,maxWidth=1.8*radius,luminance=luminanceFromRGB(rgb[1],rgb[2],rgb[3]);ctx.globalCompositeOperation="source-over";ctx.fillStyle=luminance<=110?"white":"black";ctx.font="".concat(fontHeight,"px sans-serif");ctx.textAlign="center";ctx.textBaseline="middle";if(shadow){ctx.shadowBlur=15;ctx.shadowColor=luminance<=110?"black":""}const textWidth=ctx.measureText(label).width;if(textWidth>maxWidth){ctx.font="".concat(fontHeight/textWidth*maxWidth,"px sans-serif")}const{compositeOperation}=this.props;ctx.fillText(label,pixel[0],pixel[1]);ctx.globalCompositeOperation=compositeOperation;ctx.shadowBlur=0;ctx.shadowColor=""}// Modified: https://github.com/uber/react-map-gl/blob/master/overlays/scatterplot.react.js\nredraw({width,height,ctx,isDragging,project}){const{aggregation,compositeOperation,dotRadius,lngLatAccessor,locations,pointRadiusUnit,renderWhileDragging,rgb,zoom}=this.props,radius=dotRadius,clusterLabelMap=[];locations.forEach((location,i)=>{if(location.get("properties").get("cluster")){clusterLabelMap[i]=computeClusterLabel(location.get("properties"),aggregation)}},this);const maxLabel=Math.max(...clusterLabelMap.filter(v=>!Number.isNaN(v)));ctx.clearRect(0,0,width,height);ctx.globalCompositeOperation=compositeOperation;if((renderWhileDragging||!isDragging)&&locations){locations.forEach(function(location,i){const pixel=project(lngLatAccessor(location)),pixelRounded=[roundDecimal(pixel[0],1),roundDecimal(pixel[1],1)];if(0<=pixelRounded[0]+radius&&pixelRounded[0]-radius<width&&0<=pixelRounded[1]+radius&&pixelRounded[1]-radius<height){ctx.beginPath();if(location.get("properties").get("cluster")){let clusterLabel=clusterLabelMap[i];const scaledRadius=roundDecimal((clusterLabel/maxLabel)**.5*radius,1),fontHeight=roundDecimal(.5*scaledRadius,1),[x,y]=pixelRounded,gradient=ctx.createRadialGradient(x,y,scaledRadius,x,y,0);gradient.addColorStop(1,"rgba(".concat(rgb[1],", ").concat(rgb[2],", ").concat(rgb[3],", 0.8)"));gradient.addColorStop(0,"rgba(".concat(rgb[1],", ").concat(rgb[2],", ").concat(rgb[3],", 0)"));ctx.arc(pixelRounded[0],pixelRounded[1],scaledRadius,0,2*Math.PI);ctx.fillStyle=gradient;ctx.fill();if(Number.isFinite(parseFloat(clusterLabel))){if(1e4<=clusterLabel){clusterLabel="".concat(Math.round(clusterLabel/1e3),"k")}else if(1e3<=clusterLabel){clusterLabel="".concat(Math.round(clusterLabel/100)/10,"k")}this.drawText(ctx,pixelRounded,{fontHeight,label:clusterLabel,radius:scaledRadius,rgb,shadow:!0})}}else{const defaultRadius=radius/6,radiusProperty=location.get("properties").get("radius"),pointMetric=location.get("properties").get("metric");let pointRadius=null===radiusProperty?defaultRadius:radiusProperty,pointLabel;if(null!==radiusProperty){const pointLatitude=lngLatAccessor(location)[1];if("Kilometers"===pointRadiusUnit){pointLabel="".concat(roundDecimal(pointRadius,2),"km");pointRadius=kmToPixels(pointRadius,pointLatitude,zoom)}else if("Miles"===pointRadiusUnit){pointLabel="".concat(roundDecimal(pointRadius,2),"mi");pointRadius=kmToPixels(pointRadius*MILES_PER_KM,pointLatitude,zoom)}}if(null!==pointMetric){pointLabel=Number.isFinite(parseFloat(pointMetric))?roundDecimal(pointMetric,2):pointMetric}// Fall back to default points if pointRadius wasn\'t a numerical column\nif(!pointRadius){pointRadius=defaultRadius}ctx.arc(pixelRounded[0],pixelRounded[1],roundDecimal(pointRadius,1),0,2*Math.PI);ctx.fillStyle="rgb(".concat(rgb[1],", ").concat(rgb[2],", ").concat(rgb[3],")");ctx.fill();if(pointLabel!==void 0){this.drawText(ctx,pixelRounded,{fontHeight:roundDecimal(pointRadius,1),label:pointLabel,radius:pointRadius,rgb,shadow:!1})}}}},this)}}render(){return/*#__PURE__*/react_default.a.createElement(esm["a" /* CanvasOverlay */],{redraw:this.redraw})}}ScatterPlotGlowOverlay_ScatterPlotGlowOverlay.displayName="ScatterPlotGlowOverlay";ScatterPlotGlowOverlay_ScatterPlotGlowOverlay.propTypes=propTypes;ScatterPlotGlowOverlay_ScatterPlotGlowOverlay.defaultProps=defaultProps;ScatterPlotGlowOverlay_ScatterPlotGlowOverlay.__docgenInfo={description:"",methods:[{name:"drawText",docblock:null,modifiers:[],params:[{name:"ctx",type:null},{name:"pixel",type:null},{name:"options",type:null}],returns:null},{name:"redraw",docblock:null,modifiers:[],params:[{name:"{ width, height, ctx, isDragging, project }",type:null}],returns:null}],displayName:"ScatterPlotGlowOverlay",props:{compositeOperation:{defaultValue:{value:"\'source-over\'",computed:!1},type:{name:"string"},required:!1,description:""},dotRadius:{defaultValue:{value:"4",computed:!1},type:{name:"number"},required:!1,description:""},lngLatAccessor:{defaultValue:{value:"location => [location.get(0), location.get(1)]",computed:!1},type:{name:"func"},required:!1,description:""},renderWhileDragging:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},aggregation:{type:{name:"string"},required:!1,description:""},locations:{type:{name:"instanceOf",value:"Immutable.List"},required:!0,description:""},pointRadiusUnit:{type:{name:"string"},required:!1,description:""},rgb:{type:{name:"arrayOf",value:{name:"union",value:[{name:"string"},{name:"number"}]}},required:!1,description:""},zoom:{type:{name:"number"},required:!1,description:""}}};/* harmony default export */ var src_ScatterPlotGlowOverlay = (ScatterPlotGlowOverlay_ScatterPlotGlowOverlay);if("undefined"!=typeof STORYBOOK_REACT_CLASSES){STORYBOOK_REACT_CLASSES["../../plugins/legacy-plugin-chart-map-box/src/ScatterPlotGlowOverlay.jsx"]={name:"ScatterPlotGlowOverlay",docgenInfo:ScatterPlotGlowOverlay_ScatterPlotGlowOverlay.__docgenInfo,path:"../../plugins/legacy-plugin-chart-map-box/src/ScatterPlotGlowOverlay.jsx"}}\n// EXTERNAL MODULE: /Users/kamilgabryjelski/projects/superset-ui/plugins/legacy-plugin-chart-map-box/src/MapBox.css\nvar src_MapBox = __webpack_require__(2108);\n\n// CONCATENATED MODULE: /Users/kamilgabryjelski/projects/superset-ui/plugins/legacy-plugin-chart-map-box/src/MapBox.jsx\nfunction _extends(){_extends=Object.assign||function(target){for(var i=1,source;i<arguments.length;i++){source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * "License"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */ /* eslint-disable react/jsx-sort-default-props, react/sort-prop-types */ /* eslint-disable react/forbid-prop-types, react/require-default-props */const NOOP=()=>{};const DEFAULT_MAX_ZOOM=16;const DEFAULT_POINT_RADIUS=60;const MapBox_propTypes={width:prop_types_default.a.number,height:prop_types_default.a.number,aggregatorName:prop_types_default.a.string,clusterer:prop_types_default.a.object,globalOpacity:prop_types_default.a.number,hasCustomMetric:prop_types_default.a.bool,mapStyle:prop_types_default.a.string,mapboxApiKey:prop_types_default.a.string.isRequired,onViewportChange:prop_types_default.a.func,pointRadius:prop_types_default.a.number,pointRadiusUnit:prop_types_default.a.string,renderWhileDragging:prop_types_default.a.bool,rgb:prop_types_default.a.array,bounds:prop_types_default.a.array},MapBox_defaultProps={width:400,height:400,globalOpacity:1,onViewportChange:NOOP,pointRadius:60,pointRadiusUnit:"Pixels"};class MapBox_MapBox extends react_default.a.Component{constructor(props){super(props);const{width,height,bounds}=this.props,mercator=new web_mercator_viewport["a" /* default */]({width,height}).fitBounds(bounds),{latitude,longitude,zoom}=mercator;// Get a viewport that fits the given bounds, which all marks to be clustered.\n// Derive lat, lon and zoom from this viewport. This is only done on initial\n// render as the bounds don\'t update as we pan/zoom in the current design.\nthis.state={viewport:{longitude,latitude,zoom}};this.handleViewportChange=this.handleViewportChange.bind(this)}handleViewportChange(viewport){this.setState({viewport});const{onViewportChange}=this.props;onViewportChange(viewport)}render(){const{width,height,aggregatorName,clusterer,globalOpacity,mapStyle,mapboxApiKey,pointRadius,pointRadiusUnit,renderWhileDragging,rgb,hasCustomMetric,bounds}=this.props,{viewport}=this.state,isDragging=viewport.isDragging===void 0?!1:viewport.isDragging,bbox=[bounds[0][0],bounds[0][1],bounds[1][0],bounds[1][1]],clusters=clusterer.getClusters(bbox,Math.round(viewport.zoom));return/*#__PURE__*/react_default.a.createElement(esm["b" /* default */],_extends({},viewport,{mapStyle:mapStyle,width:width,height:height,mapboxApiAccessToken:mapboxApiKey,onViewportChange:this.handleViewportChange}),/*#__PURE__*/react_default.a.createElement(src_ScatterPlotGlowOverlay,_extends({},viewport,{isDragging:isDragging,locations:immutable_default.a.fromJS(clusters),dotRadius:pointRadius,pointRadiusUnit:pointRadiusUnit,rgb:rgb,globalOpacity:globalOpacity,compositeOperation:"screen",renderWhileDragging:renderWhileDragging,aggregation:hasCustomMetric?aggregatorName:null,lngLatAccessor:location=>{const coordinates=location.get("geometry").get("coordinates");return[coordinates.get(0),coordinates.get(1)]}})))}}MapBox_MapBox.displayName="MapBox";MapBox_MapBox.propTypes=MapBox_propTypes;MapBox_MapBox.defaultProps=MapBox_defaultProps;MapBox_MapBox.__docgenInfo={description:"",methods:[{name:"handleViewportChange",docblock:null,modifiers:[],params:[{name:"viewport",type:null}],returns:null}],displayName:"MapBox",props:{width:{defaultValue:{value:"400",computed:!1},type:{name:"number"},required:!1,description:""},height:{defaultValue:{value:"400",computed:!1},type:{name:"number"},required:!1,description:""},globalOpacity:{defaultValue:{value:"1",computed:!1},type:{name:"number"},required:!1,description:""},onViewportChange:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},pointRadius:{defaultValue:{value:"60",computed:!1},type:{name:"number"},required:!1,description:""},pointRadiusUnit:{defaultValue:{value:"\'Pixels\'",computed:!1},type:{name:"string"},required:!1,description:""},aggregatorName:{type:{name:"string"},required:!1,description:""},clusterer:{type:{name:"object"},required:!1,description:""},hasCustomMetric:{type:{name:"bool"},required:!1,description:""},mapStyle:{type:{name:"string"},required:!1,description:""},mapboxApiKey:{type:{name:"string"},required:!0,description:""},renderWhileDragging:{type:{name:"bool"},required:!1,description:""},rgb:{type:{name:"array"},required:!1,description:""},bounds:{type:{name:"array"},required:!1,description:""}}};/* harmony default export */ var legacy_plugin_chart_map_box_src_MapBox = __webpack_exports__["default"] = (MapBox_MapBox);if("undefined"!=typeof STORYBOOK_REACT_CLASSES){STORYBOOK_REACT_CLASSES["../../plugins/legacy-plugin-chart-map-box/src/MapBox.jsx"]={name:"MapBox",docgenInfo:MapBox_MapBox.__docgenInfo,path:"../../plugins/legacy-plugin-chart-map-box/src/MapBox.jsx"}}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjIyNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vVXNlcnMva2FtaWxnYWJyeWplbHNraS9wcm9qZWN0cy9zdXBlcnNldC11aS9wbHVnaW5zL2xlZ2FjeS1wbHVnaW4tY2hhcnQtbWFwLWJveC9zcmMvdXRpbHMvcm91bmREZWNpbWFsLmpzP2VjZjciLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9rYW1pbGdhYnJ5amVsc2tpL3Byb2plY3RzL3N1cGVyc2V0LXVpL3BsdWdpbnMvbGVnYWN5LXBsdWdpbi1jaGFydC1tYXAtYm94L3NyYy91dGlscy9nZW8uanM/OTI0MSIsIndlYnBhY2s6Ly8vL1VzZXJzL2thbWlsZ2FicnlqZWxza2kvcHJvamVjdHMvc3VwZXJzZXQtdWkvcGx1Z2lucy9sZWdhY3ktcGx1Z2luLWNoYXJ0LW1hcC1ib3gvc3JjL3V0aWxzL2x1bWluYW5jZUZyb21SR0IuanM/MWY2YyIsIndlYnBhY2s6Ly8vL1VzZXJzL2thbWlsZ2FicnlqZWxza2kvcHJvamVjdHMvc3VwZXJzZXQtdWkvcGx1Z2lucy9sZWdhY3ktcGx1Z2luLWNoYXJ0LW1hcC1ib3gvc3JjL1NjYXR0ZXJQbG90R2xvd092ZXJsYXkuanN4PzhlNTAiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9rYW1pbGdhYnJ5amVsc2tpL3Byb2plY3RzL3N1cGVyc2V0LXVpL3BsdWdpbnMvbGVnYWN5LXBsdWdpbi1jaGFydC1tYXAtYm94L3NyYy9NYXBCb3guanN4P2YyNDMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcm91bmREZWNpbWFsKG51bWJlciwgcHJlY2lzaW9uKSB7XG4gIGxldCByb3VuZGVkTnVtYmVyO1xuICBsZXQgcCA9IHByZWNpc2lvbjtcbiAgaWYgKHByZWNpc2lvbikge1xuICAgIHJvdW5kZWROdW1iZXIgPSBNYXRoLnJvdW5kKG51bWJlciAqIChwID0gMTAgKiogcCkpIC8gcDtcbiAgfSBlbHNlIHtcbiAgICByb3VuZGVkTnVtYmVyID0gTWF0aC5yb3VuZChudW1iZXIpO1xuICB9XG5cbiAgcmV0dXJuIHJvdW5kZWROdW1iZXI7XG59XG4iLCJpbXBvcnQgcm91bmREZWNpbWFsIGZyb20gJy4vcm91bmREZWNpbWFsJztcblxuZXhwb3J0IGNvbnN0IEVBUlRIX0NJUkNVTUZFUkVOQ0VfS00gPSA0MDA3NS4xNjtcbmV4cG9ydCBjb25zdCBNSUxFU19QRVJfS00gPSAxLjYwOTM0O1xuXG5leHBvcnQgZnVuY3Rpb24ga21Ub1BpeGVscyhraWxvbWV0ZXJzLCBsYXRpdHVkZSwgem9vbUxldmVsKSB7XG4gIC8vIEFsZ29yaXRobSBmcm9tOiBodHRwOi8vd2lraS5vcGVuc3RyZWV0bWFwLm9yZy93aWtpL1pvb21fbGV2ZWxzXG4gIGNvbnN0IGxhdGl0dWRlUmFkID0gbGF0aXR1ZGUgKiAoTWF0aC5QSSAvIDE4MCk7XG4gIC8vIFNlZW1zIGxpa2UgdGhlIHpvb21MZXZlbCBpcyBvZmYgYnkgb25lXG4gIGNvbnN0IGttUGVyUGl4ZWwgPSAoRUFSVEhfQ0lSQ1VNRkVSRU5DRV9LTSAqIE1hdGguY29zKGxhdGl0dWRlUmFkKSkgLyAyICoqICh6b29tTGV2ZWwgKyA5KTtcblxuICByZXR1cm4gcm91bmREZWNpbWFsKGtpbG9tZXRlcnMgLyBrbVBlclBpeGVsLCAyKTtcbn1cbiIsImV4cG9ydCBjb25zdCBMVU1JTkFOQ0VfUkVEX1dFSUdIVCA9IDAuMjEyNjtcbmV4cG9ydCBjb25zdCBMVU1JTkFOQ0VfR1JFRU5fV0VJR0hUID0gMC43MTUyO1xuZXhwb3J0IGNvbnN0IExVTUlOQU5DRV9CTFVFX1dFSUdIVCA9IDAuMDcyMjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbHVtaW5hbmNlRnJvbVJHQihyLCBnLCBiKSB7XG4gIC8vIEZvcm11bGE6IGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1JlbGF0aXZlX2x1bWluYW5jZVxuICByZXR1cm4gTFVNSU5BTkNFX1JFRF9XRUlHSFQgKiByICsgTFVNSU5BTkNFX0dSRUVOX1dFSUdIVCAqIGcgKyBMVU1JTkFOQ0VfQkxVRV9XRUlHSFQgKiBiO1xufVxuIiwiLyoqXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyogZXNsaW50LWRpc2FibGUgcmVhY3QvcmVxdWlyZS1kZWZhdWx0LXByb3BzICovXG5pbXBvcnQgSW1tdXRhYmxlIGZyb20gJ2ltbXV0YWJsZSc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IENhbnZhc092ZXJsYXkgfSBmcm9tICdyZWFjdC1tYXAtZ2wnO1xuaW1wb3J0IHsga21Ub1BpeGVscywgTUlMRVNfUEVSX0tNIH0gZnJvbSAnLi91dGlscy9nZW8nO1xuaW1wb3J0IHJvdW5kRGVjaW1hbCBmcm9tICcuL3V0aWxzL3JvdW5kRGVjaW1hbCc7XG5pbXBvcnQgbHVtaW5hbmNlRnJvbVJHQiBmcm9tICcuL3V0aWxzL2x1bWluYW5jZUZyb21SR0InO1xuaW1wb3J0ICdtYXBib3gtZ2wvZGlzdC9tYXBib3gtZ2wuY3NzJztcblxuY29uc3QgcHJvcFR5cGVzID0ge1xuICBhZ2dyZWdhdGlvbjogUHJvcFR5cGVzLnN0cmluZyxcbiAgY29tcG9zaXRlT3BlcmF0aW9uOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBkb3RSYWRpdXM6IFByb3BUeXBlcy5udW1iZXIsXG4gIGxuZ0xhdEFjY2Vzc29yOiBQcm9wVHlwZXMuZnVuYyxcbiAgbG9jYXRpb25zOiBQcm9wVHlwZXMuaW5zdGFuY2VPZihJbW11dGFibGUuTGlzdCkuaXNSZXF1aXJlZCxcbiAgcG9pbnRSYWRpdXNVbml0OiBQcm9wVHlwZXMuc3RyaW5nLFxuICByZW5kZXJXaGlsZURyYWdnaW5nOiBQcm9wVHlwZXMuYm9vbCxcbiAgcmdiOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMubnVtYmVyXSkpLFxuICB6b29tOiBQcm9wVHlwZXMubnVtYmVyLFxufTtcblxuY29uc3QgZGVmYXVsdFByb3BzID0ge1xuICAvLyBTYW1lIGFzIGJyb3dzZXIgZGVmYXVsdC5cbiAgY29tcG9zaXRlT3BlcmF0aW9uOiAnc291cmNlLW92ZXInLFxuICBkb3RSYWRpdXM6IDQsXG4gIGxuZ0xhdEFjY2Vzc29yOiBsb2NhdGlvbiA9PiBbbG9jYXRpb24uZ2V0KDApLCBsb2NhdGlvbi5nZXQoMSldLFxuICByZW5kZXJXaGlsZURyYWdnaW5nOiB0cnVlLFxufTtcblxuY29uc3QgY29tcHV0ZUNsdXN0ZXJMYWJlbCA9IChwcm9wZXJ0aWVzLCBhZ2dyZWdhdGlvbikgPT4ge1xuICBjb25zdCBjb3VudCA9IHByb3BlcnRpZXMuZ2V0KCdwb2ludF9jb3VudCcpO1xuICBpZiAoIWFnZ3JlZ2F0aW9uKSB7XG4gICAgcmV0dXJuIGNvdW50O1xuICB9XG4gIGlmIChhZ2dyZWdhdGlvbiA9PT0gJ3N1bScgfHwgYWdncmVnYXRpb24gPT09ICdtaW4nIHx8IGFnZ3JlZ2F0aW9uID09PSAnbWF4Jykge1xuICAgIHJldHVybiBwcm9wZXJ0aWVzLmdldChhZ2dyZWdhdGlvbik7XG4gIH1cbiAgY29uc3Qgc3VtID0gcHJvcGVydGllcy5nZXQoJ3N1bScpO1xuICBjb25zdCBtZWFuID0gc3VtIC8gY291bnQ7XG4gIGlmIChhZ2dyZWdhdGlvbiA9PT0gJ21lYW4nKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQoMTAwICogbWVhbikgLyAxMDA7XG4gIH1cbiAgY29uc3Qgc3F1YXJlZFN1bSA9IHByb3BlcnRpZXMuZ2V0KCdzcXVhcmVkU3VtJyk7XG4gIGNvbnN0IHZhcmlhbmNlID0gc3F1YXJlZFN1bSAvIGNvdW50IC0gKHN1bSAvIGNvdW50KSAqKiAyO1xuICBpZiAoYWdncmVnYXRpb24gPT09ICd2YXInKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQoMTAwICogdmFyaWFuY2UpIC8gMTAwO1xuICB9XG4gIGlmIChhZ2dyZWdhdGlvbiA9PT0gJ3N0ZGV2Jykge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKDEwMCAqIE1hdGguc3FydCh2YXJpYW5jZSkpIC8gMTAwO1xuICB9XG5cbiAgLy8gZmFsbGJhY2sgdG8gcG9pbnRfY291bnQsIHRoaXMgcmVhbGx5IHNob3VsZG4ndCBoYXBwZW5cbiAgcmV0dXJuIGNvdW50O1xufTtcblxuY2xhc3MgU2NhdHRlclBsb3RHbG93T3ZlcmxheSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnJlZHJhdyA9IHRoaXMucmVkcmF3LmJpbmQodGhpcyk7XG4gIH1cblxuICBkcmF3VGV4dChjdHgsIHBpeGVsLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBJU19EQVJLX1RIUkVTSE9MRCA9IDExMDtcbiAgICBjb25zdCB7IGZvbnRIZWlnaHQgPSAwLCBsYWJlbCA9ICcnLCByYWRpdXMgPSAwLCByZ2IgPSBbMCwgMCwgMF0sIHNoYWRvdyA9IGZhbHNlIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IG1heFdpZHRoID0gcmFkaXVzICogMS44O1xuICAgIGNvbnN0IGx1bWluYW5jZSA9IGx1bWluYW5jZUZyb21SR0IocmdiWzFdLCByZ2JbMl0sIHJnYlszXSk7XG5cbiAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ3NvdXJjZS1vdmVyJztcbiAgICBjdHguZmlsbFN0eWxlID0gbHVtaW5hbmNlIDw9IElTX0RBUktfVEhSRVNIT0xEID8gJ3doaXRlJyA6ICdibGFjayc7XG4gICAgY3R4LmZvbnQgPSBgJHtmb250SGVpZ2h0fXB4IHNhbnMtc2VyaWZgO1xuICAgIGN0eC50ZXh0QWxpZ24gPSAnY2VudGVyJztcbiAgICBjdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG4gICAgaWYgKHNoYWRvdykge1xuICAgICAgY3R4LnNoYWRvd0JsdXIgPSAxNTtcbiAgICAgIGN0eC5zaGFkb3dDb2xvciA9IGx1bWluYW5jZSA8PSBJU19EQVJLX1RIUkVTSE9MRCA/ICdibGFjaycgOiAnJztcbiAgICB9XG5cbiAgICBjb25zdCB0ZXh0V2lkdGggPSBjdHgubWVhc3VyZVRleHQobGFiZWwpLndpZHRoO1xuICAgIGlmICh0ZXh0V2lkdGggPiBtYXhXaWR0aCkge1xuICAgICAgY29uc3Qgc2NhbGUgPSBmb250SGVpZ2h0IC8gdGV4dFdpZHRoO1xuICAgICAgY3R4LmZvbnQgPSBgJHtzY2FsZSAqIG1heFdpZHRofXB4IHNhbnMtc2VyaWZgO1xuICAgIH1cblxuICAgIGNvbnN0IHsgY29tcG9zaXRlT3BlcmF0aW9uIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgY3R4LmZpbGxUZXh0KGxhYmVsLCBwaXhlbFswXSwgcGl4ZWxbMV0pO1xuICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBjb21wb3NpdGVPcGVyYXRpb247XG4gICAgY3R4LnNoYWRvd0JsdXIgPSAwO1xuICAgIGN0eC5zaGFkb3dDb2xvciA9ICcnO1xuICB9XG5cbiAgLy8gTW9kaWZpZWQ6IGh0dHBzOi8vZ2l0aHViLmNvbS91YmVyL3JlYWN0LW1hcC1nbC9ibG9iL21hc3Rlci9vdmVybGF5cy9zY2F0dGVycGxvdC5yZWFjdC5qc1xuICByZWRyYXcoeyB3aWR0aCwgaGVpZ2h0LCBjdHgsIGlzRHJhZ2dpbmcsIHByb2plY3QgfSkge1xuICAgIGNvbnN0IHtcbiAgICAgIGFnZ3JlZ2F0aW9uLFxuICAgICAgY29tcG9zaXRlT3BlcmF0aW9uLFxuICAgICAgZG90UmFkaXVzLFxuICAgICAgbG5nTGF0QWNjZXNzb3IsXG4gICAgICBsb2NhdGlvbnMsXG4gICAgICBwb2ludFJhZGl1c1VuaXQsXG4gICAgICByZW5kZXJXaGlsZURyYWdnaW5nLFxuICAgICAgcmdiLFxuICAgICAgem9vbSxcbiAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgIGNvbnN0IHJhZGl1cyA9IGRvdFJhZGl1cztcbiAgICBjb25zdCBjbHVzdGVyTGFiZWxNYXAgPSBbXTtcblxuICAgIGxvY2F0aW9ucy5mb3JFYWNoKChsb2NhdGlvbiwgaSkgPT4ge1xuICAgICAgaWYgKGxvY2F0aW9uLmdldCgncHJvcGVydGllcycpLmdldCgnY2x1c3RlcicpKSB7XG4gICAgICAgIGNsdXN0ZXJMYWJlbE1hcFtpXSA9IGNvbXB1dGVDbHVzdGVyTGFiZWwobG9jYXRpb24uZ2V0KCdwcm9wZXJ0aWVzJyksIGFnZ3JlZ2F0aW9uKTtcbiAgICAgIH1cbiAgICB9LCB0aGlzKTtcblxuICAgIGNvbnN0IG1heExhYmVsID0gTWF0aC5tYXgoLi4uY2x1c3RlckxhYmVsTWFwLmZpbHRlcih2ID0+ICFOdW1iZXIuaXNOYU4odikpKTtcblxuICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IGNvbXBvc2l0ZU9wZXJhdGlvbjtcblxuICAgIGlmICgocmVuZGVyV2hpbGVEcmFnZ2luZyB8fCAhaXNEcmFnZ2luZykgJiYgbG9jYXRpb25zKSB7XG4gICAgICBsb2NhdGlvbnMuZm9yRWFjaChmdW5jdGlvbiBfZm9yRWFjaChsb2NhdGlvbiwgaSkge1xuICAgICAgICBjb25zdCBwaXhlbCA9IHByb2plY3QobG5nTGF0QWNjZXNzb3IobG9jYXRpb24pKTtcbiAgICAgICAgY29uc3QgcGl4ZWxSb3VuZGVkID0gW3JvdW5kRGVjaW1hbChwaXhlbFswXSwgMSksIHJvdW5kRGVjaW1hbChwaXhlbFsxXSwgMSldO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICBwaXhlbFJvdW5kZWRbMF0gKyByYWRpdXMgPj0gMCAmJlxuICAgICAgICAgIHBpeGVsUm91bmRlZFswXSAtIHJhZGl1cyA8IHdpZHRoICYmXG4gICAgICAgICAgcGl4ZWxSb3VuZGVkWzFdICsgcmFkaXVzID49IDAgJiZcbiAgICAgICAgICBwaXhlbFJvdW5kZWRbMV0gLSByYWRpdXMgPCBoZWlnaHRcbiAgICAgICAgKSB7XG4gICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgIGlmIChsb2NhdGlvbi5nZXQoJ3Byb3BlcnRpZXMnKS5nZXQoJ2NsdXN0ZXInKSkge1xuICAgICAgICAgICAgbGV0IGNsdXN0ZXJMYWJlbCA9IGNsdXN0ZXJMYWJlbE1hcFtpXTtcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlZFJhZGl1cyA9IHJvdW5kRGVjaW1hbCgoY2x1c3RlckxhYmVsIC8gbWF4TGFiZWwpICoqIDAuNSAqIHJhZGl1cywgMSk7XG4gICAgICAgICAgICBjb25zdCBmb250SGVpZ2h0ID0gcm91bmREZWNpbWFsKHNjYWxlZFJhZGl1cyAqIDAuNSwgMSk7XG4gICAgICAgICAgICBjb25zdCBbeCwgeV0gPSBwaXhlbFJvdW5kZWQ7XG4gICAgICAgICAgICBjb25zdCBncmFkaWVudCA9IGN0eC5jcmVhdGVSYWRpYWxHcmFkaWVudCh4LCB5LCBzY2FsZWRSYWRpdXMsIHgsIHksIDApO1xuXG4gICAgICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoMSwgYHJnYmEoJHtyZ2JbMV19LCAke3JnYlsyXX0sICR7cmdiWzNdfSwgMC44KWApO1xuICAgICAgICAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKDAsIGByZ2JhKCR7cmdiWzFdfSwgJHtyZ2JbMl19LCAke3JnYlszXX0sIDApYCk7XG4gICAgICAgICAgICBjdHguYXJjKHBpeGVsUm91bmRlZFswXSwgcGl4ZWxSb3VuZGVkWzFdLCBzY2FsZWRSYWRpdXMsIDAsIE1hdGguUEkgKiAyKTtcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBncmFkaWVudDtcbiAgICAgICAgICAgIGN0eC5maWxsKCk7XG5cbiAgICAgICAgICAgIGlmIChOdW1iZXIuaXNGaW5pdGUocGFyc2VGbG9hdChjbHVzdGVyTGFiZWwpKSkge1xuICAgICAgICAgICAgICBpZiAoY2x1c3RlckxhYmVsID49IDEwMDAwKSB7XG4gICAgICAgICAgICAgICAgY2x1c3RlckxhYmVsID0gYCR7TWF0aC5yb3VuZChjbHVzdGVyTGFiZWwgLyAxMDAwKX1rYDtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChjbHVzdGVyTGFiZWwgPj0gMTAwMCkge1xuICAgICAgICAgICAgICAgIGNsdXN0ZXJMYWJlbCA9IGAke01hdGgucm91bmQoY2x1c3RlckxhYmVsIC8gMTAwKSAvIDEwfWtgO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRoaXMuZHJhd1RleHQoY3R4LCBwaXhlbFJvdW5kZWQsIHtcbiAgICAgICAgICAgICAgICBmb250SGVpZ2h0LFxuICAgICAgICAgICAgICAgIGxhYmVsOiBjbHVzdGVyTGFiZWwsXG4gICAgICAgICAgICAgICAgcmFkaXVzOiBzY2FsZWRSYWRpdXMsXG4gICAgICAgICAgICAgICAgcmdiLFxuICAgICAgICAgICAgICAgIHNoYWRvdzogdHJ1ZSxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRSYWRpdXMgPSByYWRpdXMgLyA2O1xuICAgICAgICAgICAgY29uc3QgcmFkaXVzUHJvcGVydHkgPSBsb2NhdGlvbi5nZXQoJ3Byb3BlcnRpZXMnKS5nZXQoJ3JhZGl1cycpO1xuICAgICAgICAgICAgY29uc3QgcG9pbnRNZXRyaWMgPSBsb2NhdGlvbi5nZXQoJ3Byb3BlcnRpZXMnKS5nZXQoJ21ldHJpYycpO1xuICAgICAgICAgICAgbGV0IHBvaW50UmFkaXVzID0gcmFkaXVzUHJvcGVydHkgPT09IG51bGwgPyBkZWZhdWx0UmFkaXVzIDogcmFkaXVzUHJvcGVydHk7XG4gICAgICAgICAgICBsZXQgcG9pbnRMYWJlbDtcblxuICAgICAgICAgICAgaWYgKHJhZGl1c1Byb3BlcnR5ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHBvaW50TGF0aXR1ZGUgPSBsbmdMYXRBY2Nlc3Nvcihsb2NhdGlvbilbMV07XG4gICAgICAgICAgICAgIGlmIChwb2ludFJhZGl1c1VuaXQgPT09ICdLaWxvbWV0ZXJzJykge1xuICAgICAgICAgICAgICAgIHBvaW50TGFiZWwgPSBgJHtyb3VuZERlY2ltYWwocG9pbnRSYWRpdXMsIDIpfWttYDtcbiAgICAgICAgICAgICAgICBwb2ludFJhZGl1cyA9IGttVG9QaXhlbHMocG9pbnRSYWRpdXMsIHBvaW50TGF0aXR1ZGUsIHpvb20pO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBvaW50UmFkaXVzVW5pdCA9PT0gJ01pbGVzJykge1xuICAgICAgICAgICAgICAgIHBvaW50TGFiZWwgPSBgJHtyb3VuZERlY2ltYWwocG9pbnRSYWRpdXMsIDIpfW1pYDtcbiAgICAgICAgICAgICAgICBwb2ludFJhZGl1cyA9IGttVG9QaXhlbHMocG9pbnRSYWRpdXMgKiBNSUxFU19QRVJfS00sIHBvaW50TGF0aXR1ZGUsIHpvb20pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwb2ludE1ldHJpYyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICBwb2ludExhYmVsID0gTnVtYmVyLmlzRmluaXRlKHBhcnNlRmxvYXQocG9pbnRNZXRyaWMpKVxuICAgICAgICAgICAgICAgID8gcm91bmREZWNpbWFsKHBvaW50TWV0cmljLCAyKVxuICAgICAgICAgICAgICAgIDogcG9pbnRNZXRyaWM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEZhbGwgYmFjayB0byBkZWZhdWx0IHBvaW50cyBpZiBwb2ludFJhZGl1cyB3YXNuJ3QgYSBudW1lcmljYWwgY29sdW1uXG4gICAgICAgICAgICBpZiAoIXBvaW50UmFkaXVzKSB7XG4gICAgICAgICAgICAgIHBvaW50UmFkaXVzID0gZGVmYXVsdFJhZGl1cztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY3R4LmFyYyhwaXhlbFJvdW5kZWRbMF0sIHBpeGVsUm91bmRlZFsxXSwgcm91bmREZWNpbWFsKHBvaW50UmFkaXVzLCAxKSwgMCwgTWF0aC5QSSAqIDIpO1xuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGByZ2IoJHtyZ2JbMV19LCAke3JnYlsyXX0sICR7cmdiWzNdfSlgO1xuICAgICAgICAgICAgY3R4LmZpbGwoKTtcblxuICAgICAgICAgICAgaWYgKHBvaW50TGFiZWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICB0aGlzLmRyYXdUZXh0KGN0eCwgcGl4ZWxSb3VuZGVkLCB7XG4gICAgICAgICAgICAgICAgZm9udEhlaWdodDogcm91bmREZWNpbWFsKHBvaW50UmFkaXVzLCAxKSxcbiAgICAgICAgICAgICAgICBsYWJlbDogcG9pbnRMYWJlbCxcbiAgICAgICAgICAgICAgICByYWRpdXM6IHBvaW50UmFkaXVzLFxuICAgICAgICAgICAgICAgIHJnYixcbiAgICAgICAgICAgICAgICBzaGFkb3c6IGZhbHNlLFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gPENhbnZhc092ZXJsYXkgcmVkcmF3PXt0aGlzLnJlZHJhd30gLz47XG4gIH1cbn1cblxuU2NhdHRlclBsb3RHbG93T3ZlcmxheS5wcm9wVHlwZXMgPSBwcm9wVHlwZXM7XG5TY2F0dGVyUGxvdEdsb3dPdmVybGF5LmRlZmF1bHRQcm9wcyA9IGRlZmF1bHRQcm9wcztcblxuZXhwb3J0IGRlZmF1bHQgU2NhdHRlclBsb3RHbG93T3ZlcmxheTtcbiIsIi8qKlxuICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZVxuICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXG4gKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZVxuICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlXG4gKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qIGVzbGludC1kaXNhYmxlIHJlYWN0L2pzeC1zb3J0LWRlZmF1bHQtcHJvcHMsIHJlYWN0L3NvcnQtcHJvcC10eXBlcyAqL1xuLyogZXNsaW50LWRpc2FibGUgcmVhY3QvZm9yYmlkLXByb3AtdHlwZXMsIHJlYWN0L3JlcXVpcmUtZGVmYXVsdC1wcm9wcyAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgTWFwR0wgZnJvbSAncmVhY3QtbWFwLWdsJztcbmltcG9ydCBJbW11dGFibGUgZnJvbSAnaW1tdXRhYmxlJztcbmltcG9ydCBWaWV3cG9ydE1lcmNhdG9yIGZyb20gJ3ZpZXdwb3J0LW1lcmNhdG9yLXByb2plY3QnO1xuaW1wb3J0IFNjYXR0ZXJQbG90R2xvd092ZXJsYXkgZnJvbSAnLi9TY2F0dGVyUGxvdEdsb3dPdmVybGF5JztcbmltcG9ydCAnLi9NYXBCb3guY3NzJztcblxuY29uc3QgTk9PUCA9ICgpID0+IHt9O1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfTUFYX1pPT00gPSAxNjtcbmV4cG9ydCBjb25zdCBERUZBVUxUX1BPSU5UX1JBRElVUyA9IDYwO1xuXG5jb25zdCBwcm9wVHlwZXMgPSB7XG4gIHdpZHRoOiBQcm9wVHlwZXMubnVtYmVyLFxuICBoZWlnaHQ6IFByb3BUeXBlcy5udW1iZXIsXG4gIGFnZ3JlZ2F0b3JOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBjbHVzdGVyZXI6IFByb3BUeXBlcy5vYmplY3QsXG4gIGdsb2JhbE9wYWNpdHk6IFByb3BUeXBlcy5udW1iZXIsXG4gIGhhc0N1c3RvbU1ldHJpYzogUHJvcFR5cGVzLmJvb2wsXG4gIG1hcFN0eWxlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBtYXBib3hBcGlLZXk6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgb25WaWV3cG9ydENoYW5nZTogUHJvcFR5cGVzLmZ1bmMsXG4gIHBvaW50UmFkaXVzOiBQcm9wVHlwZXMubnVtYmVyLFxuICBwb2ludFJhZGl1c1VuaXQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gIHJlbmRlcldoaWxlRHJhZ2dpbmc6IFByb3BUeXBlcy5ib29sLFxuICByZ2I6IFByb3BUeXBlcy5hcnJheSxcbiAgYm91bmRzOiBQcm9wVHlwZXMuYXJyYXksXG59O1xuXG5jb25zdCBkZWZhdWx0UHJvcHMgPSB7XG4gIHdpZHRoOiA0MDAsXG4gIGhlaWdodDogNDAwLFxuICBnbG9iYWxPcGFjaXR5OiAxLFxuICBvblZpZXdwb3J0Q2hhbmdlOiBOT09QLFxuICBwb2ludFJhZGl1czogREVGQVVMVF9QT0lOVF9SQURJVVMsXG4gIHBvaW50UmFkaXVzVW5pdDogJ1BpeGVscycsXG59O1xuXG5jbGFzcyBNYXBCb3ggZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCwgYm91bmRzIH0gPSB0aGlzLnByb3BzO1xuICAgIC8vIEdldCBhIHZpZXdwb3J0IHRoYXQgZml0cyB0aGUgZ2l2ZW4gYm91bmRzLCB3aGljaCBhbGwgbWFya3MgdG8gYmUgY2x1c3RlcmVkLlxuICAgIC8vIERlcml2ZSBsYXQsIGxvbiBhbmQgem9vbSBmcm9tIHRoaXMgdmlld3BvcnQuIFRoaXMgaXMgb25seSBkb25lIG9uIGluaXRpYWxcbiAgICAvLyByZW5kZXIgYXMgdGhlIGJvdW5kcyBkb24ndCB1cGRhdGUgYXMgd2UgcGFuL3pvb20gaW4gdGhlIGN1cnJlbnQgZGVzaWduLlxuICAgIGNvbnN0IG1lcmNhdG9yID0gbmV3IFZpZXdwb3J0TWVyY2F0b3Ioe1xuICAgICAgd2lkdGgsXG4gICAgICBoZWlnaHQsXG4gICAgfSkuZml0Qm91bmRzKGJvdW5kcyk7XG4gICAgY29uc3QgeyBsYXRpdHVkZSwgbG9uZ2l0dWRlLCB6b29tIH0gPSBtZXJjYXRvcjtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICB2aWV3cG9ydDoge1xuICAgICAgICBsb25naXR1ZGUsXG4gICAgICAgIGxhdGl0dWRlLFxuICAgICAgICB6b29tLFxuICAgICAgfSxcbiAgICB9O1xuICAgIHRoaXMuaGFuZGxlVmlld3BvcnRDaGFuZ2UgPSB0aGlzLmhhbmRsZVZpZXdwb3J0Q2hhbmdlLmJpbmQodGhpcyk7XG4gIH1cblxuICBoYW5kbGVWaWV3cG9ydENoYW5nZSh2aWV3cG9ydCkge1xuICAgIHRoaXMuc2V0U3RhdGUoeyB2aWV3cG9ydCB9KTtcbiAgICBjb25zdCB7IG9uVmlld3BvcnRDaGFuZ2UgfSA9IHRoaXMucHJvcHM7XG4gICAgb25WaWV3cG9ydENoYW5nZSh2aWV3cG9ydCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgd2lkdGgsXG4gICAgICBoZWlnaHQsXG4gICAgICBhZ2dyZWdhdG9yTmFtZSxcbiAgICAgIGNsdXN0ZXJlcixcbiAgICAgIGdsb2JhbE9wYWNpdHksXG4gICAgICBtYXBTdHlsZSxcbiAgICAgIG1hcGJveEFwaUtleSxcbiAgICAgIHBvaW50UmFkaXVzLFxuICAgICAgcG9pbnRSYWRpdXNVbml0LFxuICAgICAgcmVuZGVyV2hpbGVEcmFnZ2luZyxcbiAgICAgIHJnYixcbiAgICAgIGhhc0N1c3RvbU1ldHJpYyxcbiAgICAgIGJvdW5kcyxcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7IHZpZXdwb3J0IH0gPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IGlzRHJhZ2dpbmcgPSB2aWV3cG9ydC5pc0RyYWdnaW5nID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IHZpZXdwb3J0LmlzRHJhZ2dpbmc7XG5cbiAgICAvLyBDb21wdXRlIHRoZSBjbHVzdGVycyBiYXNlZCBvbiB0aGUgb3JpZ2luYWwgYm91bmRzIGFuZCBjdXJyZW50IHpvb20gbGV2ZWwuIE5vdGUgd2hlbiB6b29tL3BhblxuICAgIC8vIHRvIGFuIGFyZWEgb3V0c2lkZSBvZiB0aGUgb3JpZ2luYWwgYm91bmRzLCBubyBhZGRpdGlvbmFsIHF1ZXJpZXMgYXJlIG1hZGUgdG8gdGhlIGJhY2tlbmQgdG9cbiAgICAvLyByZXRyaWV2ZSBhZGRpdGlvbmFsIGRhdGEuXG4gICAgY29uc3QgYmJveCA9IFtib3VuZHNbMF1bMF0sIGJvdW5kc1swXVsxXSwgYm91bmRzWzFdWzBdLCBib3VuZHNbMV1bMV1dO1xuICAgIGNvbnN0IGNsdXN0ZXJzID0gY2x1c3RlcmVyLmdldENsdXN0ZXJzKGJib3gsIE1hdGgucm91bmQodmlld3BvcnQuem9vbSkpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxNYXBHTFxuICAgICAgICB7Li4udmlld3BvcnR9XG4gICAgICAgIG1hcFN0eWxlPXttYXBTdHlsZX1cbiAgICAgICAgd2lkdGg9e3dpZHRofVxuICAgICAgICBoZWlnaHQ9e2hlaWdodH1cbiAgICAgICAgbWFwYm94QXBpQWNjZXNzVG9rZW49e21hcGJveEFwaUtleX1cbiAgICAgICAgb25WaWV3cG9ydENoYW5nZT17dGhpcy5oYW5kbGVWaWV3cG9ydENoYW5nZX1cbiAgICAgID5cbiAgICAgICAgPFNjYXR0ZXJQbG90R2xvd092ZXJsYXlcbiAgICAgICAgICB7Li4udmlld3BvcnR9XG4gICAgICAgICAgaXNEcmFnZ2luZz17aXNEcmFnZ2luZ31cbiAgICAgICAgICBsb2NhdGlvbnM9e0ltbXV0YWJsZS5mcm9tSlMoY2x1c3RlcnMpfVxuICAgICAgICAgIGRvdFJhZGl1cz17cG9pbnRSYWRpdXN9XG4gICAgICAgICAgcG9pbnRSYWRpdXNVbml0PXtwb2ludFJhZGl1c1VuaXR9XG4gICAgICAgICAgcmdiPXtyZ2J9XG4gICAgICAgICAgZ2xvYmFsT3BhY2l0eT17Z2xvYmFsT3BhY2l0eX1cbiAgICAgICAgICBjb21wb3NpdGVPcGVyYXRpb249XCJzY3JlZW5cIlxuICAgICAgICAgIHJlbmRlcldoaWxlRHJhZ2dpbmc9e3JlbmRlcldoaWxlRHJhZ2dpbmd9XG4gICAgICAgICAgYWdncmVnYXRpb249e2hhc0N1c3RvbU1ldHJpYyA/IGFnZ3JlZ2F0b3JOYW1lIDogbnVsbH1cbiAgICAgICAgICBsbmdMYXRBY2Nlc3Nvcj17bG9jYXRpb24gPT4ge1xuICAgICAgICAgICAgY29uc3QgY29vcmRpbmF0ZXMgPSBsb2NhdGlvbi5nZXQoJ2dlb21ldHJ5JykuZ2V0KCdjb29yZGluYXRlcycpO1xuXG4gICAgICAgICAgICByZXR1cm4gW2Nvb3JkaW5hdGVzLmdldCgwKSwgY29vcmRpbmF0ZXMuZ2V0KDEpXTtcbiAgICAgICAgICB9fVxuICAgICAgICAvPlxuICAgICAgPC9NYXBHTD5cbiAgICApO1xuICB9XG59XG5cbk1hcEJveC5wcm9wVHlwZXMgPSBwcm9wVHlwZXM7XG5NYXBCb3guZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xuXG5leHBvcnQgZGVmYXVsdCBNYXBCb3g7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7O0FDQUE7QUFLQTtBQU1BOztBQ1hBO0FBTUE7Ozs7O0FDTkE7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBa0JBO0FBd0JBO0FBNkJBO0FBd0NBO0FBMkZBOzs7OztBQzFNQTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFrQkE7QUE4Q0E7QUFDQTtBQU9BIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2226\n')}}]);