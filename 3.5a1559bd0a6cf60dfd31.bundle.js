(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{2175:function(module,exports,__webpack_require__){eval('var map = {\n\t"./af": 1935,\n\t"./af.js": 1935,\n\t"./ar": 1936,\n\t"./ar-dz": 1937,\n\t"./ar-dz.js": 1937,\n\t"./ar-kw": 1938,\n\t"./ar-kw.js": 1938,\n\t"./ar-ly": 1939,\n\t"./ar-ly.js": 1939,\n\t"./ar-ma": 1940,\n\t"./ar-ma.js": 1940,\n\t"./ar-sa": 1941,\n\t"./ar-sa.js": 1941,\n\t"./ar-tn": 1942,\n\t"./ar-tn.js": 1942,\n\t"./ar.js": 1936,\n\t"./az": 1943,\n\t"./az.js": 1943,\n\t"./be": 1944,\n\t"./be.js": 1944,\n\t"./bg": 1945,\n\t"./bg.js": 1945,\n\t"./bm": 1946,\n\t"./bm.js": 1946,\n\t"./bn": 1947,\n\t"./bn.js": 1947,\n\t"./bo": 1948,\n\t"./bo.js": 1948,\n\t"./br": 1949,\n\t"./br.js": 1949,\n\t"./bs": 1950,\n\t"./bs.js": 1950,\n\t"./ca": 1951,\n\t"./ca.js": 1951,\n\t"./cs": 1952,\n\t"./cs.js": 1952,\n\t"./cv": 1953,\n\t"./cv.js": 1953,\n\t"./cy": 1954,\n\t"./cy.js": 1954,\n\t"./da": 1955,\n\t"./da.js": 1955,\n\t"./de": 1956,\n\t"./de-at": 1957,\n\t"./de-at.js": 1957,\n\t"./de-ch": 1958,\n\t"./de-ch.js": 1958,\n\t"./de.js": 1956,\n\t"./dv": 1959,\n\t"./dv.js": 1959,\n\t"./el": 1960,\n\t"./el.js": 1960,\n\t"./en-au": 1961,\n\t"./en-au.js": 1961,\n\t"./en-ca": 1962,\n\t"./en-ca.js": 1962,\n\t"./en-gb": 1963,\n\t"./en-gb.js": 1963,\n\t"./en-ie": 1964,\n\t"./en-ie.js": 1964,\n\t"./en-il": 1965,\n\t"./en-il.js": 1965,\n\t"./en-in": 1966,\n\t"./en-in.js": 1966,\n\t"./en-nz": 1967,\n\t"./en-nz.js": 1967,\n\t"./en-sg": 1968,\n\t"./en-sg.js": 1968,\n\t"./eo": 1969,\n\t"./eo.js": 1969,\n\t"./es": 1970,\n\t"./es-do": 1971,\n\t"./es-do.js": 1971,\n\t"./es-us": 1972,\n\t"./es-us.js": 1972,\n\t"./es.js": 1970,\n\t"./et": 1973,\n\t"./et.js": 1973,\n\t"./eu": 1974,\n\t"./eu.js": 1974,\n\t"./fa": 1975,\n\t"./fa.js": 1975,\n\t"./fi": 1976,\n\t"./fi.js": 1976,\n\t"./fil": 1977,\n\t"./fil.js": 1977,\n\t"./fo": 1978,\n\t"./fo.js": 1978,\n\t"./fr": 1979,\n\t"./fr-ca": 1980,\n\t"./fr-ca.js": 1980,\n\t"./fr-ch": 1981,\n\t"./fr-ch.js": 1981,\n\t"./fr.js": 1979,\n\t"./fy": 1982,\n\t"./fy.js": 1982,\n\t"./ga": 1983,\n\t"./ga.js": 1983,\n\t"./gd": 1984,\n\t"./gd.js": 1984,\n\t"./gl": 1985,\n\t"./gl.js": 1985,\n\t"./gom-deva": 1986,\n\t"./gom-deva.js": 1986,\n\t"./gom-latn": 1987,\n\t"./gom-latn.js": 1987,\n\t"./gu": 1988,\n\t"./gu.js": 1988,\n\t"./he": 1989,\n\t"./he.js": 1989,\n\t"./hi": 1990,\n\t"./hi.js": 1990,\n\t"./hr": 1991,\n\t"./hr.js": 1991,\n\t"./hu": 1992,\n\t"./hu.js": 1992,\n\t"./hy-am": 1993,\n\t"./hy-am.js": 1993,\n\t"./id": 1994,\n\t"./id.js": 1994,\n\t"./is": 1995,\n\t"./is.js": 1995,\n\t"./it": 1996,\n\t"./it-ch": 1997,\n\t"./it-ch.js": 1997,\n\t"./it.js": 1996,\n\t"./ja": 1998,\n\t"./ja.js": 1998,\n\t"./jv": 1999,\n\t"./jv.js": 1999,\n\t"./ka": 2000,\n\t"./ka.js": 2000,\n\t"./kk": 2001,\n\t"./kk.js": 2001,\n\t"./km": 2002,\n\t"./km.js": 2002,\n\t"./kn": 2003,\n\t"./kn.js": 2003,\n\t"./ko": 2004,\n\t"./ko.js": 2004,\n\t"./ku": 2005,\n\t"./ku.js": 2005,\n\t"./ky": 2006,\n\t"./ky.js": 2006,\n\t"./lb": 2007,\n\t"./lb.js": 2007,\n\t"./lo": 2008,\n\t"./lo.js": 2008,\n\t"./lt": 2009,\n\t"./lt.js": 2009,\n\t"./lv": 2010,\n\t"./lv.js": 2010,\n\t"./me": 2011,\n\t"./me.js": 2011,\n\t"./mi": 2012,\n\t"./mi.js": 2012,\n\t"./mk": 2013,\n\t"./mk.js": 2013,\n\t"./ml": 2014,\n\t"./ml.js": 2014,\n\t"./mn": 2015,\n\t"./mn.js": 2015,\n\t"./mr": 2016,\n\t"./mr.js": 2016,\n\t"./ms": 2017,\n\t"./ms-my": 2018,\n\t"./ms-my.js": 2018,\n\t"./ms.js": 2017,\n\t"./mt": 2019,\n\t"./mt.js": 2019,\n\t"./my": 2020,\n\t"./my.js": 2020,\n\t"./nb": 2021,\n\t"./nb.js": 2021,\n\t"./ne": 2022,\n\t"./ne.js": 2022,\n\t"./nl": 2023,\n\t"./nl-be": 2024,\n\t"./nl-be.js": 2024,\n\t"./nl.js": 2023,\n\t"./nn": 2025,\n\t"./nn.js": 2025,\n\t"./oc-lnc": 2026,\n\t"./oc-lnc.js": 2026,\n\t"./pa-in": 2027,\n\t"./pa-in.js": 2027,\n\t"./pl": 2028,\n\t"./pl.js": 2028,\n\t"./pt": 2029,\n\t"./pt-br": 2030,\n\t"./pt-br.js": 2030,\n\t"./pt.js": 2029,\n\t"./ro": 2031,\n\t"./ro.js": 2031,\n\t"./ru": 2032,\n\t"./ru.js": 2032,\n\t"./sd": 2033,\n\t"./sd.js": 2033,\n\t"./se": 2034,\n\t"./se.js": 2034,\n\t"./si": 2035,\n\t"./si.js": 2035,\n\t"./sk": 2036,\n\t"./sk.js": 2036,\n\t"./sl": 2037,\n\t"./sl.js": 2037,\n\t"./sq": 2038,\n\t"./sq.js": 2038,\n\t"./sr": 2039,\n\t"./sr-cyrl": 2040,\n\t"./sr-cyrl.js": 2040,\n\t"./sr.js": 2039,\n\t"./ss": 2041,\n\t"./ss.js": 2041,\n\t"./sv": 2042,\n\t"./sv.js": 2042,\n\t"./sw": 2043,\n\t"./sw.js": 2043,\n\t"./ta": 2044,\n\t"./ta.js": 2044,\n\t"./te": 2045,\n\t"./te.js": 2045,\n\t"./tet": 2046,\n\t"./tet.js": 2046,\n\t"./tg": 2047,\n\t"./tg.js": 2047,\n\t"./th": 2048,\n\t"./th.js": 2048,\n\t"./tk": 2049,\n\t"./tk.js": 2049,\n\t"./tl-ph": 2050,\n\t"./tl-ph.js": 2050,\n\t"./tlh": 2051,\n\t"./tlh.js": 2051,\n\t"./tr": 2052,\n\t"./tr.js": 2052,\n\t"./tzl": 2053,\n\t"./tzl.js": 2053,\n\t"./tzm": 2054,\n\t"./tzm-latn": 2055,\n\t"./tzm-latn.js": 2055,\n\t"./tzm.js": 2054,\n\t"./ug-cn": 2056,\n\t"./ug-cn.js": 2056,\n\t"./uk": 2057,\n\t"./uk.js": 2057,\n\t"./ur": 2058,\n\t"./ur.js": 2058,\n\t"./uz": 2059,\n\t"./uz-latn": 2060,\n\t"./uz-latn.js": 2060,\n\t"./uz.js": 2059,\n\t"./vi": 2061,\n\t"./vi.js": 2061,\n\t"./x-pseudo": 2062,\n\t"./x-pseudo.js": 2062,\n\t"./yo": 2063,\n\t"./yo.js": 2063,\n\t"./zh-cn": 2064,\n\t"./zh-cn.js": 2064,\n\t"./zh-hk": 2065,\n\t"./zh-hk.js": 2065,\n\t"./zh-mo": 2066,\n\t"./zh-mo.js": 2066,\n\t"./zh-tw": 2067,\n\t"./zh-tw.js": 2067\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error("Cannot find module \'" + req + "\'");\n\t\te.code = \'MODULE_NOT_FOUND\';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 2175;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjE3NS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vVXNlcnMva2FtaWxnYWJyeWplbHNraS9wcm9qZWN0cy9zdXBlcnNldC11aS9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZSBzeW5jIF5cXC5cXC8uKiQ/Yjg1YyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbWFwID0ge1xuXHRcIi4vYWZcIjogMTkzNSxcblx0XCIuL2FmLmpzXCI6IDE5MzUsXG5cdFwiLi9hclwiOiAxOTM2LFxuXHRcIi4vYXItZHpcIjogMTkzNyxcblx0XCIuL2FyLWR6LmpzXCI6IDE5MzcsXG5cdFwiLi9hci1rd1wiOiAxOTM4LFxuXHRcIi4vYXIta3cuanNcIjogMTkzOCxcblx0XCIuL2FyLWx5XCI6IDE5MzksXG5cdFwiLi9hci1seS5qc1wiOiAxOTM5LFxuXHRcIi4vYXItbWFcIjogMTk0MCxcblx0XCIuL2FyLW1hLmpzXCI6IDE5NDAsXG5cdFwiLi9hci1zYVwiOiAxOTQxLFxuXHRcIi4vYXItc2EuanNcIjogMTk0MSxcblx0XCIuL2FyLXRuXCI6IDE5NDIsXG5cdFwiLi9hci10bi5qc1wiOiAxOTQyLFxuXHRcIi4vYXIuanNcIjogMTkzNixcblx0XCIuL2F6XCI6IDE5NDMsXG5cdFwiLi9hei5qc1wiOiAxOTQzLFxuXHRcIi4vYmVcIjogMTk0NCxcblx0XCIuL2JlLmpzXCI6IDE5NDQsXG5cdFwiLi9iZ1wiOiAxOTQ1LFxuXHRcIi4vYmcuanNcIjogMTk0NSxcblx0XCIuL2JtXCI6IDE5NDYsXG5cdFwiLi9ibS5qc1wiOiAxOTQ2LFxuXHRcIi4vYm5cIjogMTk0Nyxcblx0XCIuL2JuLmpzXCI6IDE5NDcsXG5cdFwiLi9ib1wiOiAxOTQ4LFxuXHRcIi4vYm8uanNcIjogMTk0OCxcblx0XCIuL2JyXCI6IDE5NDksXG5cdFwiLi9ici5qc1wiOiAxOTQ5LFxuXHRcIi4vYnNcIjogMTk1MCxcblx0XCIuL2JzLmpzXCI6IDE5NTAsXG5cdFwiLi9jYVwiOiAxOTUxLFxuXHRcIi4vY2EuanNcIjogMTk1MSxcblx0XCIuL2NzXCI6IDE5NTIsXG5cdFwiLi9jcy5qc1wiOiAxOTUyLFxuXHRcIi4vY3ZcIjogMTk1Myxcblx0XCIuL2N2LmpzXCI6IDE5NTMsXG5cdFwiLi9jeVwiOiAxOTU0LFxuXHRcIi4vY3kuanNcIjogMTk1NCxcblx0XCIuL2RhXCI6IDE5NTUsXG5cdFwiLi9kYS5qc1wiOiAxOTU1LFxuXHRcIi4vZGVcIjogMTk1Nixcblx0XCIuL2RlLWF0XCI6IDE5NTcsXG5cdFwiLi9kZS1hdC5qc1wiOiAxOTU3LFxuXHRcIi4vZGUtY2hcIjogMTk1OCxcblx0XCIuL2RlLWNoLmpzXCI6IDE5NTgsXG5cdFwiLi9kZS5qc1wiOiAxOTU2LFxuXHRcIi4vZHZcIjogMTk1OSxcblx0XCIuL2R2LmpzXCI6IDE5NTksXG5cdFwiLi9lbFwiOiAxOTYwLFxuXHRcIi4vZWwuanNcIjogMTk2MCxcblx0XCIuL2VuLWF1XCI6IDE5NjEsXG5cdFwiLi9lbi1hdS5qc1wiOiAxOTYxLFxuXHRcIi4vZW4tY2FcIjogMTk2Mixcblx0XCIuL2VuLWNhLmpzXCI6IDE5NjIsXG5cdFwiLi9lbi1nYlwiOiAxOTYzLFxuXHRcIi4vZW4tZ2IuanNcIjogMTk2Myxcblx0XCIuL2VuLWllXCI6IDE5NjQsXG5cdFwiLi9lbi1pZS5qc1wiOiAxOTY0LFxuXHRcIi4vZW4taWxcIjogMTk2NSxcblx0XCIuL2VuLWlsLmpzXCI6IDE5NjUsXG5cdFwiLi9lbi1pblwiOiAxOTY2LFxuXHRcIi4vZW4taW4uanNcIjogMTk2Nixcblx0XCIuL2VuLW56XCI6IDE5NjcsXG5cdFwiLi9lbi1uei5qc1wiOiAxOTY3LFxuXHRcIi4vZW4tc2dcIjogMTk2OCxcblx0XCIuL2VuLXNnLmpzXCI6IDE5NjgsXG5cdFwiLi9lb1wiOiAxOTY5LFxuXHRcIi4vZW8uanNcIjogMTk2OSxcblx0XCIuL2VzXCI6IDE5NzAsXG5cdFwiLi9lcy1kb1wiOiAxOTcxLFxuXHRcIi4vZXMtZG8uanNcIjogMTk3MSxcblx0XCIuL2VzLXVzXCI6IDE5NzIsXG5cdFwiLi9lcy11cy5qc1wiOiAxOTcyLFxuXHRcIi4vZXMuanNcIjogMTk3MCxcblx0XCIuL2V0XCI6IDE5NzMsXG5cdFwiLi9ldC5qc1wiOiAxOTczLFxuXHRcIi4vZXVcIjogMTk3NCxcblx0XCIuL2V1LmpzXCI6IDE5NzQsXG5cdFwiLi9mYVwiOiAxOTc1LFxuXHRcIi4vZmEuanNcIjogMTk3NSxcblx0XCIuL2ZpXCI6IDE5NzYsXG5cdFwiLi9maS5qc1wiOiAxOTc2LFxuXHRcIi4vZmlsXCI6IDE5NzcsXG5cdFwiLi9maWwuanNcIjogMTk3Nyxcblx0XCIuL2ZvXCI6IDE5NzgsXG5cdFwiLi9mby5qc1wiOiAxOTc4LFxuXHRcIi4vZnJcIjogMTk3OSxcblx0XCIuL2ZyLWNhXCI6IDE5ODAsXG5cdFwiLi9mci1jYS5qc1wiOiAxOTgwLFxuXHRcIi4vZnItY2hcIjogMTk4MSxcblx0XCIuL2ZyLWNoLmpzXCI6IDE5ODEsXG5cdFwiLi9mci5qc1wiOiAxOTc5LFxuXHRcIi4vZnlcIjogMTk4Mixcblx0XCIuL2Z5LmpzXCI6IDE5ODIsXG5cdFwiLi9nYVwiOiAxOTgzLFxuXHRcIi4vZ2EuanNcIjogMTk4Myxcblx0XCIuL2dkXCI6IDE5ODQsXG5cdFwiLi9nZC5qc1wiOiAxOTg0LFxuXHRcIi4vZ2xcIjogMTk4NSxcblx0XCIuL2dsLmpzXCI6IDE5ODUsXG5cdFwiLi9nb20tZGV2YVwiOiAxOTg2LFxuXHRcIi4vZ29tLWRldmEuanNcIjogMTk4Nixcblx0XCIuL2dvbS1sYXRuXCI6IDE5ODcsXG5cdFwiLi9nb20tbGF0bi5qc1wiOiAxOTg3LFxuXHRcIi4vZ3VcIjogMTk4OCxcblx0XCIuL2d1LmpzXCI6IDE5ODgsXG5cdFwiLi9oZVwiOiAxOTg5LFxuXHRcIi4vaGUuanNcIjogMTk4OSxcblx0XCIuL2hpXCI6IDE5OTAsXG5cdFwiLi9oaS5qc1wiOiAxOTkwLFxuXHRcIi4vaHJcIjogMTk5MSxcblx0XCIuL2hyLmpzXCI6IDE5OTEsXG5cdFwiLi9odVwiOiAxOTkyLFxuXHRcIi4vaHUuanNcIjogMTk5Mixcblx0XCIuL2h5LWFtXCI6IDE5OTMsXG5cdFwiLi9oeS1hbS5qc1wiOiAxOTkzLFxuXHRcIi4vaWRcIjogMTk5NCxcblx0XCIuL2lkLmpzXCI6IDE5OTQsXG5cdFwiLi9pc1wiOiAxOTk1LFxuXHRcIi4vaXMuanNcIjogMTk5NSxcblx0XCIuL2l0XCI6IDE5OTYsXG5cdFwiLi9pdC1jaFwiOiAxOTk3LFxuXHRcIi4vaXQtY2guanNcIjogMTk5Nyxcblx0XCIuL2l0LmpzXCI6IDE5OTYsXG5cdFwiLi9qYVwiOiAxOTk4LFxuXHRcIi4vamEuanNcIjogMTk5OCxcblx0XCIuL2p2XCI6IDE5OTksXG5cdFwiLi9qdi5qc1wiOiAxOTk5LFxuXHRcIi4va2FcIjogMjAwMCxcblx0XCIuL2thLmpzXCI6IDIwMDAsXG5cdFwiLi9ra1wiOiAyMDAxLFxuXHRcIi4va2suanNcIjogMjAwMSxcblx0XCIuL2ttXCI6IDIwMDIsXG5cdFwiLi9rbS5qc1wiOiAyMDAyLFxuXHRcIi4va25cIjogMjAwMyxcblx0XCIuL2tuLmpzXCI6IDIwMDMsXG5cdFwiLi9rb1wiOiAyMDA0LFxuXHRcIi4va28uanNcIjogMjAwNCxcblx0XCIuL2t1XCI6IDIwMDUsXG5cdFwiLi9rdS5qc1wiOiAyMDA1LFxuXHRcIi4va3lcIjogMjAwNixcblx0XCIuL2t5LmpzXCI6IDIwMDYsXG5cdFwiLi9sYlwiOiAyMDA3LFxuXHRcIi4vbGIuanNcIjogMjAwNyxcblx0XCIuL2xvXCI6IDIwMDgsXG5cdFwiLi9sby5qc1wiOiAyMDA4LFxuXHRcIi4vbHRcIjogMjAwOSxcblx0XCIuL2x0LmpzXCI6IDIwMDksXG5cdFwiLi9sdlwiOiAyMDEwLFxuXHRcIi4vbHYuanNcIjogMjAxMCxcblx0XCIuL21lXCI6IDIwMTEsXG5cdFwiLi9tZS5qc1wiOiAyMDExLFxuXHRcIi4vbWlcIjogMjAxMixcblx0XCIuL21pLmpzXCI6IDIwMTIsXG5cdFwiLi9ta1wiOiAyMDEzLFxuXHRcIi4vbWsuanNcIjogMjAxMyxcblx0XCIuL21sXCI6IDIwMTQsXG5cdFwiLi9tbC5qc1wiOiAyMDE0LFxuXHRcIi4vbW5cIjogMjAxNSxcblx0XCIuL21uLmpzXCI6IDIwMTUsXG5cdFwiLi9tclwiOiAyMDE2LFxuXHRcIi4vbXIuanNcIjogMjAxNixcblx0XCIuL21zXCI6IDIwMTcsXG5cdFwiLi9tcy1teVwiOiAyMDE4LFxuXHRcIi4vbXMtbXkuanNcIjogMjAxOCxcblx0XCIuL21zLmpzXCI6IDIwMTcsXG5cdFwiLi9tdFwiOiAyMDE5LFxuXHRcIi4vbXQuanNcIjogMjAxOSxcblx0XCIuL215XCI6IDIwMjAsXG5cdFwiLi9teS5qc1wiOiAyMDIwLFxuXHRcIi4vbmJcIjogMjAyMSxcblx0XCIuL25iLmpzXCI6IDIwMjEsXG5cdFwiLi9uZVwiOiAyMDIyLFxuXHRcIi4vbmUuanNcIjogMjAyMixcblx0XCIuL25sXCI6IDIwMjMsXG5cdFwiLi9ubC1iZVwiOiAyMDI0LFxuXHRcIi4vbmwtYmUuanNcIjogMjAyNCxcblx0XCIuL25sLmpzXCI6IDIwMjMsXG5cdFwiLi9ublwiOiAyMDI1LFxuXHRcIi4vbm4uanNcIjogMjAyNSxcblx0XCIuL29jLWxuY1wiOiAyMDI2LFxuXHRcIi4vb2MtbG5jLmpzXCI6IDIwMjYsXG5cdFwiLi9wYS1pblwiOiAyMDI3LFxuXHRcIi4vcGEtaW4uanNcIjogMjAyNyxcblx0XCIuL3BsXCI6IDIwMjgsXG5cdFwiLi9wbC5qc1wiOiAyMDI4LFxuXHRcIi4vcHRcIjogMjAyOSxcblx0XCIuL3B0LWJyXCI6IDIwMzAsXG5cdFwiLi9wdC1ici5qc1wiOiAyMDMwLFxuXHRcIi4vcHQuanNcIjogMjAyOSxcblx0XCIuL3JvXCI6IDIwMzEsXG5cdFwiLi9yby5qc1wiOiAyMDMxLFxuXHRcIi4vcnVcIjogMjAzMixcblx0XCIuL3J1LmpzXCI6IDIwMzIsXG5cdFwiLi9zZFwiOiAyMDMzLFxuXHRcIi4vc2QuanNcIjogMjAzMyxcblx0XCIuL3NlXCI6IDIwMzQsXG5cdFwiLi9zZS5qc1wiOiAyMDM0LFxuXHRcIi4vc2lcIjogMjAzNSxcblx0XCIuL3NpLmpzXCI6IDIwMzUsXG5cdFwiLi9za1wiOiAyMDM2LFxuXHRcIi4vc2suanNcIjogMjAzNixcblx0XCIuL3NsXCI6IDIwMzcsXG5cdFwiLi9zbC5qc1wiOiAyMDM3LFxuXHRcIi4vc3FcIjogMjAzOCxcblx0XCIuL3NxLmpzXCI6IDIwMzgsXG5cdFwiLi9zclwiOiAyMDM5LFxuXHRcIi4vc3ItY3lybFwiOiAyMDQwLFxuXHRcIi4vc3ItY3lybC5qc1wiOiAyMDQwLFxuXHRcIi4vc3IuanNcIjogMjAzOSxcblx0XCIuL3NzXCI6IDIwNDEsXG5cdFwiLi9zcy5qc1wiOiAyMDQxLFxuXHRcIi4vc3ZcIjogMjA0Mixcblx0XCIuL3N2LmpzXCI6IDIwNDIsXG5cdFwiLi9zd1wiOiAyMDQzLFxuXHRcIi4vc3cuanNcIjogMjA0Myxcblx0XCIuL3RhXCI6IDIwNDQsXG5cdFwiLi90YS5qc1wiOiAyMDQ0LFxuXHRcIi4vdGVcIjogMjA0NSxcblx0XCIuL3RlLmpzXCI6IDIwNDUsXG5cdFwiLi90ZXRcIjogMjA0Nixcblx0XCIuL3RldC5qc1wiOiAyMDQ2LFxuXHRcIi4vdGdcIjogMjA0Nyxcblx0XCIuL3RnLmpzXCI6IDIwNDcsXG5cdFwiLi90aFwiOiAyMDQ4LFxuXHRcIi4vdGguanNcIjogMjA0OCxcblx0XCIuL3RrXCI6IDIwNDksXG5cdFwiLi90ay5qc1wiOiAyMDQ5LFxuXHRcIi4vdGwtcGhcIjogMjA1MCxcblx0XCIuL3RsLXBoLmpzXCI6IDIwNTAsXG5cdFwiLi90bGhcIjogMjA1MSxcblx0XCIuL3RsaC5qc1wiOiAyMDUxLFxuXHRcIi4vdHJcIjogMjA1Mixcblx0XCIuL3RyLmpzXCI6IDIwNTIsXG5cdFwiLi90emxcIjogMjA1Myxcblx0XCIuL3R6bC5qc1wiOiAyMDUzLFxuXHRcIi4vdHptXCI6IDIwNTQsXG5cdFwiLi90em0tbGF0blwiOiAyMDU1LFxuXHRcIi4vdHptLWxhdG4uanNcIjogMjA1NSxcblx0XCIuL3R6bS5qc1wiOiAyMDU0LFxuXHRcIi4vdWctY25cIjogMjA1Nixcblx0XCIuL3VnLWNuLmpzXCI6IDIwNTYsXG5cdFwiLi91a1wiOiAyMDU3LFxuXHRcIi4vdWsuanNcIjogMjA1Nyxcblx0XCIuL3VyXCI6IDIwNTgsXG5cdFwiLi91ci5qc1wiOiAyMDU4LFxuXHRcIi4vdXpcIjogMjA1OSxcblx0XCIuL3V6LWxhdG5cIjogMjA2MCxcblx0XCIuL3V6LWxhdG4uanNcIjogMjA2MCxcblx0XCIuL3V6LmpzXCI6IDIwNTksXG5cdFwiLi92aVwiOiAyMDYxLFxuXHRcIi4vdmkuanNcIjogMjA2MSxcblx0XCIuL3gtcHNldWRvXCI6IDIwNjIsXG5cdFwiLi94LXBzZXVkby5qc1wiOiAyMDYyLFxuXHRcIi4veW9cIjogMjA2Myxcblx0XCIuL3lvLmpzXCI6IDIwNjMsXG5cdFwiLi96aC1jblwiOiAyMDY0LFxuXHRcIi4vemgtY24uanNcIjogMjA2NCxcblx0XCIuL3poLWhrXCI6IDIwNjUsXG5cdFwiLi96aC1oay5qc1wiOiAyMDY1LFxuXHRcIi4vemgtbW9cIjogMjA2Nixcblx0XCIuL3poLW1vLmpzXCI6IDIwNjYsXG5cdFwiLi96aC10d1wiOiAyMDY3LFxuXHRcIi4vemgtdHcuanNcIjogMjA2N1xufTtcblxuXG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dChyZXEpIHtcblx0dmFyIGlkID0gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSk7XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKGlkKTtcbn1cbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpIHtcblx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhtYXAsIHJlcSkpIHtcblx0XHR2YXIgZSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIidcIik7XG5cdFx0ZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnO1xuXHRcdHRocm93IGU7XG5cdH1cblx0cmV0dXJuIG1hcFtyZXFdO1xufVxud2VicGFja0NvbnRleHQua2V5cyA9IGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0S2V5cygpIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKG1hcCk7XG59O1xud2VicGFja0NvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZTtcbm1vZHVsZS5leHBvcnRzID0gd2VicGFja0NvbnRleHQ7XG53ZWJwYWNrQ29udGV4dC5pZCA9IDIxNzU7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2175\n')},2505:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: /Users/kamilgabryjelski/projects/superset-ui/node_modules/react/index.js\nvar react = __webpack_require__(2);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ../superset-ui-core/src/index.ts\nvar src = __webpack_require__(3);\n\n// EXTERNAL MODULE: ../superset-ui-core/src/style/index.ts\nvar style = __webpack_require__(536);\n\n// EXTERNAL MODULE: /Users/kamilgabryjelski/projects/superset-ui/node_modules/prop-types/index.js\nvar prop_types = __webpack_require__(17);\nvar prop_types_default = /*#__PURE__*/__webpack_require__.n(prop_types);\n\n// EXTERNAL MODULE: /Users/kamilgabryjelski/projects/superset-ui/node_modules/core-js/modules/es.string.includes.js\nvar es_string_includes = __webpack_require__(327);\n\n// EXTERNAL MODULE: /Users/kamilgabryjelski/projects/superset-ui/node_modules/core-js/modules/web.dom-collections.iterator.js\nvar web_dom_collections_iterator = __webpack_require__(47);\n\n// EXTERNAL MODULE: /Users/kamilgabryjelski/projects/superset-ui/node_modules/lodash/lodash.js\nvar lodash = __webpack_require__(104);\n\n// EXTERNAL MODULE: /Users/kamilgabryjelski/projects/superset-ui/node_modules/d3/d3.js\nvar d3 = __webpack_require__(137);\nvar d3_default = /*#__PURE__*/__webpack_require__.n(d3);\n\n// EXTERNAL MODULE: /Users/kamilgabryjelski/projects/superset-ui/node_modules/nvd3-fork/build/nv.d3.js\nvar nv_d3 = __webpack_require__(2358);\nvar nv_d3_default = /*#__PURE__*/__webpack_require__.n(nv_d3);\n\n// EXTERNAL MODULE: /Users/kamilgabryjelski/projects/superset-ui/node_modules/mathjs/lib/esm/entry/impureFunctionsAny.generated.js\nvar impureFunctionsAny_generated = __webpack_require__(1010);\n\n// EXTERNAL MODULE: /Users/kamilgabryjelski/projects/superset-ui/node_modules/moment/moment.js\nvar moment = __webpack_require__(1795);\nvar moment_default = /*#__PURE__*/__webpack_require__.n(moment);\n\n// EXTERNAL MODULE: ../superset-ui-core/src/color/index.ts + 3 modules\nvar color = __webpack_require__(787);\n\n// EXTERNAL MODULE: ../superset-ui-core/src/number-format/NumberFormatterRegistrySingleton.ts\nvar NumberFormatterRegistrySingleton = __webpack_require__(132);\n\n// EXTERNAL MODULE: ../superset-ui-core/src/translation/TranslatorSingleton.ts + 1 modules\nvar TranslatorSingleton = __webpack_require__(15);\n\n// EXTERNAL MODULE: ../superset-ui-core/src/number-format/NumberFormats.ts\nvar NumberFormats = __webpack_require__(133);\n\n// EXTERNAL MODULE: ../superset-ui-core/src/time-format/TimeFormatterRegistrySingleton.ts + 5 modules\nvar TimeFormatterRegistrySingleton = __webpack_require__(120);\n\n// EXTERNAL MODULE: ../superset-ui-core/src/time-format/formatters/smartDateVerbose.ts\nvar smartDateVerbose = __webpack_require__(961);\n\n// EXTERNAL MODULE: ../superset-ui-core/src/utils/isDefined.ts\nvar isDefined = __webpack_require__(403);\n\n// EXTERNAL MODULE: /Users/kamilgabryjelski/projects/superset-ui/node_modules/nvd3-fork/build/nv.d3.css\nvar build_nv_d3 = __webpack_require__(2359);\n\n// EXTERNAL MODULE: /Users/kamilgabryjelski/projects/superset-ui/plugins/legacy-preset-chart-nvd3/src/vendor/superset/AnnotationTypes.js\nvar AnnotationTypes = __webpack_require__(111);\n\n// EXTERNAL MODULE: /Users/kamilgabryjelski/projects/superset-ui/plugins/legacy-preset-chart-nvd3/src/utils/isTruthy.js\nvar isTruthy = __webpack_require__(1007);\n\n// EXTERNAL MODULE: /Users/kamilgabryjelski/projects/superset-ui/plugins/legacy-preset-chart-nvd3/src/utils.js\nvar utils = __webpack_require__(816);\n\n// CONCATENATED MODULE: /Users/kamilgabryjelski/projects/superset-ui/plugins/legacy-preset-chart-nvd3/src/PropTypes.js\n/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * "License"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */ /* eslint-disable react/sort-prop-types */const numberOrAutoType=prop_types_default.a.oneOfType([prop_types_default.a.number,prop_types_default.a.oneOf(["auto"])]);const stringOrObjectWithLabelType=prop_types_default.a.oneOfType([prop_types_default.a.string,prop_types_default.a.shape({label:prop_types_default.a.string})]);const rgbObjectType=prop_types_default.a.shape({r:prop_types_default.a.number.isRequired,g:prop_types_default.a.number.isRequired,b:prop_types_default.a.number.isRequired});const numericXYType=prop_types_default.a.shape({x:prop_types_default.a.number,y:prop_types_default.a.number});const categoryAndValueXYType=prop_types_default.a.shape({x:prop_types_default.a.string,y:prop_types_default.a.number});const boxPlotValueType=prop_types_default.a.shape({outliers:prop_types_default.a.arrayOf(prop_types_default.a.number),Q1:prop_types_default.a.number,Q2:prop_types_default.a.number,Q3:prop_types_default.a.number,whisker_high:prop_types_default.a.number,whisker_low:prop_types_default.a.number});const bulletDataType=prop_types_default.a.shape({markerLabels:prop_types_default.a.arrayOf(prop_types_default.a.string),markerLineLabels:prop_types_default.a.arrayOf(prop_types_default.a.string),markerLines:prop_types_default.a.arrayOf(prop_types_default.a.number),markers:prop_types_default.a.arrayOf(prop_types_default.a.number),measures:prop_types_default.a.arrayOf(prop_types_default.a.number),rangeLabels:prop_types_default.a.arrayOf(prop_types_default.a.string),ranges:prop_types_default.a.arrayOf(prop_types_default.a.number)});const annotationLayerType=prop_types_default.a.shape({annotationType:prop_types_default.a.oneOf(Object.keys(AnnotationTypes["a" /* ANNOTATION_TYPES */])),color:prop_types_default.a.string,hideLine:prop_types_default.a.bool,name:prop_types_default.a.string,opacity:prop_types_default.a.string,show:prop_types_default.a.bool,showMarkers:prop_types_default.a.bool,sourceType:prop_types_default.a.string,style:prop_types_default.a.string,value:prop_types_default.a.oneOfType([prop_types_default.a.number,prop_types_default.a.string]),width:prop_types_default.a.number});\n// CONCATENATED MODULE: /Users/kamilgabryjelski/projects/superset-ui/plugins/legacy-preset-chart-nvd3/src/NVD3Vis.js\nfunction ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1,source;i<arguments.length;i++){source=null!=arguments[i]?arguments[i]:{};if(i%2){ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0})}else{obj[key]=value}return obj}/* eslint-disable react/sort-prop-types */ /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * "License"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n *//* eslint-disable-next-line */const NO_DATA_RENDER_DATA=[{text:"No data",dy:"-.75em",class:"header"},{text:"Adjust filters or check the Datasource.",dy:".75em",class:"body"}];// Override the noData render function to make a prettier UX\n// Code adapted from https://github.com/novus/nvd3/blob/master/src/utils.js#L653\nnv_d3_default.a.utils.noData=function(chart,container){const opt=chart.options(),margin=opt.margin(),height=nv_d3_default.a.utils.availableHeight(null,container,margin),width=nv_d3_default.a.utils.availableWidth(null,container,margin),x=margin.left+width/2,y=margin.top+height/2;// Remove any previously created chart components\ncontainer.selectAll("g").remove();const noDataText=container.selectAll(".nv-noData").data(NO_DATA_RENDER_DATA);noDataText.enter().append("text").attr("class",d=>"nvd3 nv-noData ".concat(d.class)).attr("dy",d=>d.dy).style("text-anchor","middle");noDataText.attr("x",x).attr("y",y).text(d=>d.text)};const{getColor,getScale}=color["b" /* CategoricalColorNamespace */],MAX_MARGIN_PAD=30,MIN_HEIGHT_FOR_BRUSH=480,MAX_NO_CHARACTERS_IN_LABEL=40,BREAKPOINTS={small:340},TIMESERIES_VIZ_TYPES=["line","dual_line","line_multi","area","compare","bar","time_pivot"],propTypes={data:prop_types_default.a.oneOfType([prop_types_default.a.arrayOf(prop_types_default.a.oneOfType([// pie\ncategoryAndValueXYType,// dist-bar\nprop_types_default.a.shape({key:prop_types_default.a.string,values:prop_types_default.a.arrayOf(categoryAndValueXYType)}),// area, line, compare, bar\nprop_types_default.a.shape({key:prop_types_default.a.arrayOf(prop_types_default.a.string),values:prop_types_default.a.arrayOf(numericXYType)}),// dual-line\nprop_types_default.a.shape({classed:prop_types_default.a.string,key:prop_types_default.a.string,type:prop_types_default.a.string,values:prop_types_default.a.arrayOf(numericXYType),yAxis:prop_types_default.a.number}),// box-plot\nprop_types_default.a.shape({label:prop_types_default.a.string,values:prop_types_default.a.arrayOf(boxPlotValueType)}),// bubble\nprop_types_default.a.shape({key:prop_types_default.a.string,values:prop_types_default.a.arrayOf(prop_types_default.a.object)})])),// bullet\nbulletDataType]),width:prop_types_default.a.number,height:prop_types_default.a.number,annotationData:prop_types_default.a.object,annotationLayers:prop_types_default.a.arrayOf(annotationLayerType),bottomMargin:numberOrAutoType,colorScheme:prop_types_default.a.string,comparisonType:prop_types_default.a.string,contribution:prop_types_default.a.bool,leftMargin:numberOrAutoType,onError:prop_types_default.a.func,showLegend:prop_types_default.a.bool,showMarkers:prop_types_default.a.bool,useRichTooltip:prop_types_default.a.bool,vizType:prop_types_default.a.oneOf(["area","bar","box_plot","bubble","bullet","compare","column","dist_bar","line","line_multi","time_pivot","pie","dual_line"]),xAxisFormat:prop_types_default.a.string,numberFormat:prop_types_default.a.string,xAxisLabel:prop_types_default.a.string,xAxisShowMinMax:prop_types_default.a.bool,xIsLogScale:prop_types_default.a.bool,xTicksLayout:prop_types_default.a.oneOf(["auto","staggered","45\\xB0"]),yAxisFormat:prop_types_default.a.string,yAxisBounds:prop_types_default.a.arrayOf(prop_types_default.a.number),yAxisLabel:prop_types_default.a.string,yAxisShowMinMax:prop_types_default.a.bool,yIsLogScale:prop_types_default.a.bool,// \'dist-bar\' only\norderBars:prop_types_default.a.bool,// \'bar\' or \'dist-bar\'\nisBarStacked:prop_types_default.a.bool,showBarValue:prop_types_default.a.bool,// \'bar\', \'dist-bar\' or \'column\'\nreduceXTicks:prop_types_default.a.bool,// \'bar\', \'dist-bar\' or \'area\'\nshowControls:prop_types_default.a.bool,// \'line\' only\nshowBrush:prop_types_default.a.oneOf([!0,"yes",!1,"no","auto"]),onBrushEnd:prop_types_default.a.func,// \'line-multi\' or \'dual-line\'\nyAxis2Format:prop_types_default.a.string,// \'line\', \'time-pivot\', \'dual-line\' or \'line-multi\'\nlineInterpolation:prop_types_default.a.string,// \'pie\' only\nisDonut:prop_types_default.a.bool,isPieLabelOutside:prop_types_default.a.bool,pieLabelType:prop_types_default.a.oneOf(["key","value","percent","key_value","key_percent","key_value_percent"]),showLabels:prop_types_default.a.bool,// \'area\' only\nareaStackedStyle:prop_types_default.a.string,// \'bubble\' only\nentity:prop_types_default.a.string,maxBubbleSize:prop_types_default.a.number,xField:stringOrObjectWithLabelType,yField:stringOrObjectWithLabelType,sizeField:stringOrObjectWithLabelType,// time-pivot only\nbaseColor:rgbObjectType},NOOP=()=>{},formatter=Object(NumberFormatterRegistrySingleton["c" /* getNumberFormatter */])();// Limit on how large axes margins can grow as the chart window is resized\nfunction nvd3Vis(element,props){const{data,width:maxWidth,height:maxHeight,annotationData,annotationLayers=[],areaStackedStyle,baseColor,bottomMargin,colorScheme,comparisonType,contribution,entity,isBarStacked,isDonut,isPieLabelOutside,leftMargin,lineInterpolation="linear",markerLabels,markerLines,markerLineLabels,markers,maxBubbleSize,onBrushEnd=NOOP,onError=NOOP,orderBars,pieLabelType,rangeLabels,ranges,reduceXTicks=!1,showBarValue,showBrush,showControls,showLabels,showLegend,showMarkers,sizeField,useRichTooltip,vizType,xAxisFormat,numberFormat,xAxisLabel,xAxisShowMinMax=!1,xField,xIsLogScale,xTicksLayout,yAxisFormat,yAxis2Format,yAxisBounds,yAxisLabel,yAxisShowMinMax=!1,yField,yIsLogScale}=props,isExplore=null!==document.querySelector("#explorer-container"),container=element;container.innerHTML="";const activeAnnotationLayers=annotationLayers.filter(layer=>layer.show),chartId=container.parentElement&&""!==container.parentElement.id?container.parentElement.id:null;let chart,width=maxWidth,colorKey="key";container.style.width="".concat(maxWidth,"px");container.style.height="".concat(maxHeight,"px");function isVizTypes(types){return types.includes(vizType)}const drawGraph=function(){const d3Element=d3_default.a.select(element);d3Element.classed("superset-legacy-chart-nvd3",!0);d3Element.classed("superset-legacy-chart-nvd3-".concat(Object(lodash["kebabCase"])(vizType)),!0);let svg=d3Element.select("svg");if(svg.empty()){svg=d3Element.append("svg")}const height="bullet"===vizType?Math.min(maxHeight,50):maxHeight,isTimeSeries=isVizTypes(TIMESERIES_VIZ_TYPES),staggerLabels="staggered"===xTicksLayout,xLabelRotation="auto"===xTicksLayout&&isVizTypes(["column","dist_bar"])||"45\\xB0"===xTicksLayout?45:0;if(45===xLabelRotation&&Object(isTruthy["a" /* default */])(showBrush)){onError(Object(TranslatorSingleton["e" /* t */])("You cannot use 45\\xB0 tick layout along with the time range filter"));return null}const canShowBrush=Object(isTruthy["a" /* default */])(showBrush)||"auto"===showBrush&&maxHeight>=MIN_HEIGHT_FOR_BRUSH&&"45\\xB0"!==xTicksLayout,numberFormatter=Object(NumberFormatterRegistrySingleton["c" /* getNumberFormatter */])(numberFormat);switch(vizType){case"line":if(canShowBrush){chart=nv_d3_default.a.models.lineWithFocusChart();if(staggerLabels){// Give a bit more room to focus area if X axis ticks are staggered\nchart.focus.margin({bottom:40});chart.focusHeight(80)}chart.focus.xScale(d3_default.a.time.scale.utc())}else{chart=nv_d3_default.a.models.lineChart()}chart.xScale(d3_default.a.time.scale.utc());chart.interpolate(lineInterpolation);chart.clipEdge(!1);break;case"time_pivot":chart=nv_d3_default.a.models.lineChart();chart.xScale(d3_default.a.time.scale.utc());chart.interpolate(lineInterpolation);break;case"dual_line":case"line_multi":chart=nv_d3_default.a.models.multiChart();chart.interpolate(lineInterpolation);chart.xScale(d3_default.a.time.scale.utc());break;case"bar":chart=nv_d3_default.a.models.multiBarChart().showControls(showControls).groupSpacing(.1);if(!reduceXTicks){width=Object(utils["b" /* computeBarChartWidth */])(data,isBarStacked,maxWidth)}chart.width(width);chart.xAxis.showMaxMin(!1);chart.stacked(isBarStacked);break;case"dist_bar":chart=nv_d3_default.a.models.multiBarChart().showControls(showControls).reduceXTicks(reduceXTicks).groupSpacing(.1);// Distance between each group of bars.\nchart.xAxis.showMaxMin(!1);chart.stacked(isBarStacked);if(orderBars){data.forEach(d=>{d.values.sort((a,b)=>Object(utils["u" /* tryNumify */])(a.x)<Object(utils["u" /* tryNumify */])(b.x)?-1:1)})}if(!reduceXTicks){width=Object(utils["b" /* computeBarChartWidth */])(data,isBarStacked,maxWidth)}chart.width(width);break;case"pie":chart=nv_d3_default.a.models.pieChart();colorKey="x";chart.valueFormat(numberFormatter);if(isDonut){chart.donut(!0)}chart.showLabels(showLabels);chart.labelsOutside(isPieLabelOutside);// Configure the minimum slice size for labels to show up\nchart.labelThreshold(.05);chart.cornerRadius(!0);if(["key","value","percent"].includes(pieLabelType)){chart.labelType(pieLabelType)}else if("key_value"===pieLabelType){chart.labelType(d=>"".concat(d.data.x,": ").concat(numberFormatter(d.data.y)))}else{// pieLabelType in [\'key_percent\', \'key_value_percent\']\nconst total=d3_default.a.sum(data,d=>d.y),percentFormatter=Object(NumberFormatterRegistrySingleton["c" /* getNumberFormatter */])(NumberFormats["a" /* default */].PERCENT_2_POINT);if("key_percent"===pieLabelType){chart.tooltip.valueFormatter(d=>percentFormatter(d));chart.labelType(d=>"".concat(d.data.x,": ").concat(percentFormatter(d.data.y/total)))}else{// pieLabelType === \'key_value_percent\'\nchart.tooltip.valueFormatter(d=>"".concat(numberFormatter(d)," (").concat(percentFormatter(d/total),")"));chart.labelType(d=>"".concat(d.data.x,": ").concat(numberFormatter(d.data.y)," (").concat(percentFormatter(d.data.y/total),")"))}}// Pie chart does not need top margin\nchart.margin({top:0});break;case"column":chart=nv_d3_default.a.models.multiBarChart().reduceXTicks(!1);break;case"compare":chart=nv_d3_default.a.models.cumulativeLineChart();chart.xScale(d3_default.a.time.scale.utc());chart.useInteractiveGuideline(!0);chart.xAxis.showMaxMin(!1);break;case"bubble":chart=nv_d3_default.a.models.scatterChart();chart.showDistX(!1);chart.showDistY(!1);chart.tooltip.contentGenerator(d=>Object(utils["h" /* generateBubbleTooltipContent */])({point:d.point,entity,xField,yField,sizeField,xFormatter:Object(utils["o" /* getTimeOrNumberFormatter */])(xAxisFormat),yFormatter:Object(utils["o" /* getTimeOrNumberFormatter */])(yAxisFormat),sizeFormatter:formatter}));chart.pointRange([5,maxBubbleSize**2]);chart.pointDomain([0,d3_default.a.max(data,d=>d3_default.a.max(d.values,v=>v.size))]);break;case"area":chart=nv_d3_default.a.models.stackedAreaChart();chart.showControls(showControls);chart.style(areaStackedStyle);chart.xScale(d3_default.a.time.scale.utc());break;case"box_plot":colorKey="label";chart=nv_d3_default.a.models.boxPlotChart();chart.x(d=>d.label);chart.maxBoxWidth(75);// prevent boxes from being incredibly wide\nbreak;case"bullet":chart=nv_d3_default.a.models.bulletChart();data.rangeLabels=rangeLabels;data.ranges=ranges;data.markerLabels=markerLabels;data.markerLines=markerLines;data.markerLineLabels=markerLineLabels;data.markers=markers;break;default:throw new Error("Unrecognized visualization for nvd3".concat(vizType));}// Assuming the container has padding already other than for top margin\nchart.margin({left:0,right:0,bottom:0});if(showBarValue){Object(utils["e" /* drawBarValues */])(svg,data,isBarStacked,yAxisFormat);chart.dispatch.on("stateChange.drawBarValues",()=>{Object(utils["e" /* drawBarValues */])(svg,data,isBarStacked,yAxisFormat)})}if(canShowBrush&&onBrushEnd!==NOOP){if(chart.focus){chart.focus.dispatch.on("brush",event=>{const timeRange=Object(utils["s" /* stringifyTimeRange */])(event.extent);if(timeRange){event.brush.on("brushend",()=>{onBrushEnd(timeRange)})}})}}if(chart.xAxis&&chart.xAxis.staggerLabels){chart.xAxis.staggerLabels(staggerLabels)}if(chart.xAxis&&chart.xAxis.rotateLabels){chart.xAxis.rotateLabels(xLabelRotation)}if(chart.x2Axis&&chart.x2Axis.staggerLabels){chart.x2Axis.staggerLabels(staggerLabels)}if(chart.x2Axis&&chart.x2Axis.rotateLabels){chart.x2Axis.rotateLabels(xLabelRotation)}if("showLegend"in chart&&"undefined"!=typeof showLegend){if(width<BREAKPOINTS.small&&"pie"!==vizType){chart.showLegend(!1)}else{chart.showLegend(showLegend)}}if(yIsLogScale){chart.yScale(d3_default.a.scale.log())}if(xIsLogScale){chart.xScale(d3_default.a.scale.log())}let xAxisFormatter;if(isTimeSeries){xAxisFormatter=Object(TimeFormatterRegistrySingleton["d" /* getTimeFormatter */])(xAxisFormat);// In tooltips, always use the verbose time format\nchart.interactiveLayer.tooltip.headerFormatter(smartDateVerbose["a" /* default */])}else{xAxisFormatter=Object(utils["o" /* getTimeOrNumberFormatter */])(xAxisFormat)}if(chart.x2Axis&&chart.x2Axis.tickFormat){chart.x2Axis.tickFormat(xAxisFormatter)}if(chart.xAxis&&chart.xAxis.tickFormat){const isXAxisString=isVizTypes(["dist_bar","box_plot"]);if(isXAxisString){chart.xAxis.tickFormat(d=>d.length>MAX_NO_CHARACTERS_IN_LABEL?"".concat(d.slice(0,Math.max(0,MAX_NO_CHARACTERS_IN_LABEL)),"\\u2026"):d)}else{chart.xAxis.tickFormat(xAxisFormatter)}}let yAxisFormatter=Object(utils["o" /* getTimeOrNumberFormatter */])(yAxisFormat);if(chart.yAxis&&chart.yAxis.tickFormat){if((contribution||"percentage"===comparisonType)&&(!yAxisFormat||yAxisFormat===NumberFormats["a" /* default */].SMART_NUMBER||yAxisFormat===NumberFormats["a" /* default */].SMART_NUMBER_SIGNED)){// When computing a "Percentage" or "Contribution" selected,\n// force a percentage format if no custom formatting set\nyAxisFormatter=Object(NumberFormatterRegistrySingleton["c" /* getNumberFormatter */])(NumberFormats["a" /* default */].PERCENT_1_POINT)}chart.yAxis.tickFormat(yAxisFormatter)}if(chart.y2Axis&&chart.y2Axis.tickFormat){chart.y2Axis.tickFormat(yAxisFormatter)}if(chart.yAxis){chart.yAxis.ticks(5)}if(chart.y2Axis){chart.y2Axis.ticks(5)}// Set showMaxMin for all axis\nObject(utils["r" /* setAxisShowMaxMin */])(chart.xAxis,xAxisShowMinMax);Object(utils["r" /* setAxisShowMaxMin */])(chart.x2Axis,xAxisShowMinMax);Object(utils["r" /* setAxisShowMaxMin */])(chart.yAxis,yAxisShowMinMax);Object(utils["r" /* setAxisShowMaxMin */])(chart.y2Axis,yAxisShowMinMax);if("time_pivot"===vizType){if(baseColor){const{r,g,b}=baseColor;chart.color(d=>{const alpha=0<d.rank?.5*d.perc:1;return"rgba(".concat(r,", ").concat(g,", ").concat(b,", ").concat(alpha,")")})}chart.useInteractiveGuideline(!0);chart.interactiveLayer.tooltip.contentGenerator(d=>Object(utils["l" /* generateTimePivotTooltip */])(d,xAxisFormatter,yAxisFormatter))}else if("bullet"!==vizType){const colorFn=getScale(colorScheme);chart.color(d=>d.color||colorFn(Object(utils["a" /* cleanColorInput */])(d[colorKey])))}if(isVizTypes(["line","area"])&&useRichTooltip){chart.useInteractiveGuideline(!0);if("line"===vizType){chart.interactiveLayer.tooltip.contentGenerator(d=>Object(utils["k" /* generateRichLineTooltipContent */])(d,smartDateVerbose["a" /* default */],yAxisFormatter))}else{// area chart\nchart.interactiveLayer.tooltip.contentGenerator(d=>Object(utils["g" /* generateAreaChartTooltipContent */])(d,smartDateVerbose["a" /* default */],yAxisFormatter,chart))}}if(isVizTypes(["compare"])){chart.interactiveLayer.tooltip.contentGenerator(d=>Object(utils["i" /* generateCompareTooltipContent */])(d,yAxisFormatter))}if(isVizTypes(["dual_line","line_multi"])){const yAxisFormatter1=Object(NumberFormatterRegistrySingleton["c" /* getNumberFormatter */])(yAxisFormat),yAxisFormatter2=Object(NumberFormatterRegistrySingleton["c" /* getNumberFormatter */])(yAxis2Format);chart.yAxis1.tickFormat(yAxisFormatter1);chart.yAxis2.tickFormat(yAxisFormatter2);const yAxisFormatters=data.map(datum=>1===datum.yAxis?yAxisFormatter1:yAxisFormatter2);chart.useInteractiveGuideline(!0);chart.interactiveLayer.tooltip.contentGenerator(d=>Object(utils["j" /* generateMultiLineTooltipContent */])(d,xAxisFormatter,yAxisFormatters));if("dual_line"===vizType){chart.showLegend(width>BREAKPOINTS.small)}else{chart.showLegend(showLegend)}}// This is needed for correct chart dimensions if a chart is rendered in a hidden container\nchart.width(width);chart.height(height);svg.datum(data).transition().duration(500).attr("height",height).attr("width",width).call(chart);// For log scale, only show 1, 10, 100, 1000, ...\nif(yIsLogScale){chart.yAxis.tickFormat(d=>0!==d&&0==Math.log10(d)%1?yAxisFormatter(d):"")}if(0<xLabelRotation){// shift labels to the left so they look better\nconst xTicks=svg.select(".nv-x.nv-axis > g").selectAll("g");xTicks.selectAll("text").attr("dx",-6.5)}const applyYAxisBounds=()=>{if(chart.yDomain&&Array.isArray(yAxisBounds)&&2===yAxisBounds.length){const[customMin,customMax]=yAxisBounds,hasCustomMin=Object(isDefined["a" /* default */])(customMin)&&!Number.isNaN(customMin),hasCustomMax=Object(isDefined["a" /* default */])(customMax)&&!Number.isNaN(customMax);if((hasCustomMin||hasCustomMax)&&"area"===vizType&&"expand"===chart.style()){// Because there are custom bounds, we need to override them back to 0%-100% since this\n// is an expanded area chart\nchart.yDomain([0,1])}else if((hasCustomMin||hasCustomMax)&&"area"===vizType&&"stream"===chart.style()){// Because there are custom bounds, we need to override them back to the domain of the\n// data since this is a stream area chart\nchart.yDomain(Object(utils["c" /* computeStackedYDomain */])(data))}else if(hasCustomMin&&hasCustomMax){// Override the y domain if there\'s both a custom min and max\nchart.yDomain([customMin,customMax]);chart.clipEdge(!0)}else if(hasCustomMin||hasCustomMax){// Only one of the bounds has been set, so we need to manually calculate the other one\nlet[trueMin,trueMax]=[0,1];// These viz types can be stacked\n// They correspond to the nvd3 stackedAreaChart and multiBarChart\nif("area"===vizType||isVizTypes(["bar","dist_bar"])&&chart.stacked()){// This is a stacked area chart or a stacked bar chart\n[trueMin,trueMax]=Object(utils["c" /* computeStackedYDomain */])(data)}else{[trueMin,trueMax]=Object(utils["d" /* computeYDomain */])(data)}const min=hasCustomMin?customMin:trueMin,max=hasCustomMax?customMax:trueMax;chart.yDomain([min,max]);chart.clipEdge(!0)}}};applyYAxisBounds();// Also reapply on each state change to account for enabled/disabled series\nif(chart.dispatch&&chart.dispatch.stateChange){chart.dispatch.on("stateChange.applyYAxisBounds",applyYAxisBounds)}// align yAxis1 and yAxis2 ticks\nif(isVizTypes(["dual_line","line_multi"])){const count=chart.yAxis1.ticks(),ticks1=chart.yAxis1.scale().domain(chart.yAxis1.domain()).nice(count).ticks(count),ticks2=chart.yAxis2.scale().domain(chart.yAxis2.domain()).nice(count).ticks(count),difference=ticks1.length-ticks2.length;if(0<ticks1.length&&0<ticks2.length&&0!==difference){const smallest=0>difference?ticks1:ticks2,delta=smallest[1]-smallest[0];for(let i=0;i<Math.abs(difference);i++){if(0==i%2){smallest.unshift(smallest[0]-delta)}else{smallest.push(smallest[smallest.length-1]+delta)}}chart.yDomain1([ticks1[0],ticks1[ticks1.length-1]]);chart.yDomain2([ticks2[0],ticks2[ticks2.length-1]]);chart.yAxis1.tickValues(ticks1);chart.yAxis2.tickValues(ticks2)}}if(showMarkers){svg.selectAll(".nv-point").style("stroke-opacity",1).style("fill-opacity",1);// redo on legend toggle; nvd3 calls the callback *before* the line is\n// drawn, so we need to add a small delay here\nchart.dispatch.on("stateChange.showMarkers",()=>{setTimeout(()=>{svg.selectAll(".nv-point").style("stroke-opacity",1).style("fill-opacity",1)},10)})}if(chart.yAxis!==void 0||chart.yAxis2!==void 0){// Hack to adjust y axis left margin to accommodate long numbers\nconst marginPad=Math.ceil(Math.min(maxWidth*(isExplore?.01:.03),MAX_MARGIN_PAD)),margins=chart.margin();// Hack to adjust margins to accommodate long axis tick labels.\n// - has to be done only after the chart has been rendered once\n// - measure the width or height of the labels\n// ---- (x axis labels are rotated 45 degrees so we use height),\n// - adjust margins based on these measures and render again\nif(chart.xAxis){margins.bottom=28}const maxYAxisLabelWidth=Object(utils["n" /* getMaxLabelSize */])(svg,chart.yAxis2?"nv-y1":"nv-y"),maxXAxisLabelHeight=Object(utils["n" /* getMaxLabelSize */])(svg,"nv-x");margins.left=maxYAxisLabelWidth+marginPad;if(yAxisLabel&&""!==yAxisLabel){margins.left+=25}if(showBarValue){// Add more margin to avoid label colliding with legend.\nmargins.top+=24}if(xAxisShowMinMax){// If x bounds are shown, we need a right margin\nmargins.right=Math.max(20,maxXAxisLabelHeight/2)+marginPad}if(45===xLabelRotation){margins.bottom=maxXAxisLabelHeight*Math.sin(Math.PI*xLabelRotation/180)+marginPad+30;margins.right=maxXAxisLabelHeight*Math.cos(Math.PI*xLabelRotation/180)+marginPad}else if(staggerLabels){margins.bottom=40}if(isVizTypes(["dual_line","line_multi"])){const maxYAxis2LabelWidth=Object(utils["n" /* getMaxLabelSize */])(svg,"nv-y2");margins.right=maxYAxis2LabelWidth+marginPad}if(bottomMargin&&"auto"!==bottomMargin){margins.bottom=parseInt(bottomMargin,10)}if(leftMargin&&"auto"!==leftMargin){margins.left=leftMargin}if(xAxisLabel&&""!==xAxisLabel&&chart.xAxis){margins.bottom+=25;let distance=0;if(margins.bottom&&!Number.isNaN(margins.bottom)){distance=margins.bottom-45}// nvd3 bug axisLabelDistance is disregarded on xAxis\n// https://github.com/krispo/angular-nvd3/issues/90\nchart.xAxis.axisLabel(xAxisLabel).axisLabelDistance(distance)}if(yAxisLabel&&""!==yAxisLabel&&chart.yAxis){let distance=0;if(margins.left&&!Number.isNaN(margins.left)){distance=margins.left-70}chart.yAxis.axisLabel(yAxisLabel).axisLabelDistance(distance)}if(isTimeSeries&&annotationData&&0<activeAnnotationLayers.length){// Time series annotations add additional data\nconst timeSeriesAnnotations=activeAnnotationLayers.filter(layer=>layer.annotationType===AnnotationTypes["c" /* default */].TIME_SERIES).reduce((bushel,a)=>bushel.concat((annotationData[a.name]||[]).map(series=>{if(!series){return{}}const key=Array.isArray(series.key)?"".concat(a.name,", ").concat(series.key.join(", ")):"".concat(a.name,", ").concat(series.key);return _objectSpread({},series,{key,color:a.color,strokeWidth:a.width,classed:"".concat(a.opacity," ").concat(a.style," nv-timeseries-annotation-layer showMarkers").concat(a.showMarkers," hideLine").concat(a.hideLine)})})),[]);data.push(...timeSeriesAnnotations)}// Uniquely identify tooltips based on chartId so this chart instance only\n// controls its own tooltips\nif(chartId){if(chart&&chart.interactiveLayer&&chart.interactiveLayer.tooltip){chart.interactiveLayer.tooltip.classes([Object(utils["m" /* generateTooltipClassName */])(chartId)])}if(chart&&chart.tooltip){chart.tooltip.classes([Object(utils["m" /* generateTooltipClassName */])(chartId)])}}// render chart\nchart.margin(margins);svg.datum(data).transition().duration(500).attr("width",width).attr("height",height).call(chart);// On scroll, hide (not remove) tooltips so they can reappear on hover.\n// Throttle to only 4x/second.\nwindow.addEventListener("scroll",Object(lodash["throttle"])(()=>Object(utils["p" /* hideTooltips */])(!1),250));// The below code should be run AFTER rendering because chart is updated in call()\nif(isTimeSeries&&0<activeAnnotationLayers.length){// Formula annotations\nconst formulas=activeAnnotationLayers.filter(a=>a.annotationType===AnnotationTypes["c" /* default */].FORMULA).map(a=>_objectSpread({},a,{formula:Object(impureFunctionsAny_generated["z" /* parse */])(a.value)}));let xMax,xMin,xScale;if("bar"===vizType){xMin=d3_default.a.min(data[0].values,d=>d.x);xMax=d3_default.a.max(data[0].values,d=>d.x);xScale=d3_default.a.scale.quantile().domain([xMin,xMax]).range(chart.xAxis.range())}else{xMin=chart.xAxis.scale().domain()[0].valueOf();xMax=chart.xAxis.scale().domain()[1].valueOf();if(chart.xScale){xScale=chart.xScale()}else if(chart.xAxis.scale){xScale=chart.xAxis.scale()}else{xScale=d3_default.a.scale.linear()}}if(xScale&&xScale.clamp){xScale.clamp(!0)}if(0<formulas.length){const xValues=[];if("bar"===vizType){// For bar-charts we want one data point evaluated for every\n// data point that will be displayed.\nconst distinct=data.reduce((xVals,d)=>{d.values.forEach(x=>xVals.add(x.x));return xVals},new Set);xValues.push(...distinct.values());xValues.sort()}else{// For every other time visualization it should be ok, to have a\n// data points in even intervals.\nlet period=Math.min(...data.map(d=>Math.min(...d.values.slice(1).map((v,i)=>v.x-d.values[i].x))));const dataPoints=(xMax-xMin)/(period||1);// make sure that there are enough data points and not too many\nperiod=100>dataPoints?(xMax-xMin)/100:period;period=500<dataPoints?(xMax-xMin)/500:period;xValues.push(xMin);for(let x=xMin;x<xMax;x+=period){xValues.push(x)}xValues.push(xMax)}const formulaData=formulas.map(fo=>({key:fo.name,values:xValues.map(x=>({y:fo.formula.evaluate({x}),x})),color:fo.color,strokeWidth:fo.width,classed:"".concat(fo.opacity," ").concat(fo.style)}));data.push(...formulaData)}const xAxis=chart.xAxis1?chart.xAxis1:chart.xAxis,yAxis=chart.yAxis1?chart.yAxis1:chart.yAxis,chartWidth=xAxis.scale().range()[1],annotationHeight=yAxis.scale().range()[0];if(annotationData){// Event annotations\nactiveAnnotationLayers.filter(x=>x.annotationType===AnnotationTypes["c" /* default */].EVENT&&annotationData&&annotationData[x.name]).forEach((config,index)=>{const e=Object(AnnotationTypes["b" /* applyNativeColumns */])(config),annotations=d3_default.a.select(element).select(".nv-wrap").append("g").attr("class","nv-event-annotation-layer-".concat(index)),aColor=e.color||getColor(Object(utils["a" /* cleanColorInput */])(e.name),colorScheme),tip=Object(utils["t" /* tipFactory */])(_objectSpread({},e,{annotationTipClass:"arrow-down nv-event-annotation-layer-".concat(config.sourceType)})),records=(annotationData[e.name].records||[]).map(r=>{const timeValue=new Date(moment_default.a.utc(r[e.timeColumn]));return _objectSpread({},r,{[e.timeColumn]:timeValue})}).filter(record=>!Number.isNaN(record[e.timeColumn].getMilliseconds()));// Add event annotation layer\nif(0<records.length){annotations.selectAll("line").data(records).enter().append("line").attr({x1:d=>xScale(new Date(d[e.timeColumn])),y1:0,x2:d=>xScale(new Date(d[e.timeColumn])),y2:annotationHeight}).attr("class","".concat(e.opacity," ").concat(e.style)).style("stroke",aColor).style("stroke-width",e.width).on("mouseover",tip.show).on("mouseout",tip.hide).call(tip)}// update annotation positions on brush event\nif(chart.focus){chart.focus.dispatch.on("onBrush.event-annotation",()=>{annotations.selectAll("line").data(records).attr({x1:d=>xScale(new Date(d[e.timeColumn])),y1:0,x2:d=>xScale(new Date(d[e.timeColumn])),y2:annotationHeight,opacity:d=>{const x=xScale(new Date(d[e.timeColumn]));return 0<x&&x<chartWidth?1:0}})})}});// Interval annotations\nactiveAnnotationLayers.filter(x=>x.annotationType===AnnotationTypes["c" /* default */].INTERVAL&&annotationData&&annotationData[x.name]).forEach((config,index)=>{const e=Object(AnnotationTypes["b" /* applyNativeColumns */])(config),annotations=d3_default.a.select(element).select(".nv-wrap").append("g").attr("class","nv-interval-annotation-layer-".concat(index)),aColor=e.color||getColor(Object(utils["a" /* cleanColorInput */])(e.name),colorScheme),tip=Object(utils["t" /* tipFactory */])(e),records=(annotationData[e.name].records||[]).map(r=>{const timeValue=new Date(moment_default.a.utc(r[e.timeColumn])),intervalEndValue=new Date(moment_default.a.utc(r[e.intervalEndColumn]));return _objectSpread({},r,{[e.timeColumn]:timeValue,[e.intervalEndColumn]:intervalEndValue})}).filter(record=>!Number.isNaN(record[e.timeColumn].getMilliseconds())&&!Number.isNaN(record[e.intervalEndColumn].getMilliseconds()));// Add interval annotation layer\nif(0<records.length){annotations.selectAll("rect").data(records).enter().append("rect").attr({x:d=>Math.min(xScale(new Date(d[e.timeColumn])),xScale(new Date(d[e.intervalEndColumn]))),y:0,width:d=>Math.max(Math.abs(xScale(new Date(d[e.intervalEndColumn]))-xScale(new Date(d[e.timeColumn]))),1),height:annotationHeight}).attr("class","".concat(e.opacity," ").concat(e.style)).style("stroke-width",e.width).style("stroke",aColor).style("fill",aColor).style("fill-opacity",.2).on("mouseover",tip.show).on("mouseout",tip.hide).call(tip)}// update annotation positions on brush event\nif(chart.focus){chart.focus.dispatch.on("onBrush.interval-annotation",()=>{annotations.selectAll("rect").data(records).attr({x:d=>xScale(new Date(d[e.timeColumn])),width:d=>{const x1=xScale(new Date(d[e.timeColumn])),x2=xScale(new Date(d[e.intervalEndColumn]));return x2-x1}})})}})}// rerender chart appended with annotation layer\nsvg.datum(data).attr("height",height).attr("width",width).call(chart);// Display styles for Time Series Annotations\nchart.dispatch.on("renderEnd.timeseries-annotation",()=>{d3_default.a.selectAll(".slice_container .nv-timeseries-annotation-layer.showMarkerstrue .nv-point").style("stroke-opacity",1).style("fill-opacity",1);d3_default.a.selectAll(".slice_container .nv-timeseries-annotation-layer.hideLinetrue").style("stroke-width",0)})}}Object(utils["v" /* wrapTooltip */])(chart,maxWidth);return chart};// Remove tooltips before rendering chart, if the chart is being re-rendered sometimes\n// there are left over tooltips in the dom,\n// this will clear them before rendering the chart again.\nif(chartId){Object(utils["q" /* removeTooltip */])(chartId)}else{Object(utils["p" /* hideTooltips */])(!0)}nv_d3_default.a.addGraph(drawGraph)}nvd3Vis.displayName="NVD3";nvd3Vis.propTypes=propTypes;/* harmony default export */ var NVD3Vis = (nvd3Vis);\n// CONCATENATED MODULE: /Users/kamilgabryjelski/projects/superset-ui/plugins/legacy-preset-chart-nvd3/src/ReactNVD3.jsx\nfunction _templateObject(){const data=_taggedTemplateLiteral(["\\n  .superset-legacy-chart-nvd3-dist-bar {\\n    overflow-x: auto !important;\\n    svg {\\n      &.nvd3-svg {\\n        width: auto;\\n        font-size: ",";\\n      }\\n    }\\n  }\\n  .superset-legacy-chart-nvd3 {\\n    nv-x text {\\n      font-size: ",";\\n    }\\n    g.superset path {\\n      stroke-dasharray: 5, 5;\\n    }\\n    .nvtooltip tr.highlight td {\\n      font-weight: ",";\\n      font-size: 15px !important;\\n    }\\n    text.nv-axislabel {\\n      font-size: "," !important;\\n    }\\n    g.solid path,\\n    line.solid {\\n      stroke-dasharray: unset;\\n    }\\n    g.dashed path,\\n    line.dashed {\\n      stroke-dasharray: 5, 5;\\n    }\\n    g.longDashed path,\\n    line.dotted {\\n      stroke-dasharray: 1, 1;\\n    }\\n\\n    g.opacityLow path,\\n    line.opacityLow {\\n      stroke-opacity: 0.2;\\n    }\\n\\n    g.opacityMedium path,\\n    line.opacityMedium {\\n      stroke-opacity: 0.5;\\n    }\\n    g.opacityHigh path,\\n    line.opacityHigh {\\n      stroke-opacity: 0.8;\\n    }\\n    g.time-shift-0 path,\\n    line.time-shift-0 {\\n      stroke-dasharray: 5, 5;\\n    }\\n    g.time-shift-1 path,\\n    line.time-shift-1 {\\n      stroke-dasharray: 1, 5;\\n    }\\n    g.time-shift-2 path,\\n    line.time-shift-3 {\\n      stroke-dasharray: 5, 1;\\n    }\\n    g.time-shift-3 path,\\n    line.time-shift-3 {\\n      stroke-dasharray: 5, 1;\\n    }\\n    g.time-shift-4 path,\\n    line.time-shift-4 {\\n      stroke-dasharray: 5, 10;\\n    }\\n    g.time-shift-5 path,\\n    line.time-shift-5 {\\n      stroke-dasharray: 0.9;\\n    }\\n    g.time-shift-6 path,\\n    line.time-shift-6 {\\n      stroke-dasharray: 15, 10, 5;\\n    }\\n    g.time-shift-7 path,\\n    line.time-shift-7 {\\n      stroke-dasharray: 15, 10, 5, 10;\\n    }\\n    g.time-shift-8 path,\\n    line.time-shift-8 {\\n      stroke-dasharray: 15, 10, 5, 10, 15;\\n    }\\n    g.time-shift-9 path,\\n    line.time-shift-9 {\\n      stroke-dasharray: 5, 5, 1, 5;\\n    }\\n    .nv-noData.body {\\n      font-size: ",";\\n      font-weight: ",";\\n    }\\n  }\\n  .superset-legacy-chart-nvd3-tr-highlight {\\n    border-top: 1px solid;\\n    border-bottom: 1px solid;\\n    font-weight: ",";\\n  }\\n  .superset-legacy-chart-nvd3-tr-total {\\n    font-weight: ",";\\n  }\\n  .nvtooltip {\\n    .tooltip-header {\\n      white-space: nowrap;\\n      font-weight: ",void 0,";\\n      color: #484848;\\n      position: absolute;\\n      bottom: -14px;\\n      left: 94px;\\n    }\\n  }\\n"],["\\n  .superset-legacy-chart-nvd3-dist-bar {\\n    overflow-x: auto !important;\\n    svg {\\n      &.nvd3-svg {\\n        width: auto;\\n        font-size: ",";\\n      }\\n    }\\n  }\\n  .superset-legacy-chart-nvd3 {\\n    nv-x text {\\n      font-size: ",";\\n    }\\n    g.superset path {\\n      stroke-dasharray: 5, 5;\\n    }\\n    .nvtooltip tr.highlight td {\\n      font-weight: ",";\\n      font-size: 15px !important;\\n    }\\n    text.nv-axislabel {\\n      font-size: "," !important;\\n    }\\n    g.solid path,\\n    line.solid {\\n      stroke-dasharray: unset;\\n    }\\n    g.dashed path,\\n    line.dashed {\\n      stroke-dasharray: 5, 5;\\n    }\\n    g.longDashed path,\\n    line.dotted {\\n      stroke-dasharray: 1, 1;\\n    }\\n\\n    g.opacityLow path,\\n    line.opacityLow {\\n      stroke-opacity: 0.2;\\n    }\\n\\n    g.opacityMedium path,\\n    line.opacityMedium {\\n      stroke-opacity: 0.5;\\n    }\\n    g.opacityHigh path,\\n    line.opacityHigh {\\n      stroke-opacity: 0.8;\\n    }\\n    g.time-shift-0 path,\\n    line.time-shift-0 {\\n      stroke-dasharray: 5, 5;\\n    }\\n    g.time-shift-1 path,\\n    line.time-shift-1 {\\n      stroke-dasharray: 1, 5;\\n    }\\n    g.time-shift-2 path,\\n    line.time-shift-3 {\\n      stroke-dasharray: 5, 1;\\n    }\\n    g.time-shift-3 path,\\n    line.time-shift-3 {\\n      stroke-dasharray: 5, 1;\\n    }\\n    g.time-shift-4 path,\\n    line.time-shift-4 {\\n      stroke-dasharray: 5, 10;\\n    }\\n    g.time-shift-5 path,\\n    line.time-shift-5 {\\n      stroke-dasharray: 0.9;\\n    }\\n    g.time-shift-6 path,\\n    line.time-shift-6 {\\n      stroke-dasharray: 15, 10, 5;\\n    }\\n    g.time-shift-7 path,\\n    line.time-shift-7 {\\n      stroke-dasharray: 15, 10, 5, 10;\\n    }\\n    g.time-shift-8 path,\\n    line.time-shift-8 {\\n      stroke-dasharray: 15, 10, 5, 10, 15;\\n    }\\n    g.time-shift-9 path,\\n    line.time-shift-9 {\\n      stroke-dasharray: 5, 5, 1, 5;\\n    }\\n    .nv-noData.body {\\n      font-size: ",";\\n      font-weight: ",";\\n    }\\n  }\\n  .superset-legacy-chart-nvd3-tr-highlight {\\n    border-top: 1px solid;\\n    border-bottom: 1px solid;\\n    font-weight: ",";\\n  }\\n  .superset-legacy-chart-nvd3-tr-total {\\n    font-weight: ",";\\n  }\\n  .nvtooltip {\\n    .tooltip-header {\\n      white-space: nowrap;\\n      font-weight: ",";\\n    }\\n    tbody tr:not(.tooltip-header) td:nth-child(2) {\\n      word-break: break-word;\\n    }\\n  }\\n  .d3-tip.nv-event-annotation-layer-table,\\n  .d3-tip.nv-event-annotation-layer-NATIVE {\\n    width: 200px;\\n    border-radius: 2px;\\n    background-color: #484848;\\n    fill-opacity: 0.6;\\n    margin: 8px;\\n    padding: 8px;\\n    color: #fff;\\n    &:after {\\n      content: \'\\\\25BC\';\\n      font-size: ",";\\n      color: #484848;\\n      position: absolute;\\n      bottom: -14px;\\n      left: 94px;\\n    }\\n  }\\n"]);_templateObject=function(){return data};return data}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}function _objectWithoutProperties(source,excluded){if(null==source)return{};var target=_objectWithoutPropertiesLoose(source,excluded),key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(0<=excluded.indexOf(key))continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var target={},sourceKeys=Object.keys(source),key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(0<=excluded.indexOf(key))continue;target[key]=source[key]}return target}/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * "License"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */function componentWillUnmount(){const{id}=this.props;if(null!==id&&id!==void 0){Object(utils["q" /* removeTooltip */])(id)}else{Object(utils["p" /* hideTooltips */])(!0)}}const ReactNVD3=Object(src["reactify"])(NVD3Vis,{componentWillUnmount}),NVD3=(_ref)=>{let{className}=_ref,otherProps=_objectWithoutProperties(_ref,["className"]);return/*#__PURE__*/react_default.a.createElement("div",{className:className},/*#__PURE__*/react_default.a.createElement(ReactNVD3,otherProps))};NVD3.displayName="NVD3";NVD3.propTypes={className:prop_types_default.a.string.isRequired};/* harmony default export */ var src_ReactNVD3 = __webpack_exports__["default"] = (Object(style["c" /* styled */])(NVD3)(_templateObject(),({theme})=>theme.typography.sizes.m,({theme})=>theme.typography.sizes.m,({theme})=>theme.typography.weights.bold,({theme})=>theme.typography.sizes.m,({theme})=>theme.typography.sizes.m,({theme})=>theme.typography.weights.normal,({theme})=>theme.typography.weights.bold,({theme})=>theme.typography.weights.bold,({theme})=>theme.typography.weights.bold,({theme})=>theme.typography.sizes.m));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjUwNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vVXNlcnMva2FtaWxnYWJyeWplbHNraS9wcm9qZWN0cy9zdXBlcnNldC11aS9wbHVnaW5zL2xlZ2FjeS1wcmVzZXQtY2hhcnQtbnZkMy9zcmMvUHJvcFR5cGVzLmpzPzRiMjYiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9rYW1pbGdhYnJ5amVsc2tpL3Byb2plY3RzL3N1cGVyc2V0LXVpL3BsdWdpbnMvbGVnYWN5LXByZXNldC1jaGFydC1udmQzL3NyYy9OVkQzVmlzLmpzPzkzYmMiLCJ3ZWJwYWNrOi8vLy9Vc2Vycy9rYW1pbGdhYnJ5amVsc2tpL3Byb2plY3RzL3N1cGVyc2V0LXVpL3BsdWdpbnMvbGVnYWN5LXByZXNldC1jaGFydC1udmQzL3NyYy9SZWFjdE5WRDMuanN4PzZjYjciXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyogZXNsaW50LWRpc2FibGUgcmVhY3Qvc29ydC1wcm9wLXR5cGVzICovXG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHsgQU5OT1RBVElPTl9UWVBFUyB9IGZyb20gJy4vdmVuZG9yL3N1cGVyc2V0L0Fubm90YXRpb25UeXBlcyc7XG5cbmV4cG9ydCBjb25zdCBudW1iZXJPckF1dG9UeXBlID0gUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLm9uZU9mKFsnYXV0byddKV0pO1xuXG5leHBvcnQgY29uc3Qgc3RyaW5nT3JPYmplY3RXaXRoTGFiZWxUeXBlID0gUHJvcFR5cGVzLm9uZU9mVHlwZShbXG4gIFByb3BUeXBlcy5zdHJpbmcsXG4gIFByb3BUeXBlcy5zaGFwZSh7XG4gICAgbGFiZWw6IFByb3BUeXBlcy5zdHJpbmcsXG4gIH0pLFxuXSk7XG5cbmV4cG9ydCBjb25zdCByZ2JPYmplY3RUeXBlID0gUHJvcFR5cGVzLnNoYXBlKHtcbiAgcjogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBnOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gIGI6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbn0pO1xuXG5leHBvcnQgY29uc3QgbnVtZXJpY1hZVHlwZSA9IFByb3BUeXBlcy5zaGFwZSh7XG4gIHg6IFByb3BUeXBlcy5udW1iZXIsXG4gIHk6IFByb3BUeXBlcy5udW1iZXIsXG59KTtcblxuZXhwb3J0IGNvbnN0IGNhdGVnb3J5QW5kVmFsdWVYWVR5cGUgPSBQcm9wVHlwZXMuc2hhcGUoe1xuICB4OiBQcm9wVHlwZXMuc3RyaW5nLFxuICB5OiBQcm9wVHlwZXMubnVtYmVyLFxufSk7XG5cbmV4cG9ydCBjb25zdCBib3hQbG90VmFsdWVUeXBlID0gUHJvcFR5cGVzLnNoYXBlKHtcbiAgb3V0bGllcnM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5udW1iZXIpLFxuICBRMTogUHJvcFR5cGVzLm51bWJlcixcbiAgUTI6IFByb3BUeXBlcy5udW1iZXIsXG4gIFEzOiBQcm9wVHlwZXMubnVtYmVyLFxuICB3aGlza2VyX2hpZ2g6IFByb3BUeXBlcy5udW1iZXIsXG4gIHdoaXNrZXJfbG93OiBQcm9wVHlwZXMubnVtYmVyLFxufSk7XG5cbmV4cG9ydCBjb25zdCBidWxsZXREYXRhVHlwZSA9IFByb3BUeXBlcy5zaGFwZSh7XG4gIG1hcmtlckxhYmVsczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLnN0cmluZyksXG4gIG1hcmtlckxpbmVMYWJlbHM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zdHJpbmcpLFxuICBtYXJrZXJMaW5lczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm51bWJlciksXG4gIG1hcmtlcnM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5udW1iZXIpLFxuICBtZWFzdXJlczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm51bWJlciksXG4gIHJhbmdlTGFiZWxzOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuc3RyaW5nKSxcbiAgcmFuZ2VzOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMubnVtYmVyKSxcbn0pO1xuXG5leHBvcnQgY29uc3QgYW5ub3RhdGlvbkxheWVyVHlwZSA9IFByb3BUeXBlcy5zaGFwZSh7XG4gIGFubm90YXRpb25UeXBlOiBQcm9wVHlwZXMub25lT2YoT2JqZWN0LmtleXMoQU5OT1RBVElPTl9UWVBFUykpLFxuICBjb2xvcjogUHJvcFR5cGVzLnN0cmluZyxcbiAgaGlkZUxpbmU6IFByb3BUeXBlcy5ib29sLFxuICBuYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBvcGFjaXR5OiBQcm9wVHlwZXMuc3RyaW5nLFxuICBzaG93OiBQcm9wVHlwZXMuYm9vbCxcbiAgc2hvd01hcmtlcnM6IFByb3BUeXBlcy5ib29sLFxuICBzb3VyY2VUeXBlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBzdHlsZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgdmFsdWU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5udW1iZXIsIFByb3BUeXBlcy5zdHJpbmddKSxcbiAgd2lkdGg6IFByb3BUeXBlcy5udW1iZXIsXG59KTtcbiIsIi8qIGVzbGludC1kaXNhYmxlIHJlYWN0L3NvcnQtcHJvcC10eXBlcyAqL1xuLyoqXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHsga2ViYWJDYXNlLCB0aHJvdHRsZSB9IGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IG52IGZyb20gJ252ZDMtZm9yayc7XG5pbXBvcnQgeyBwYXJzZSBhcyBtYXRoanNQYXJzZSB9IGZyb20gJ21hdGhqcyc7XG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHtcbiAgdCxcbiAgaXNEZWZpbmVkLFxuICBnZXRUaW1lRm9ybWF0dGVyLFxuICBzbWFydERhdGVWZXJib3NlRm9ybWF0dGVyLFxuICBnZXROdW1iZXJGb3JtYXR0ZXIsXG4gIE51bWJlckZvcm1hdHMsXG4gIENhdGVnb3JpY2FsQ29sb3JOYW1lc3BhY2UsXG59IGZyb20gJ0BzdXBlcnNldC11aS9jb3JlJztcblxuaW1wb3J0ICdudmQzLWZvcmsvYnVpbGQvbnYuZDMuY3NzJztcblxuLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lICovXG5pbXBvcnQgQU5OT1RBVElPTl9UWVBFUywgeyBhcHBseU5hdGl2ZUNvbHVtbnMgfSBmcm9tICcuL3ZlbmRvci9zdXBlcnNldC9Bbm5vdGF0aW9uVHlwZXMnO1xuaW1wb3J0IGlzVHJ1dGh5IGZyb20gJy4vdXRpbHMvaXNUcnV0aHknO1xuaW1wb3J0IHtcbiAgY2xlYW5Db2xvcklucHV0LFxuICBjb21wdXRlQmFyQ2hhcnRXaWR0aCxcbiAgY29tcHV0ZVlEb21haW4sXG4gIGNvbXB1dGVTdGFja2VkWURvbWFpbixcbiAgZHJhd0JhclZhbHVlcyxcbiAgZ2VuZXJhdGVCdWJibGVUb29sdGlwQ29udGVudCxcbiAgZ2VuZXJhdGVDb21wYXJlVG9vbHRpcENvbnRlbnQsXG4gIGdlbmVyYXRlTXVsdGlMaW5lVG9vbHRpcENvbnRlbnQsXG4gIGdlbmVyYXRlUmljaExpbmVUb29sdGlwQ29udGVudCxcbiAgZ2VuZXJhdGVUaW1lUGl2b3RUb29sdGlwLFxuICBnZW5lcmF0ZVRvb2x0aXBDbGFzc05hbWUsXG4gIGdlbmVyYXRlQXJlYUNoYXJ0VG9vbHRpcENvbnRlbnQsXG4gIGdldE1heExhYmVsU2l6ZSxcbiAgZ2V0VGltZU9yTnVtYmVyRm9ybWF0dGVyLFxuICBoaWRlVG9vbHRpcHMsXG4gIHRpcEZhY3RvcnksXG4gIHRyeU51bWlmeSxcbiAgcmVtb3ZlVG9vbHRpcCxcbiAgc2V0QXhpc1Nob3dNYXhNaW4sXG4gIHN0cmluZ2lmeVRpbWVSYW5nZSxcbiAgd3JhcFRvb2x0aXAsXG59IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHtcbiAgYW5ub3RhdGlvbkxheWVyVHlwZSxcbiAgYm94UGxvdFZhbHVlVHlwZSxcbiAgYnVsbGV0RGF0YVR5cGUsXG4gIGNhdGVnb3J5QW5kVmFsdWVYWVR5cGUsXG4gIHJnYk9iamVjdFR5cGUsXG4gIG51bWVyaWNYWVR5cGUsXG4gIG51bWJlck9yQXV0b1R5cGUsXG4gIHN0cmluZ09yT2JqZWN0V2l0aExhYmVsVHlwZSxcbn0gZnJvbSAnLi9Qcm9wVHlwZXMnO1xuXG5jb25zdCBOT19EQVRBX1JFTkRFUl9EQVRBID0gW1xuICB7IHRleHQ6ICdObyBkYXRhJywgZHk6ICctLjc1ZW0nLCBjbGFzczogJ2hlYWRlcicgfSxcbiAgeyB0ZXh0OiAnQWRqdXN0IGZpbHRlcnMgb3IgY2hlY2sgdGhlIERhdGFzb3VyY2UuJywgZHk6ICcuNzVlbScsIGNsYXNzOiAnYm9keScgfSxcbl07XG5cbi8vIE92ZXJyaWRlIHRoZSBub0RhdGEgcmVuZGVyIGZ1bmN0aW9uIHRvIG1ha2UgYSBwcmV0dGllciBVWFxuLy8gQ29kZSBhZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL25vdnVzL252ZDMvYmxvYi9tYXN0ZXIvc3JjL3V0aWxzLmpzI0w2NTNcbm52LnV0aWxzLm5vRGF0YSA9IGZ1bmN0aW9uIG5vRGF0YShjaGFydCwgY29udGFpbmVyKSB7XG4gIGNvbnN0IG9wdCA9IGNoYXJ0Lm9wdGlvbnMoKTtcbiAgY29uc3QgbWFyZ2luID0gb3B0Lm1hcmdpbigpO1xuICBjb25zdCBoZWlnaHQgPSBudi51dGlscy5hdmFpbGFibGVIZWlnaHQobnVsbCwgY29udGFpbmVyLCBtYXJnaW4pO1xuICBjb25zdCB3aWR0aCA9IG52LnV0aWxzLmF2YWlsYWJsZVdpZHRoKG51bGwsIGNvbnRhaW5lciwgbWFyZ2luKTtcbiAgY29uc3QgeCA9IG1hcmdpbi5sZWZ0ICsgd2lkdGggLyAyO1xuICBjb25zdCB5ID0gbWFyZ2luLnRvcCArIGhlaWdodCAvIDI7XG5cbiAgLy8gUmVtb3ZlIGFueSBwcmV2aW91c2x5IGNyZWF0ZWQgY2hhcnQgY29tcG9uZW50c1xuICBjb250YWluZXIuc2VsZWN0QWxsKCdnJykucmVtb3ZlKCk7XG5cbiAgY29uc3Qgbm9EYXRhVGV4dCA9IGNvbnRhaW5lci5zZWxlY3RBbGwoJy5udi1ub0RhdGEnKS5kYXRhKE5PX0RBVEFfUkVOREVSX0RBVEEpO1xuXG4gIG5vRGF0YVRleHRcbiAgICAuZW50ZXIoKVxuICAgIC5hcHBlbmQoJ3RleHQnKVxuICAgIC5hdHRyKCdjbGFzcycsIGQgPT4gYG52ZDMgbnYtbm9EYXRhICR7ZC5jbGFzc31gKVxuICAgIC5hdHRyKCdkeScsIGQgPT4gZC5keSlcbiAgICAuc3R5bGUoJ3RleHQtYW5jaG9yJywgJ21pZGRsZScpO1xuXG4gIG5vRGF0YVRleHRcbiAgICAuYXR0cigneCcsIHgpXG4gICAgLmF0dHIoJ3knLCB5KVxuICAgIC50ZXh0KGQgPT4gZC50ZXh0KTtcbn07XG5cbmNvbnN0IHsgZ2V0Q29sb3IsIGdldFNjYWxlIH0gPSBDYXRlZ29yaWNhbENvbG9yTmFtZXNwYWNlO1xuXG4vLyBMaW1pdCBvbiBob3cgbGFyZ2UgYXhlcyBtYXJnaW5zIGNhbiBncm93IGFzIHRoZSBjaGFydCB3aW5kb3cgaXMgcmVzaXplZFxuY29uc3QgTUFYX01BUkdJTl9QQUQgPSAzMDtcbmNvbnN0IE1JTl9IRUlHSFRfRk9SX0JSVVNIID0gNDgwO1xuY29uc3QgTUFYX05PX0NIQVJBQ1RFUlNfSU5fTEFCRUwgPSA0MDtcblxuY29uc3QgQlJFQUtQT0lOVFMgPSB7XG4gIHNtYWxsOiAzNDAsXG59O1xuXG5jb25zdCBUSU1FU0VSSUVTX1ZJWl9UWVBFUyA9IFtcbiAgJ2xpbmUnLFxuICAnZHVhbF9saW5lJyxcbiAgJ2xpbmVfbXVsdGknLFxuICAnYXJlYScsXG4gICdjb21wYXJlJyxcbiAgJ2JhcicsXG4gICd0aW1lX3Bpdm90Jyxcbl07XG5cbmNvbnN0IHByb3BUeXBlcyA9IHtcbiAgZGF0YTogUHJvcFR5cGVzLm9uZU9mVHlwZShbXG4gICAgUHJvcFR5cGVzLmFycmF5T2YoXG4gICAgICBQcm9wVHlwZXMub25lT2ZUeXBlKFtcbiAgICAgICAgLy8gcGllXG4gICAgICAgIGNhdGVnb3J5QW5kVmFsdWVYWVR5cGUsXG4gICAgICAgIC8vIGRpc3QtYmFyXG4gICAgICAgIFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICAgICAga2V5OiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICAgIHZhbHVlczogUHJvcFR5cGVzLmFycmF5T2YoY2F0ZWdvcnlBbmRWYWx1ZVhZVHlwZSksXG4gICAgICAgIH0pLFxuICAgICAgICAvLyBhcmVhLCBsaW5lLCBjb21wYXJlLCBiYXJcbiAgICAgICAgUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgICAgICBrZXk6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zdHJpbmcpLFxuICAgICAgICAgIHZhbHVlczogUHJvcFR5cGVzLmFycmF5T2YobnVtZXJpY1hZVHlwZSksXG4gICAgICAgIH0pLFxuICAgICAgICAvLyBkdWFsLWxpbmVcbiAgICAgICAgUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgICAgICBjbGFzc2VkOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICAgIGtleTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgICB0eXBlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICAgIHZhbHVlczogUHJvcFR5cGVzLmFycmF5T2YobnVtZXJpY1hZVHlwZSksXG4gICAgICAgICAgeUF4aXM6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgICAgIH0pLFxuICAgICAgICAvLyBib3gtcGxvdFxuICAgICAgICBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgICAgIGxhYmVsOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICAgIHZhbHVlczogUHJvcFR5cGVzLmFycmF5T2YoYm94UGxvdFZhbHVlVHlwZSksXG4gICAgICAgIH0pLFxuICAgICAgICAvLyBidWJibGVcbiAgICAgICAgUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgICAgICBrZXk6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgICAgdmFsdWVzOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub2JqZWN0KSxcbiAgICAgICAgfSksXG4gICAgICBdKSxcbiAgICApLFxuICAgIC8vIGJ1bGxldFxuICAgIGJ1bGxldERhdGFUeXBlLFxuICBdKSxcbiAgd2lkdGg6IFByb3BUeXBlcy5udW1iZXIsXG4gIGhlaWdodDogUHJvcFR5cGVzLm51bWJlcixcbiAgYW5ub3RhdGlvbkRhdGE6IFByb3BUeXBlcy5vYmplY3QsXG4gIGFubm90YXRpb25MYXllcnM6IFByb3BUeXBlcy5hcnJheU9mKGFubm90YXRpb25MYXllclR5cGUpLFxuICBib3R0b21NYXJnaW46IG51bWJlck9yQXV0b1R5cGUsXG4gIGNvbG9yU2NoZW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBjb21wYXJpc29uVHlwZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgY29udHJpYnV0aW9uOiBQcm9wVHlwZXMuYm9vbCxcbiAgbGVmdE1hcmdpbjogbnVtYmVyT3JBdXRvVHlwZSxcbiAgb25FcnJvcjogUHJvcFR5cGVzLmZ1bmMsXG4gIHNob3dMZWdlbmQ6IFByb3BUeXBlcy5ib29sLFxuICBzaG93TWFya2VyczogUHJvcFR5cGVzLmJvb2wsXG4gIHVzZVJpY2hUb29sdGlwOiBQcm9wVHlwZXMuYm9vbCxcbiAgdml6VHlwZTogUHJvcFR5cGVzLm9uZU9mKFtcbiAgICAnYXJlYScsXG4gICAgJ2JhcicsXG4gICAgJ2JveF9wbG90JyxcbiAgICAnYnViYmxlJyxcbiAgICAnYnVsbGV0JyxcbiAgICAnY29tcGFyZScsXG4gICAgJ2NvbHVtbicsXG4gICAgJ2Rpc3RfYmFyJyxcbiAgICAnbGluZScsXG4gICAgJ2xpbmVfbXVsdGknLFxuICAgICd0aW1lX3Bpdm90JyxcbiAgICAncGllJyxcbiAgICAnZHVhbF9saW5lJyxcbiAgXSksXG4gIHhBeGlzRm9ybWF0OiBQcm9wVHlwZXMuc3RyaW5nLFxuICBudW1iZXJGb3JtYXQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gIHhBeGlzTGFiZWw6IFByb3BUeXBlcy5zdHJpbmcsXG4gIHhBeGlzU2hvd01pbk1heDogUHJvcFR5cGVzLmJvb2wsXG4gIHhJc0xvZ1NjYWxlOiBQcm9wVHlwZXMuYm9vbCxcbiAgeFRpY2tzTGF5b3V0OiBQcm9wVHlwZXMub25lT2YoWydhdXRvJywgJ3N0YWdnZXJlZCcsICc0NcKwJ10pLFxuICB5QXhpc0Zvcm1hdDogUHJvcFR5cGVzLnN0cmluZyxcbiAgeUF4aXNCb3VuZHM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5udW1iZXIpLFxuICB5QXhpc0xhYmVsOiBQcm9wVHlwZXMuc3RyaW5nLFxuICB5QXhpc1Nob3dNaW5NYXg6IFByb3BUeXBlcy5ib29sLFxuICB5SXNMb2dTY2FsZTogUHJvcFR5cGVzLmJvb2wsXG4gIC8vICdkaXN0LWJhcicgb25seVxuICBvcmRlckJhcnM6IFByb3BUeXBlcy5ib29sLFxuICAvLyAnYmFyJyBvciAnZGlzdC1iYXInXG4gIGlzQmFyU3RhY2tlZDogUHJvcFR5cGVzLmJvb2wsXG4gIHNob3dCYXJWYWx1ZTogUHJvcFR5cGVzLmJvb2wsXG4gIC8vICdiYXInLCAnZGlzdC1iYXInIG9yICdjb2x1bW4nXG4gIHJlZHVjZVhUaWNrczogUHJvcFR5cGVzLmJvb2wsXG4gIC8vICdiYXInLCAnZGlzdC1iYXInIG9yICdhcmVhJ1xuICBzaG93Q29udHJvbHM6IFByb3BUeXBlcy5ib29sLFxuICAvLyAnbGluZScgb25seVxuICBzaG93QnJ1c2g6IFByb3BUeXBlcy5vbmVPZihbdHJ1ZSwgJ3llcycsIGZhbHNlLCAnbm8nLCAnYXV0byddKSxcbiAgb25CcnVzaEVuZDogUHJvcFR5cGVzLmZ1bmMsXG4gIC8vICdsaW5lLW11bHRpJyBvciAnZHVhbC1saW5lJ1xuICB5QXhpczJGb3JtYXQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gIC8vICdsaW5lJywgJ3RpbWUtcGl2b3QnLCAnZHVhbC1saW5lJyBvciAnbGluZS1tdWx0aSdcbiAgbGluZUludGVycG9sYXRpb246IFByb3BUeXBlcy5zdHJpbmcsXG4gIC8vICdwaWUnIG9ubHlcbiAgaXNEb251dDogUHJvcFR5cGVzLmJvb2wsXG4gIGlzUGllTGFiZWxPdXRzaWRlOiBQcm9wVHlwZXMuYm9vbCxcbiAgcGllTGFiZWxUeXBlOiBQcm9wVHlwZXMub25lT2YoW1xuICAgICdrZXknLFxuICAgICd2YWx1ZScsXG4gICAgJ3BlcmNlbnQnLFxuICAgICdrZXlfdmFsdWUnLFxuICAgICdrZXlfcGVyY2VudCcsXG4gICAgJ2tleV92YWx1ZV9wZXJjZW50JyxcbiAgXSksXG4gIHNob3dMYWJlbHM6IFByb3BUeXBlcy5ib29sLFxuICAvLyAnYXJlYScgb25seVxuICBhcmVhU3RhY2tlZFN0eWxlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAvLyAnYnViYmxlJyBvbmx5XG4gIGVudGl0eTogUHJvcFR5cGVzLnN0cmluZyxcbiAgbWF4QnViYmxlU2l6ZTogUHJvcFR5cGVzLm51bWJlcixcbiAgeEZpZWxkOiBzdHJpbmdPck9iamVjdFdpdGhMYWJlbFR5cGUsXG4gIHlGaWVsZDogc3RyaW5nT3JPYmplY3RXaXRoTGFiZWxUeXBlLFxuICBzaXplRmllbGQ6IHN0cmluZ09yT2JqZWN0V2l0aExhYmVsVHlwZSxcbiAgLy8gdGltZS1waXZvdCBvbmx5XG4gIGJhc2VDb2xvcjogcmdiT2JqZWN0VHlwZSxcbn07XG5cbmNvbnN0IE5PT1AgPSAoKSA9PiB7fTtcbmNvbnN0IGZvcm1hdHRlciA9IGdldE51bWJlckZvcm1hdHRlcigpO1xuXG5mdW5jdGlvbiBudmQzVmlzKGVsZW1lbnQsIHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBkYXRhLFxuICAgIHdpZHRoOiBtYXhXaWR0aCxcbiAgICBoZWlnaHQ6IG1heEhlaWdodCxcbiAgICBhbm5vdGF0aW9uRGF0YSxcbiAgICBhbm5vdGF0aW9uTGF5ZXJzID0gW10sXG4gICAgYXJlYVN0YWNrZWRTdHlsZSxcbiAgICBiYXNlQ29sb3IsXG4gICAgYm90dG9tTWFyZ2luLFxuICAgIGNvbG9yU2NoZW1lLFxuICAgIGNvbXBhcmlzb25UeXBlLFxuICAgIGNvbnRyaWJ1dGlvbixcbiAgICBlbnRpdHksXG4gICAgaXNCYXJTdGFja2VkLFxuICAgIGlzRG9udXQsXG4gICAgaXNQaWVMYWJlbE91dHNpZGUsXG4gICAgbGVmdE1hcmdpbixcbiAgICBsaW5lSW50ZXJwb2xhdGlvbiA9ICdsaW5lYXInLFxuICAgIG1hcmtlckxhYmVscyxcbiAgICBtYXJrZXJMaW5lcyxcbiAgICBtYXJrZXJMaW5lTGFiZWxzLFxuICAgIG1hcmtlcnMsXG4gICAgbWF4QnViYmxlU2l6ZSxcbiAgICBvbkJydXNoRW5kID0gTk9PUCxcbiAgICBvbkVycm9yID0gTk9PUCxcbiAgICBvcmRlckJhcnMsXG4gICAgcGllTGFiZWxUeXBlLFxuICAgIHJhbmdlTGFiZWxzLFxuICAgIHJhbmdlcyxcbiAgICByZWR1Y2VYVGlja3MgPSBmYWxzZSxcbiAgICBzaG93QmFyVmFsdWUsXG4gICAgc2hvd0JydXNoLFxuICAgIHNob3dDb250cm9scyxcbiAgICBzaG93TGFiZWxzLFxuICAgIHNob3dMZWdlbmQsXG4gICAgc2hvd01hcmtlcnMsXG4gICAgc2l6ZUZpZWxkLFxuICAgIHVzZVJpY2hUb29sdGlwLFxuICAgIHZpelR5cGUsXG4gICAgeEF4aXNGb3JtYXQsXG4gICAgbnVtYmVyRm9ybWF0LFxuICAgIHhBeGlzTGFiZWwsXG4gICAgeEF4aXNTaG93TWluTWF4ID0gZmFsc2UsXG4gICAgeEZpZWxkLFxuICAgIHhJc0xvZ1NjYWxlLFxuICAgIHhUaWNrc0xheW91dCxcbiAgICB5QXhpc0Zvcm1hdCxcbiAgICB5QXhpczJGb3JtYXQsXG4gICAgeUF4aXNCb3VuZHMsXG4gICAgeUF4aXNMYWJlbCxcbiAgICB5QXhpc1Nob3dNaW5NYXggPSBmYWxzZSxcbiAgICB5RmllbGQsXG4gICAgeUlzTG9nU2NhbGUsXG4gIH0gPSBwcm9wcztcblxuICBjb25zdCBpc0V4cGxvcmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZXhwbG9yZXItY29udGFpbmVyJykgIT09IG51bGw7XG4gIGNvbnN0IGNvbnRhaW5lciA9IGVsZW1lbnQ7XG4gIGNvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgY29uc3QgYWN0aXZlQW5ub3RhdGlvbkxheWVycyA9IGFubm90YXRpb25MYXllcnMuZmlsdGVyKGxheWVyID0+IGxheWVyLnNob3cpO1xuICBjb25zdCBjaGFydElkID1cbiAgICBjb250YWluZXIucGFyZW50RWxlbWVudCAmJiBjb250YWluZXIucGFyZW50RWxlbWVudC5pZCAhPT0gJydcbiAgICAgID8gY29udGFpbmVyLnBhcmVudEVsZW1lbnQuaWRcbiAgICAgIDogbnVsbDtcblxuICBsZXQgY2hhcnQ7XG4gIGxldCB3aWR0aCA9IG1heFdpZHRoO1xuICBsZXQgY29sb3JLZXkgPSAna2V5JztcblxuICBjb250YWluZXIuc3R5bGUud2lkdGggPSBgJHttYXhXaWR0aH1weGA7XG4gIGNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBgJHttYXhIZWlnaHR9cHhgO1xuXG4gIGZ1bmN0aW9uIGlzVml6VHlwZXModHlwZXMpIHtcbiAgICByZXR1cm4gdHlwZXMuaW5jbHVkZXModml6VHlwZSk7XG4gIH1cblxuICBjb25zdCBkcmF3R3JhcGggPSBmdW5jdGlvbiBkcmF3R3JhcGgoKSB7XG4gICAgY29uc3QgZDNFbGVtZW50ID0gZDMuc2VsZWN0KGVsZW1lbnQpO1xuICAgIGQzRWxlbWVudC5jbGFzc2VkKCdzdXBlcnNldC1sZWdhY3ktY2hhcnQtbnZkMycsIHRydWUpO1xuICAgIGQzRWxlbWVudC5jbGFzc2VkKGBzdXBlcnNldC1sZWdhY3ktY2hhcnQtbnZkMy0ke2tlYmFiQ2FzZSh2aXpUeXBlKX1gLCB0cnVlKTtcbiAgICBsZXQgc3ZnID0gZDNFbGVtZW50LnNlbGVjdCgnc3ZnJyk7XG4gICAgaWYgKHN2Zy5lbXB0eSgpKSB7XG4gICAgICBzdmcgPSBkM0VsZW1lbnQuYXBwZW5kKCdzdmcnKTtcbiAgICB9XG4gICAgY29uc3QgaGVpZ2h0ID0gdml6VHlwZSA9PT0gJ2J1bGxldCcgPyBNYXRoLm1pbihtYXhIZWlnaHQsIDUwKSA6IG1heEhlaWdodDtcbiAgICBjb25zdCBpc1RpbWVTZXJpZXMgPSBpc1ZpelR5cGVzKFRJTUVTRVJJRVNfVklaX1RZUEVTKTtcblxuICAgIC8vIEhhbmRsaW5nIHhBeGlzIHRpY2tzIHNldHRpbmdzXG4gICAgY29uc3Qgc3RhZ2dlckxhYmVscyA9IHhUaWNrc0xheW91dCA9PT0gJ3N0YWdnZXJlZCc7XG4gICAgY29uc3QgeExhYmVsUm90YXRpb24gPVxuICAgICAgKHhUaWNrc0xheW91dCA9PT0gJ2F1dG8nICYmIGlzVml6VHlwZXMoWydjb2x1bW4nLCAnZGlzdF9iYXInXSkpIHx8IHhUaWNrc0xheW91dCA9PT0gJzQ1wrAnXG4gICAgICAgID8gNDVcbiAgICAgICAgOiAwO1xuICAgIGlmICh4TGFiZWxSb3RhdGlvbiA9PT0gNDUgJiYgaXNUcnV0aHkoc2hvd0JydXNoKSkge1xuICAgICAgb25FcnJvcih0KCdZb3UgY2Fubm90IHVzZSA0NcKwIHRpY2sgbGF5b3V0IGFsb25nIHdpdGggdGhlIHRpbWUgcmFuZ2UgZmlsdGVyJykpO1xuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBjYW5TaG93QnJ1c2ggPVxuICAgICAgaXNUcnV0aHkoc2hvd0JydXNoKSB8fFxuICAgICAgKHNob3dCcnVzaCA9PT0gJ2F1dG8nICYmIG1heEhlaWdodCA+PSBNSU5fSEVJR0hUX0ZPUl9CUlVTSCAmJiB4VGlja3NMYXlvdXQgIT09ICc0NcKwJyk7XG4gICAgY29uc3QgbnVtYmVyRm9ybWF0dGVyID0gZ2V0TnVtYmVyRm9ybWF0dGVyKG51bWJlckZvcm1hdCk7XG5cbiAgICBzd2l0Y2ggKHZpelR5cGUpIHtcbiAgICAgIGNhc2UgJ2xpbmUnOlxuICAgICAgICBpZiAoY2FuU2hvd0JydXNoKSB7XG4gICAgICAgICAgY2hhcnQgPSBudi5tb2RlbHMubGluZVdpdGhGb2N1c0NoYXJ0KCk7XG4gICAgICAgICAgaWYgKHN0YWdnZXJMYWJlbHMpIHtcbiAgICAgICAgICAgIC8vIEdpdmUgYSBiaXQgbW9yZSByb29tIHRvIGZvY3VzIGFyZWEgaWYgWCBheGlzIHRpY2tzIGFyZSBzdGFnZ2VyZWRcbiAgICAgICAgICAgIGNoYXJ0LmZvY3VzLm1hcmdpbih7IGJvdHRvbTogNDAgfSk7XG4gICAgICAgICAgICBjaGFydC5mb2N1c0hlaWdodCg4MCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNoYXJ0LmZvY3VzLnhTY2FsZShkMy50aW1lLnNjYWxlLnV0YygpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaGFydCA9IG52Lm1vZGVscy5saW5lQ2hhcnQoKTtcbiAgICAgICAgfVxuICAgICAgICBjaGFydC54U2NhbGUoZDMudGltZS5zY2FsZS51dGMoKSk7XG4gICAgICAgIGNoYXJ0LmludGVycG9sYXRlKGxpbmVJbnRlcnBvbGF0aW9uKTtcbiAgICAgICAgY2hhcnQuY2xpcEVkZ2UoZmFsc2UpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAndGltZV9waXZvdCc6XG4gICAgICAgIGNoYXJ0ID0gbnYubW9kZWxzLmxpbmVDaGFydCgpO1xuICAgICAgICBjaGFydC54U2NhbGUoZDMudGltZS5zY2FsZS51dGMoKSk7XG4gICAgICAgIGNoYXJ0LmludGVycG9sYXRlKGxpbmVJbnRlcnBvbGF0aW9uKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2R1YWxfbGluZSc6XG4gICAgICBjYXNlICdsaW5lX211bHRpJzpcbiAgICAgICAgY2hhcnQgPSBudi5tb2RlbHMubXVsdGlDaGFydCgpO1xuICAgICAgICBjaGFydC5pbnRlcnBvbGF0ZShsaW5lSW50ZXJwb2xhdGlvbik7XG4gICAgICAgIGNoYXJ0LnhTY2FsZShkMy50aW1lLnNjYWxlLnV0YygpKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2Jhcic6XG4gICAgICAgIGNoYXJ0ID0gbnYubW9kZWxzLm11bHRpQmFyQ2hhcnQoKS5zaG93Q29udHJvbHMoc2hvd0NvbnRyb2xzKS5ncm91cFNwYWNpbmcoMC4xKTtcblxuICAgICAgICBpZiAoIXJlZHVjZVhUaWNrcykge1xuICAgICAgICAgIHdpZHRoID0gY29tcHV0ZUJhckNoYXJ0V2lkdGgoZGF0YSwgaXNCYXJTdGFja2VkLCBtYXhXaWR0aCk7XG4gICAgICAgIH1cbiAgICAgICAgY2hhcnQud2lkdGgod2lkdGgpO1xuICAgICAgICBjaGFydC54QXhpcy5zaG93TWF4TWluKGZhbHNlKTtcbiAgICAgICAgY2hhcnQuc3RhY2tlZChpc0JhclN0YWNrZWQpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnZGlzdF9iYXInOlxuICAgICAgICBjaGFydCA9IG52Lm1vZGVsc1xuICAgICAgICAgIC5tdWx0aUJhckNoYXJ0KClcbiAgICAgICAgICAuc2hvd0NvbnRyb2xzKHNob3dDb250cm9scylcbiAgICAgICAgICAucmVkdWNlWFRpY2tzKHJlZHVjZVhUaWNrcylcbiAgICAgICAgICAuZ3JvdXBTcGFjaW5nKDAuMSk7IC8vIERpc3RhbmNlIGJldHdlZW4gZWFjaCBncm91cCBvZiBiYXJzLlxuXG4gICAgICAgIGNoYXJ0LnhBeGlzLnNob3dNYXhNaW4oZmFsc2UpO1xuXG4gICAgICAgIGNoYXJ0LnN0YWNrZWQoaXNCYXJTdGFja2VkKTtcbiAgICAgICAgaWYgKG9yZGVyQmFycykge1xuICAgICAgICAgIGRhdGEuZm9yRWFjaChkID0+IHtcbiAgICAgICAgICAgIGQudmFsdWVzLnNvcnQoKGEsIGIpID0+ICh0cnlOdW1pZnkoYS54KSA8IHRyeU51bWlmeShiLngpID8gLTEgOiAxKSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFyZWR1Y2VYVGlja3MpIHtcbiAgICAgICAgICB3aWR0aCA9IGNvbXB1dGVCYXJDaGFydFdpZHRoKGRhdGEsIGlzQmFyU3RhY2tlZCwgbWF4V2lkdGgpO1xuICAgICAgICB9XG4gICAgICAgIGNoYXJ0LndpZHRoKHdpZHRoKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3BpZSc6XG4gICAgICAgIGNoYXJ0ID0gbnYubW9kZWxzLnBpZUNoYXJ0KCk7XG4gICAgICAgIGNvbG9yS2V5ID0gJ3gnO1xuICAgICAgICBjaGFydC52YWx1ZUZvcm1hdChudW1iZXJGb3JtYXR0ZXIpO1xuICAgICAgICBpZiAoaXNEb251dCkge1xuICAgICAgICAgIGNoYXJ0LmRvbnV0KHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGNoYXJ0LnNob3dMYWJlbHMoc2hvd0xhYmVscyk7XG4gICAgICAgIGNoYXJ0LmxhYmVsc091dHNpZGUoaXNQaWVMYWJlbE91dHNpZGUpO1xuICAgICAgICAvLyBDb25maWd1cmUgdGhlIG1pbmltdW0gc2xpY2Ugc2l6ZSBmb3IgbGFiZWxzIHRvIHNob3cgdXBcbiAgICAgICAgY2hhcnQubGFiZWxUaHJlc2hvbGQoMC4wNSk7XG4gICAgICAgIGNoYXJ0LmNvcm5lclJhZGl1cyh0cnVlKTtcblxuICAgICAgICBpZiAoWydrZXknLCAndmFsdWUnLCAncGVyY2VudCddLmluY2x1ZGVzKHBpZUxhYmVsVHlwZSkpIHtcbiAgICAgICAgICBjaGFydC5sYWJlbFR5cGUocGllTGFiZWxUeXBlKTtcbiAgICAgICAgfSBlbHNlIGlmIChwaWVMYWJlbFR5cGUgPT09ICdrZXlfdmFsdWUnKSB7XG4gICAgICAgICAgY2hhcnQubGFiZWxUeXBlKGQgPT4gYCR7ZC5kYXRhLnh9OiAke251bWJlckZvcm1hdHRlcihkLmRhdGEueSl9YCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gcGllTGFiZWxUeXBlIGluIFsna2V5X3BlcmNlbnQnLCAna2V5X3ZhbHVlX3BlcmNlbnQnXVxuICAgICAgICAgIGNvbnN0IHRvdGFsID0gZDMuc3VtKGRhdGEsIGQgPT4gZC55KTtcbiAgICAgICAgICBjb25zdCBwZXJjZW50Rm9ybWF0dGVyID0gZ2V0TnVtYmVyRm9ybWF0dGVyKE51bWJlckZvcm1hdHMuUEVSQ0VOVF8yX1BPSU5UKTtcbiAgICAgICAgICBpZiAocGllTGFiZWxUeXBlID09PSAna2V5X3BlcmNlbnQnKSB7XG4gICAgICAgICAgICBjaGFydC50b29sdGlwLnZhbHVlRm9ybWF0dGVyKGQgPT4gcGVyY2VudEZvcm1hdHRlcihkKSk7XG4gICAgICAgICAgICBjaGFydC5sYWJlbFR5cGUoZCA9PiBgJHtkLmRhdGEueH06ICR7cGVyY2VudEZvcm1hdHRlcihkLmRhdGEueSAvIHRvdGFsKX1gKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gcGllTGFiZWxUeXBlID09PSAna2V5X3ZhbHVlX3BlcmNlbnQnXG4gICAgICAgICAgICBjaGFydC50b29sdGlwLnZhbHVlRm9ybWF0dGVyKFxuICAgICAgICAgICAgICBkID0+IGAke251bWJlckZvcm1hdHRlcihkKX0gKCR7cGVyY2VudEZvcm1hdHRlcihkIC8gdG90YWwpfSlgLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNoYXJ0LmxhYmVsVHlwZShcbiAgICAgICAgICAgICAgZCA9PlxuICAgICAgICAgICAgICAgIGAke2QuZGF0YS54fTogJHtudW1iZXJGb3JtYXR0ZXIoZC5kYXRhLnkpfSAoJHtwZXJjZW50Rm9ybWF0dGVyKGQuZGF0YS55IC8gdG90YWwpfSlgLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gUGllIGNoYXJ0IGRvZXMgbm90IG5lZWQgdG9wIG1hcmdpblxuICAgICAgICBjaGFydC5tYXJnaW4oeyB0b3A6IDAgfSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdjb2x1bW4nOlxuICAgICAgICBjaGFydCA9IG52Lm1vZGVscy5tdWx0aUJhckNoYXJ0KCkucmVkdWNlWFRpY2tzKGZhbHNlKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2NvbXBhcmUnOlxuICAgICAgICBjaGFydCA9IG52Lm1vZGVscy5jdW11bGF0aXZlTGluZUNoYXJ0KCk7XG4gICAgICAgIGNoYXJ0LnhTY2FsZShkMy50aW1lLnNjYWxlLnV0YygpKTtcbiAgICAgICAgY2hhcnQudXNlSW50ZXJhY3RpdmVHdWlkZWxpbmUodHJ1ZSk7XG4gICAgICAgIGNoYXJ0LnhBeGlzLnNob3dNYXhNaW4oZmFsc2UpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnYnViYmxlJzpcbiAgICAgICAgY2hhcnQgPSBudi5tb2RlbHMuc2NhdHRlckNoYXJ0KCk7XG4gICAgICAgIGNoYXJ0LnNob3dEaXN0WChmYWxzZSk7XG4gICAgICAgIGNoYXJ0LnNob3dEaXN0WShmYWxzZSk7XG4gICAgICAgIGNoYXJ0LnRvb2x0aXAuY29udGVudEdlbmVyYXRvcihkID0+XG4gICAgICAgICAgZ2VuZXJhdGVCdWJibGVUb29sdGlwQ29udGVudCh7XG4gICAgICAgICAgICBwb2ludDogZC5wb2ludCxcbiAgICAgICAgICAgIGVudGl0eSxcbiAgICAgICAgICAgIHhGaWVsZCxcbiAgICAgICAgICAgIHlGaWVsZCxcbiAgICAgICAgICAgIHNpemVGaWVsZCxcbiAgICAgICAgICAgIHhGb3JtYXR0ZXI6IGdldFRpbWVPck51bWJlckZvcm1hdHRlcih4QXhpc0Zvcm1hdCksXG4gICAgICAgICAgICB5Rm9ybWF0dGVyOiBnZXRUaW1lT3JOdW1iZXJGb3JtYXR0ZXIoeUF4aXNGb3JtYXQpLFxuICAgICAgICAgICAgc2l6ZUZvcm1hdHRlcjogZm9ybWF0dGVyLFxuICAgICAgICAgIH0pLFxuICAgICAgICApO1xuICAgICAgICBjaGFydC5wb2ludFJhbmdlKFs1LCBtYXhCdWJibGVTaXplICoqIDJdKTtcbiAgICAgICAgY2hhcnQucG9pbnREb21haW4oWzAsIGQzLm1heChkYXRhLCBkID0+IGQzLm1heChkLnZhbHVlcywgdiA9PiB2LnNpemUpKV0pO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnYXJlYSc6XG4gICAgICAgIGNoYXJ0ID0gbnYubW9kZWxzLnN0YWNrZWRBcmVhQ2hhcnQoKTtcbiAgICAgICAgY2hhcnQuc2hvd0NvbnRyb2xzKHNob3dDb250cm9scyk7XG4gICAgICAgIGNoYXJ0LnN0eWxlKGFyZWFTdGFja2VkU3R5bGUpO1xuICAgICAgICBjaGFydC54U2NhbGUoZDMudGltZS5zY2FsZS51dGMoKSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdib3hfcGxvdCc6XG4gICAgICAgIGNvbG9yS2V5ID0gJ2xhYmVsJztcbiAgICAgICAgY2hhcnQgPSBudi5tb2RlbHMuYm94UGxvdENoYXJ0KCk7XG4gICAgICAgIGNoYXJ0LngoZCA9PiBkLmxhYmVsKTtcbiAgICAgICAgY2hhcnQubWF4Qm94V2lkdGgoNzUpOyAvLyBwcmV2ZW50IGJveGVzIGZyb20gYmVpbmcgaW5jcmVkaWJseSB3aWRlXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdidWxsZXQnOlxuICAgICAgICBjaGFydCA9IG52Lm1vZGVscy5idWxsZXRDaGFydCgpO1xuICAgICAgICBkYXRhLnJhbmdlTGFiZWxzID0gcmFuZ2VMYWJlbHM7XG4gICAgICAgIGRhdGEucmFuZ2VzID0gcmFuZ2VzO1xuICAgICAgICBkYXRhLm1hcmtlckxhYmVscyA9IG1hcmtlckxhYmVscztcbiAgICAgICAgZGF0YS5tYXJrZXJMaW5lcyA9IG1hcmtlckxpbmVzO1xuICAgICAgICBkYXRhLm1hcmtlckxpbmVMYWJlbHMgPSBtYXJrZXJMaW5lTGFiZWxzO1xuICAgICAgICBkYXRhLm1hcmtlcnMgPSBtYXJrZXJzO1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnJlY29nbml6ZWQgdmlzdWFsaXphdGlvbiBmb3IgbnZkMyR7dml6VHlwZX1gKTtcbiAgICB9XG4gICAgLy8gQXNzdW1pbmcgdGhlIGNvbnRhaW5lciBoYXMgcGFkZGluZyBhbHJlYWR5IG90aGVyIHRoYW4gZm9yIHRvcCBtYXJnaW5cbiAgICBjaGFydC5tYXJnaW4oeyBsZWZ0OiAwLCByaWdodDogMCwgYm90dG9tOiAwIH0pO1xuXG4gICAgaWYgKHNob3dCYXJWYWx1ZSkge1xuICAgICAgZHJhd0JhclZhbHVlcyhzdmcsIGRhdGEsIGlzQmFyU3RhY2tlZCwgeUF4aXNGb3JtYXQpO1xuICAgICAgY2hhcnQuZGlzcGF0Y2gub24oJ3N0YXRlQ2hhbmdlLmRyYXdCYXJWYWx1ZXMnLCAoKSA9PiB7XG4gICAgICAgIGRyYXdCYXJWYWx1ZXMoc3ZnLCBkYXRhLCBpc0JhclN0YWNrZWQsIHlBeGlzRm9ybWF0KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChjYW5TaG93QnJ1c2ggJiYgb25CcnVzaEVuZCAhPT0gTk9PUCkge1xuICAgICAgaWYgKGNoYXJ0LmZvY3VzKSB7XG4gICAgICAgIGNoYXJ0LmZvY3VzLmRpc3BhdGNoLm9uKCdicnVzaCcsIGV2ZW50ID0+IHtcbiAgICAgICAgICBjb25zdCB0aW1lUmFuZ2UgPSBzdHJpbmdpZnlUaW1lUmFuZ2UoZXZlbnQuZXh0ZW50KTtcbiAgICAgICAgICBpZiAodGltZVJhbmdlKSB7XG4gICAgICAgICAgICBldmVudC5icnVzaC5vbignYnJ1c2hlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgIG9uQnJ1c2hFbmQodGltZVJhbmdlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNoYXJ0LnhBeGlzICYmIGNoYXJ0LnhBeGlzLnN0YWdnZXJMYWJlbHMpIHtcbiAgICAgIGNoYXJ0LnhBeGlzLnN0YWdnZXJMYWJlbHMoc3RhZ2dlckxhYmVscyk7XG4gICAgfVxuICAgIGlmIChjaGFydC54QXhpcyAmJiBjaGFydC54QXhpcy5yb3RhdGVMYWJlbHMpIHtcbiAgICAgIGNoYXJ0LnhBeGlzLnJvdGF0ZUxhYmVscyh4TGFiZWxSb3RhdGlvbik7XG4gICAgfVxuICAgIGlmIChjaGFydC54MkF4aXMgJiYgY2hhcnQueDJBeGlzLnN0YWdnZXJMYWJlbHMpIHtcbiAgICAgIGNoYXJ0LngyQXhpcy5zdGFnZ2VyTGFiZWxzKHN0YWdnZXJMYWJlbHMpO1xuICAgIH1cbiAgICBpZiAoY2hhcnQueDJBeGlzICYmIGNoYXJ0LngyQXhpcy5yb3RhdGVMYWJlbHMpIHtcbiAgICAgIGNoYXJ0LngyQXhpcy5yb3RhdGVMYWJlbHMoeExhYmVsUm90YXRpb24pO1xuICAgIH1cblxuICAgIGlmICgnc2hvd0xlZ2VuZCcgaW4gY2hhcnQgJiYgdHlwZW9mIHNob3dMZWdlbmQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZiAod2lkdGggPCBCUkVBS1BPSU5UUy5zbWFsbCAmJiB2aXpUeXBlICE9PSAncGllJykge1xuICAgICAgICBjaGFydC5zaG93TGVnZW5kKGZhbHNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoYXJ0LnNob3dMZWdlbmQoc2hvd0xlZ2VuZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHlJc0xvZ1NjYWxlKSB7XG4gICAgICBjaGFydC55U2NhbGUoZDMuc2NhbGUubG9nKCkpO1xuICAgIH1cbiAgICBpZiAoeElzTG9nU2NhbGUpIHtcbiAgICAgIGNoYXJ0LnhTY2FsZShkMy5zY2FsZS5sb2coKSk7XG4gICAgfVxuXG4gICAgbGV0IHhBeGlzRm9ybWF0dGVyO1xuICAgIGlmIChpc1RpbWVTZXJpZXMpIHtcbiAgICAgIHhBeGlzRm9ybWF0dGVyID0gZ2V0VGltZUZvcm1hdHRlcih4QXhpc0Zvcm1hdCk7XG4gICAgICAvLyBJbiB0b29sdGlwcywgYWx3YXlzIHVzZSB0aGUgdmVyYm9zZSB0aW1lIGZvcm1hdFxuICAgICAgY2hhcnQuaW50ZXJhY3RpdmVMYXllci50b29sdGlwLmhlYWRlckZvcm1hdHRlcihzbWFydERhdGVWZXJib3NlRm9ybWF0dGVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgeEF4aXNGb3JtYXR0ZXIgPSBnZXRUaW1lT3JOdW1iZXJGb3JtYXR0ZXIoeEF4aXNGb3JtYXQpO1xuICAgIH1cbiAgICBpZiAoY2hhcnQueDJBeGlzICYmIGNoYXJ0LngyQXhpcy50aWNrRm9ybWF0KSB7XG4gICAgICBjaGFydC54MkF4aXMudGlja0Zvcm1hdCh4QXhpc0Zvcm1hdHRlcik7XG4gICAgfVxuICAgIGlmIChjaGFydC54QXhpcyAmJiBjaGFydC54QXhpcy50aWNrRm9ybWF0KSB7XG4gICAgICBjb25zdCBpc1hBeGlzU3RyaW5nID0gaXNWaXpUeXBlcyhbJ2Rpc3RfYmFyJywgJ2JveF9wbG90J10pO1xuICAgICAgaWYgKGlzWEF4aXNTdHJpbmcpIHtcbiAgICAgICAgY2hhcnQueEF4aXMudGlja0Zvcm1hdChkID0+XG4gICAgICAgICAgZC5sZW5ndGggPiBNQVhfTk9fQ0hBUkFDVEVSU19JTl9MQUJFTFxuICAgICAgICAgICAgPyBgJHtkLnNsaWNlKDAsIE1hdGgubWF4KDAsIE1BWF9OT19DSEFSQUNURVJTX0lOX0xBQkVMKSl94oCmYFxuICAgICAgICAgICAgOiBkLFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hhcnQueEF4aXMudGlja0Zvcm1hdCh4QXhpc0Zvcm1hdHRlcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IHlBeGlzRm9ybWF0dGVyID0gZ2V0VGltZU9yTnVtYmVyRm9ybWF0dGVyKHlBeGlzRm9ybWF0KTtcbiAgICBpZiAoY2hhcnQueUF4aXMgJiYgY2hhcnQueUF4aXMudGlja0Zvcm1hdCkge1xuICAgICAgaWYgKFxuICAgICAgICAoY29udHJpYnV0aW9uIHx8IGNvbXBhcmlzb25UeXBlID09PSAncGVyY2VudGFnZScpICYmXG4gICAgICAgICgheUF4aXNGb3JtYXQgfHxcbiAgICAgICAgICB5QXhpc0Zvcm1hdCA9PT0gTnVtYmVyRm9ybWF0cy5TTUFSVF9OVU1CRVIgfHxcbiAgICAgICAgICB5QXhpc0Zvcm1hdCA9PT0gTnVtYmVyRm9ybWF0cy5TTUFSVF9OVU1CRVJfU0lHTkVEKVxuICAgICAgKSB7XG4gICAgICAgIC8vIFdoZW4gY29tcHV0aW5nIGEgXCJQZXJjZW50YWdlXCIgb3IgXCJDb250cmlidXRpb25cIiBzZWxlY3RlZCxcbiAgICAgICAgLy8gZm9yY2UgYSBwZXJjZW50YWdlIGZvcm1hdCBpZiBubyBjdXN0b20gZm9ybWF0dGluZyBzZXRcbiAgICAgICAgeUF4aXNGb3JtYXR0ZXIgPSBnZXROdW1iZXJGb3JtYXR0ZXIoTnVtYmVyRm9ybWF0cy5QRVJDRU5UXzFfUE9JTlQpO1xuICAgICAgfVxuICAgICAgY2hhcnQueUF4aXMudGlja0Zvcm1hdCh5QXhpc0Zvcm1hdHRlcik7XG4gICAgfVxuICAgIGlmIChjaGFydC55MkF4aXMgJiYgY2hhcnQueTJBeGlzLnRpY2tGb3JtYXQpIHtcbiAgICAgIGNoYXJ0LnkyQXhpcy50aWNrRm9ybWF0KHlBeGlzRm9ybWF0dGVyKTtcbiAgICB9XG5cbiAgICBpZiAoY2hhcnQueUF4aXMpIHtcbiAgICAgIGNoYXJ0LnlBeGlzLnRpY2tzKDUpO1xuICAgIH1cbiAgICBpZiAoY2hhcnQueTJBeGlzKSB7XG4gICAgICBjaGFydC55MkF4aXMudGlja3MoNSk7XG4gICAgfVxuXG4gICAgLy8gU2V0IHNob3dNYXhNaW4gZm9yIGFsbCBheGlzXG4gICAgc2V0QXhpc1Nob3dNYXhNaW4oY2hhcnQueEF4aXMsIHhBeGlzU2hvd01pbk1heCk7XG4gICAgc2V0QXhpc1Nob3dNYXhNaW4oY2hhcnQueDJBeGlzLCB4QXhpc1Nob3dNaW5NYXgpO1xuICAgIHNldEF4aXNTaG93TWF4TWluKGNoYXJ0LnlBeGlzLCB5QXhpc1Nob3dNaW5NYXgpO1xuICAgIHNldEF4aXNTaG93TWF4TWluKGNoYXJ0LnkyQXhpcywgeUF4aXNTaG93TWluTWF4KTtcblxuICAgIGlmICh2aXpUeXBlID09PSAndGltZV9waXZvdCcpIHtcbiAgICAgIGlmIChiYXNlQ29sb3IpIHtcbiAgICAgICAgY29uc3QgeyByLCBnLCBiIH0gPSBiYXNlQ29sb3I7XG4gICAgICAgIGNoYXJ0LmNvbG9yKGQgPT4ge1xuICAgICAgICAgIGNvbnN0IGFscGhhID0gZC5yYW5rID4gMCA/IGQucGVyYyAqIDAuNSA6IDE7XG5cbiAgICAgICAgICByZXR1cm4gYHJnYmEoJHtyfSwgJHtnfSwgJHtifSwgJHthbHBoYX0pYDtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGNoYXJ0LnVzZUludGVyYWN0aXZlR3VpZGVsaW5lKHRydWUpO1xuICAgICAgY2hhcnQuaW50ZXJhY3RpdmVMYXllci50b29sdGlwLmNvbnRlbnRHZW5lcmF0b3IoZCA9PlxuICAgICAgICBnZW5lcmF0ZVRpbWVQaXZvdFRvb2x0aXAoZCwgeEF4aXNGb3JtYXR0ZXIsIHlBeGlzRm9ybWF0dGVyKSxcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmICh2aXpUeXBlICE9PSAnYnVsbGV0Jykge1xuICAgICAgY29uc3QgY29sb3JGbiA9IGdldFNjYWxlKGNvbG9yU2NoZW1lKTtcbiAgICAgIGNoYXJ0LmNvbG9yKGQgPT4gZC5jb2xvciB8fCBjb2xvckZuKGNsZWFuQ29sb3JJbnB1dChkW2NvbG9yS2V5XSkpKTtcbiAgICB9XG5cbiAgICBpZiAoaXNWaXpUeXBlcyhbJ2xpbmUnLCAnYXJlYSddKSAmJiB1c2VSaWNoVG9vbHRpcCkge1xuICAgICAgY2hhcnQudXNlSW50ZXJhY3RpdmVHdWlkZWxpbmUodHJ1ZSk7XG4gICAgICBpZiAodml6VHlwZSA9PT0gJ2xpbmUnKSB7XG4gICAgICAgIGNoYXJ0LmludGVyYWN0aXZlTGF5ZXIudG9vbHRpcC5jb250ZW50R2VuZXJhdG9yKGQgPT5cbiAgICAgICAgICBnZW5lcmF0ZVJpY2hMaW5lVG9vbHRpcENvbnRlbnQoZCwgc21hcnREYXRlVmVyYm9zZUZvcm1hdHRlciwgeUF4aXNGb3JtYXR0ZXIpLFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gYXJlYSBjaGFydFxuICAgICAgICBjaGFydC5pbnRlcmFjdGl2ZUxheWVyLnRvb2x0aXAuY29udGVudEdlbmVyYXRvcihkID0+XG4gICAgICAgICAgZ2VuZXJhdGVBcmVhQ2hhcnRUb29sdGlwQ29udGVudChkLCBzbWFydERhdGVWZXJib3NlRm9ybWF0dGVyLCB5QXhpc0Zvcm1hdHRlciwgY2hhcnQpLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpc1ZpelR5cGVzKFsnY29tcGFyZSddKSkge1xuICAgICAgY2hhcnQuaW50ZXJhY3RpdmVMYXllci50b29sdGlwLmNvbnRlbnRHZW5lcmF0b3IoZCA9PlxuICAgICAgICBnZW5lcmF0ZUNvbXBhcmVUb29sdGlwQ29udGVudChkLCB5QXhpc0Zvcm1hdHRlciksXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChpc1ZpelR5cGVzKFsnZHVhbF9saW5lJywgJ2xpbmVfbXVsdGknXSkpIHtcbiAgICAgIGNvbnN0IHlBeGlzRm9ybWF0dGVyMSA9IGdldE51bWJlckZvcm1hdHRlcih5QXhpc0Zvcm1hdCk7XG4gICAgICBjb25zdCB5QXhpc0Zvcm1hdHRlcjIgPSBnZXROdW1iZXJGb3JtYXR0ZXIoeUF4aXMyRm9ybWF0KTtcbiAgICAgIGNoYXJ0LnlBeGlzMS50aWNrRm9ybWF0KHlBeGlzRm9ybWF0dGVyMSk7XG4gICAgICBjaGFydC55QXhpczIudGlja0Zvcm1hdCh5QXhpc0Zvcm1hdHRlcjIpO1xuICAgICAgY29uc3QgeUF4aXNGb3JtYXR0ZXJzID0gZGF0YS5tYXAoZGF0dW0gPT5cbiAgICAgICAgZGF0dW0ueUF4aXMgPT09IDEgPyB5QXhpc0Zvcm1hdHRlcjEgOiB5QXhpc0Zvcm1hdHRlcjIsXG4gICAgICApO1xuICAgICAgY2hhcnQudXNlSW50ZXJhY3RpdmVHdWlkZWxpbmUodHJ1ZSk7XG4gICAgICBjaGFydC5pbnRlcmFjdGl2ZUxheWVyLnRvb2x0aXAuY29udGVudEdlbmVyYXRvcihkID0+XG4gICAgICAgIGdlbmVyYXRlTXVsdGlMaW5lVG9vbHRpcENvbnRlbnQoZCwgeEF4aXNGb3JtYXR0ZXIsIHlBeGlzRm9ybWF0dGVycyksXG4gICAgICApO1xuICAgICAgaWYgKHZpelR5cGUgPT09ICdkdWFsX2xpbmUnKSB7XG4gICAgICAgIGNoYXJ0LnNob3dMZWdlbmQod2lkdGggPiBCUkVBS1BPSU5UUy5zbWFsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGFydC5zaG93TGVnZW5kKHNob3dMZWdlbmQpO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBUaGlzIGlzIG5lZWRlZCBmb3IgY29ycmVjdCBjaGFydCBkaW1lbnNpb25zIGlmIGEgY2hhcnQgaXMgcmVuZGVyZWQgaW4gYSBoaWRkZW4gY29udGFpbmVyXG4gICAgY2hhcnQud2lkdGgod2lkdGgpO1xuICAgIGNoYXJ0LmhlaWdodChoZWlnaHQpO1xuXG4gICAgc3ZnXG4gICAgICAuZGF0dW0oZGF0YSlcbiAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgIC5kdXJhdGlvbig1MDApXG4gICAgICAuYXR0cignaGVpZ2h0JywgaGVpZ2h0KVxuICAgICAgLmF0dHIoJ3dpZHRoJywgd2lkdGgpXG4gICAgICAuY2FsbChjaGFydCk7XG5cbiAgICAvLyBGb3IgbG9nIHNjYWxlLCBvbmx5IHNob3cgMSwgMTAsIDEwMCwgMTAwMCwgLi4uXG4gICAgaWYgKHlJc0xvZ1NjYWxlKSB7XG4gICAgICBjaGFydC55QXhpcy50aWNrRm9ybWF0KGQgPT4gKGQgIT09IDAgJiYgTWF0aC5sb2cxMChkKSAlIDEgPT09IDAgPyB5QXhpc0Zvcm1hdHRlcihkKSA6ICcnKSk7XG4gICAgfVxuXG4gICAgaWYgKHhMYWJlbFJvdGF0aW9uID4gMCkge1xuICAgICAgLy8gc2hpZnQgbGFiZWxzIHRvIHRoZSBsZWZ0IHNvIHRoZXkgbG9vayBiZXR0ZXJcbiAgICAgIGNvbnN0IHhUaWNrcyA9IHN2Zy5zZWxlY3QoJy5udi14Lm52LWF4aXMgPiBnJykuc2VsZWN0QWxsKCdnJyk7XG4gICAgICB4VGlja3Muc2VsZWN0QWxsKCd0ZXh0JykuYXR0cignZHgnLCAtNi41KTtcbiAgICB9XG5cbiAgICBjb25zdCBhcHBseVlBeGlzQm91bmRzID0gKCkgPT4ge1xuICAgICAgaWYgKGNoYXJ0LnlEb21haW4gJiYgQXJyYXkuaXNBcnJheSh5QXhpc0JvdW5kcykgJiYgeUF4aXNCb3VuZHMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIGNvbnN0IFtjdXN0b21NaW4sIGN1c3RvbU1heF0gPSB5QXhpc0JvdW5kcztcbiAgICAgICAgY29uc3QgaGFzQ3VzdG9tTWluID0gaXNEZWZpbmVkKGN1c3RvbU1pbikgJiYgIU51bWJlci5pc05hTihjdXN0b21NaW4pO1xuICAgICAgICBjb25zdCBoYXNDdXN0b21NYXggPSBpc0RlZmluZWQoY3VzdG9tTWF4KSAmJiAhTnVtYmVyLmlzTmFOKGN1c3RvbU1heCk7XG5cbiAgICAgICAgaWYgKChoYXNDdXN0b21NaW4gfHwgaGFzQ3VzdG9tTWF4KSAmJiB2aXpUeXBlID09PSAnYXJlYScgJiYgY2hhcnQuc3R5bGUoKSA9PT0gJ2V4cGFuZCcpIHtcbiAgICAgICAgICAvLyBCZWNhdXNlIHRoZXJlIGFyZSBjdXN0b20gYm91bmRzLCB3ZSBuZWVkIHRvIG92ZXJyaWRlIHRoZW0gYmFjayB0byAwJS0xMDAlIHNpbmNlIHRoaXNcbiAgICAgICAgICAvLyBpcyBhbiBleHBhbmRlZCBhcmVhIGNoYXJ0XG4gICAgICAgICAgY2hhcnQueURvbWFpbihbMCwgMV0pO1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIChoYXNDdXN0b21NaW4gfHwgaGFzQ3VzdG9tTWF4KSAmJlxuICAgICAgICAgIHZpelR5cGUgPT09ICdhcmVhJyAmJlxuICAgICAgICAgIGNoYXJ0LnN0eWxlKCkgPT09ICdzdHJlYW0nXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIEJlY2F1c2UgdGhlcmUgYXJlIGN1c3RvbSBib3VuZHMsIHdlIG5lZWQgdG8gb3ZlcnJpZGUgdGhlbSBiYWNrIHRvIHRoZSBkb21haW4gb2YgdGhlXG4gICAgICAgICAgLy8gZGF0YSBzaW5jZSB0aGlzIGlzIGEgc3RyZWFtIGFyZWEgY2hhcnRcbiAgICAgICAgICBjaGFydC55RG9tYWluKGNvbXB1dGVTdGFja2VkWURvbWFpbihkYXRhKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaGFzQ3VzdG9tTWluICYmIGhhc0N1c3RvbU1heCkge1xuICAgICAgICAgIC8vIE92ZXJyaWRlIHRoZSB5IGRvbWFpbiBpZiB0aGVyZSdzIGJvdGggYSBjdXN0b20gbWluIGFuZCBtYXhcbiAgICAgICAgICBjaGFydC55RG9tYWluKFtjdXN0b21NaW4sIGN1c3RvbU1heF0pO1xuICAgICAgICAgIGNoYXJ0LmNsaXBFZGdlKHRydWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGhhc0N1c3RvbU1pbiB8fCBoYXNDdXN0b21NYXgpIHtcbiAgICAgICAgICAvLyBPbmx5IG9uZSBvZiB0aGUgYm91bmRzIGhhcyBiZWVuIHNldCwgc28gd2UgbmVlZCB0byBtYW51YWxseSBjYWxjdWxhdGUgdGhlIG90aGVyIG9uZVxuICAgICAgICAgIGxldCBbdHJ1ZU1pbiwgdHJ1ZU1heF0gPSBbMCwgMV07XG5cbiAgICAgICAgICAvLyBUaGVzZSB2aXogdHlwZXMgY2FuIGJlIHN0YWNrZWRcbiAgICAgICAgICAvLyBUaGV5IGNvcnJlc3BvbmQgdG8gdGhlIG52ZDMgc3RhY2tlZEFyZWFDaGFydCBhbmQgbXVsdGlCYXJDaGFydFxuICAgICAgICAgIGlmICh2aXpUeXBlID09PSAnYXJlYScgfHwgKGlzVml6VHlwZXMoWydiYXInLCAnZGlzdF9iYXInXSkgJiYgY2hhcnQuc3RhY2tlZCgpKSkge1xuICAgICAgICAgICAgLy8gVGhpcyBpcyBhIHN0YWNrZWQgYXJlYSBjaGFydCBvciBhIHN0YWNrZWQgYmFyIGNoYXJ0XG4gICAgICAgICAgICBbdHJ1ZU1pbiwgdHJ1ZU1heF0gPSBjb21wdXRlU3RhY2tlZFlEb21haW4oZGF0YSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFt0cnVlTWluLCB0cnVlTWF4XSA9IGNvbXB1dGVZRG9tYWluKGRhdGEpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IG1pbiA9IGhhc0N1c3RvbU1pbiA/IGN1c3RvbU1pbiA6IHRydWVNaW47XG4gICAgICAgICAgY29uc3QgbWF4ID0gaGFzQ3VzdG9tTWF4ID8gY3VzdG9tTWF4IDogdHJ1ZU1heDtcbiAgICAgICAgICBjaGFydC55RG9tYWluKFttaW4sIG1heF0pO1xuICAgICAgICAgIGNoYXJ0LmNsaXBFZGdlKHRydWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBhcHBseVlBeGlzQm91bmRzKCk7XG5cbiAgICAvLyBBbHNvIHJlYXBwbHkgb24gZWFjaCBzdGF0ZSBjaGFuZ2UgdG8gYWNjb3VudCBmb3IgZW5hYmxlZC9kaXNhYmxlZCBzZXJpZXNcbiAgICBpZiAoY2hhcnQuZGlzcGF0Y2ggJiYgY2hhcnQuZGlzcGF0Y2guc3RhdGVDaGFuZ2UpIHtcbiAgICAgIGNoYXJ0LmRpc3BhdGNoLm9uKCdzdGF0ZUNoYW5nZS5hcHBseVlBeGlzQm91bmRzJywgYXBwbHlZQXhpc0JvdW5kcyk7XG4gICAgfVxuXG4gICAgLy8gYWxpZ24geUF4aXMxIGFuZCB5QXhpczIgdGlja3NcbiAgICBpZiAoaXNWaXpUeXBlcyhbJ2R1YWxfbGluZScsICdsaW5lX211bHRpJ10pKSB7XG4gICAgICBjb25zdCBjb3VudCA9IGNoYXJ0LnlBeGlzMS50aWNrcygpO1xuICAgICAgY29uc3QgdGlja3MxID0gY2hhcnQueUF4aXMxLnNjYWxlKCkuZG9tYWluKGNoYXJ0LnlBeGlzMS5kb21haW4oKSkubmljZShjb3VudCkudGlja3MoY291bnQpO1xuICAgICAgY29uc3QgdGlja3MyID0gY2hhcnQueUF4aXMyLnNjYWxlKCkuZG9tYWluKGNoYXJ0LnlBeGlzMi5kb21haW4oKSkubmljZShjb3VudCkudGlja3MoY291bnQpO1xuXG4gICAgICAvLyBtYXRjaCBudW1iZXIgb2YgdGlja3MgaW4gYm90aCBheGVzXG4gICAgICBjb25zdCBkaWZmZXJlbmNlID0gdGlja3MxLmxlbmd0aCAtIHRpY2tzMi5sZW5ndGg7XG4gICAgICBpZiAodGlja3MxLmxlbmd0aCA+IDAgJiYgdGlja3MyLmxlbmd0aCA+IDAgJiYgZGlmZmVyZW5jZSAhPT0gMCkge1xuICAgICAgICBjb25zdCBzbWFsbGVzdCA9IGRpZmZlcmVuY2UgPCAwID8gdGlja3MxIDogdGlja3MyO1xuICAgICAgICBjb25zdCBkZWx0YSA9IHNtYWxsZXN0WzFdIC0gc21hbGxlc3RbMF07XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTWF0aC5hYnMoZGlmZmVyZW5jZSk7IGkrKykge1xuICAgICAgICAgIGlmIChpICUgMiA9PT0gMCkge1xuICAgICAgICAgICAgc21hbGxlc3QudW5zaGlmdChzbWFsbGVzdFswXSAtIGRlbHRhKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc21hbGxlc3QucHVzaChzbWFsbGVzdFtzbWFsbGVzdC5sZW5ndGggLSAxXSArIGRlbHRhKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2hhcnQueURvbWFpbjEoW3RpY2tzMVswXSwgdGlja3MxW3RpY2tzMS5sZW5ndGggLSAxXV0pO1xuICAgICAgICBjaGFydC55RG9tYWluMihbdGlja3MyWzBdLCB0aWNrczJbdGlja3MyLmxlbmd0aCAtIDFdXSk7XG4gICAgICAgIGNoYXJ0LnlBeGlzMS50aWNrVmFsdWVzKHRpY2tzMSk7XG4gICAgICAgIGNoYXJ0LnlBeGlzMi50aWNrVmFsdWVzKHRpY2tzMik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHNob3dNYXJrZXJzKSB7XG4gICAgICBzdmcuc2VsZWN0QWxsKCcubnYtcG9pbnQnKS5zdHlsZSgnc3Ryb2tlLW9wYWNpdHknLCAxKS5zdHlsZSgnZmlsbC1vcGFjaXR5JywgMSk7XG5cbiAgICAgIC8vIHJlZG8gb24gbGVnZW5kIHRvZ2dsZTsgbnZkMyBjYWxscyB0aGUgY2FsbGJhY2sgKmJlZm9yZSogdGhlIGxpbmUgaXNcbiAgICAgIC8vIGRyYXduLCBzbyB3ZSBuZWVkIHRvIGFkZCBhIHNtYWxsIGRlbGF5IGhlcmVcbiAgICAgIGNoYXJ0LmRpc3BhdGNoLm9uKCdzdGF0ZUNoYW5nZS5zaG93TWFya2VycycsICgpID0+IHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgc3ZnLnNlbGVjdEFsbCgnLm52LXBvaW50Jykuc3R5bGUoJ3N0cm9rZS1vcGFjaXR5JywgMSkuc3R5bGUoJ2ZpbGwtb3BhY2l0eScsIDEpO1xuICAgICAgICB9LCAxMCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoY2hhcnQueUF4aXMgIT09IHVuZGVmaW5lZCB8fCBjaGFydC55QXhpczIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gSGFjayB0byBhZGp1c3QgeSBheGlzIGxlZnQgbWFyZ2luIHRvIGFjY29tbW9kYXRlIGxvbmcgbnVtYmVyc1xuICAgICAgY29uc3QgbWFyZ2luUGFkID0gTWF0aC5jZWlsKE1hdGgubWluKG1heFdpZHRoICogKGlzRXhwbG9yZSA/IDAuMDEgOiAwLjAzKSwgTUFYX01BUkdJTl9QQUQpKTtcbiAgICAgIC8vIEhhY2sgdG8gYWRqdXN0IG1hcmdpbnMgdG8gYWNjb21tb2RhdGUgbG9uZyBheGlzIHRpY2sgbGFiZWxzLlxuICAgICAgLy8gLSBoYXMgdG8gYmUgZG9uZSBvbmx5IGFmdGVyIHRoZSBjaGFydCBoYXMgYmVlbiByZW5kZXJlZCBvbmNlXG4gICAgICAvLyAtIG1lYXN1cmUgdGhlIHdpZHRoIG9yIGhlaWdodCBvZiB0aGUgbGFiZWxzXG4gICAgICAvLyAtLS0tICh4IGF4aXMgbGFiZWxzIGFyZSByb3RhdGVkIDQ1IGRlZ3JlZXMgc28gd2UgdXNlIGhlaWdodCksXG4gICAgICAvLyAtIGFkanVzdCBtYXJnaW5zIGJhc2VkIG9uIHRoZXNlIG1lYXN1cmVzIGFuZCByZW5kZXIgYWdhaW5cbiAgICAgIGNvbnN0IG1hcmdpbnMgPSBjaGFydC5tYXJnaW4oKTtcbiAgICAgIGlmIChjaGFydC54QXhpcykge1xuICAgICAgICBtYXJnaW5zLmJvdHRvbSA9IDI4O1xuICAgICAgfVxuICAgICAgY29uc3QgbWF4WUF4aXNMYWJlbFdpZHRoID0gZ2V0TWF4TGFiZWxTaXplKHN2ZywgY2hhcnQueUF4aXMyID8gJ252LXkxJyA6ICdudi15Jyk7XG4gICAgICBjb25zdCBtYXhYQXhpc0xhYmVsSGVpZ2h0ID0gZ2V0TWF4TGFiZWxTaXplKHN2ZywgJ252LXgnKTtcbiAgICAgIG1hcmdpbnMubGVmdCA9IG1heFlBeGlzTGFiZWxXaWR0aCArIG1hcmdpblBhZDtcblxuICAgICAgaWYgKHlBeGlzTGFiZWwgJiYgeUF4aXNMYWJlbCAhPT0gJycpIHtcbiAgICAgICAgbWFyZ2lucy5sZWZ0ICs9IDI1O1xuICAgICAgfVxuICAgICAgaWYgKHNob3dCYXJWYWx1ZSkge1xuICAgICAgICAvLyBBZGQgbW9yZSBtYXJnaW4gdG8gYXZvaWQgbGFiZWwgY29sbGlkaW5nIHdpdGggbGVnZW5kLlxuICAgICAgICBtYXJnaW5zLnRvcCArPSAyNDtcbiAgICAgIH1cbiAgICAgIGlmICh4QXhpc1Nob3dNaW5NYXgpIHtcbiAgICAgICAgLy8gSWYgeCBib3VuZHMgYXJlIHNob3duLCB3ZSBuZWVkIGEgcmlnaHQgbWFyZ2luXG4gICAgICAgIG1hcmdpbnMucmlnaHQgPSBNYXRoLm1heCgyMCwgbWF4WEF4aXNMYWJlbEhlaWdodCAvIDIpICsgbWFyZ2luUGFkO1xuICAgICAgfVxuICAgICAgaWYgKHhMYWJlbFJvdGF0aW9uID09PSA0NSkge1xuICAgICAgICBtYXJnaW5zLmJvdHRvbSA9XG4gICAgICAgICAgbWF4WEF4aXNMYWJlbEhlaWdodCAqIE1hdGguc2luKChNYXRoLlBJICogeExhYmVsUm90YXRpb24pIC8gMTgwKSArIG1hcmdpblBhZCArIDMwO1xuICAgICAgICBtYXJnaW5zLnJpZ2h0ID1cbiAgICAgICAgICBtYXhYQXhpc0xhYmVsSGVpZ2h0ICogTWF0aC5jb3MoKE1hdGguUEkgKiB4TGFiZWxSb3RhdGlvbikgLyAxODApICsgbWFyZ2luUGFkO1xuICAgICAgfSBlbHNlIGlmIChzdGFnZ2VyTGFiZWxzKSB7XG4gICAgICAgIG1hcmdpbnMuYm90dG9tID0gNDA7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc1ZpelR5cGVzKFsnZHVhbF9saW5lJywgJ2xpbmVfbXVsdGknXSkpIHtcbiAgICAgICAgY29uc3QgbWF4WUF4aXMyTGFiZWxXaWR0aCA9IGdldE1heExhYmVsU2l6ZShzdmcsICdudi15MicpO1xuICAgICAgICBtYXJnaW5zLnJpZ2h0ID0gbWF4WUF4aXMyTGFiZWxXaWR0aCArIG1hcmdpblBhZDtcbiAgICAgIH1cbiAgICAgIGlmIChib3R0b21NYXJnaW4gJiYgYm90dG9tTWFyZ2luICE9PSAnYXV0bycpIHtcbiAgICAgICAgbWFyZ2lucy5ib3R0b20gPSBwYXJzZUludChib3R0b21NYXJnaW4sIDEwKTtcbiAgICAgIH1cbiAgICAgIGlmIChsZWZ0TWFyZ2luICYmIGxlZnRNYXJnaW4gIT09ICdhdXRvJykge1xuICAgICAgICBtYXJnaW5zLmxlZnQgPSBsZWZ0TWFyZ2luO1xuICAgICAgfVxuXG4gICAgICBpZiAoeEF4aXNMYWJlbCAmJiB4QXhpc0xhYmVsICE9PSAnJyAmJiBjaGFydC54QXhpcykge1xuICAgICAgICBtYXJnaW5zLmJvdHRvbSArPSAyNTtcbiAgICAgICAgbGV0IGRpc3RhbmNlID0gMDtcbiAgICAgICAgaWYgKG1hcmdpbnMuYm90dG9tICYmICFOdW1iZXIuaXNOYU4obWFyZ2lucy5ib3R0b20pKSB7XG4gICAgICAgICAgZGlzdGFuY2UgPSBtYXJnaW5zLmJvdHRvbSAtIDQ1O1xuICAgICAgICB9XG4gICAgICAgIC8vIG52ZDMgYnVnIGF4aXNMYWJlbERpc3RhbmNlIGlzIGRpc3JlZ2FyZGVkIG9uIHhBeGlzXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9rcmlzcG8vYW5ndWxhci1udmQzL2lzc3Vlcy85MFxuICAgICAgICBjaGFydC54QXhpcy5heGlzTGFiZWwoeEF4aXNMYWJlbCkuYXhpc0xhYmVsRGlzdGFuY2UoZGlzdGFuY2UpO1xuICAgICAgfVxuXG4gICAgICBpZiAoeUF4aXNMYWJlbCAmJiB5QXhpc0xhYmVsICE9PSAnJyAmJiBjaGFydC55QXhpcykge1xuICAgICAgICBsZXQgZGlzdGFuY2UgPSAwO1xuICAgICAgICBpZiAobWFyZ2lucy5sZWZ0ICYmICFOdW1iZXIuaXNOYU4obWFyZ2lucy5sZWZ0KSkge1xuICAgICAgICAgIGRpc3RhbmNlID0gbWFyZ2lucy5sZWZ0IC0gNzA7XG4gICAgICAgIH1cbiAgICAgICAgY2hhcnQueUF4aXMuYXhpc0xhYmVsKHlBeGlzTGFiZWwpLmF4aXNMYWJlbERpc3RhbmNlKGRpc3RhbmNlKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1RpbWVTZXJpZXMgJiYgYW5ub3RhdGlvbkRhdGEgJiYgYWN0aXZlQW5ub3RhdGlvbkxheWVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIFRpbWUgc2VyaWVzIGFubm90YXRpb25zIGFkZCBhZGRpdGlvbmFsIGRhdGFcbiAgICAgICAgY29uc3QgdGltZVNlcmllc0Fubm90YXRpb25zID0gYWN0aXZlQW5ub3RhdGlvbkxheWVyc1xuICAgICAgICAgIC5maWx0ZXIobGF5ZXIgPT4gbGF5ZXIuYW5ub3RhdGlvblR5cGUgPT09IEFOTk9UQVRJT05fVFlQRVMuVElNRV9TRVJJRVMpXG4gICAgICAgICAgLnJlZHVjZShcbiAgICAgICAgICAgIChidXNoZWwsIGEpID0+XG4gICAgICAgICAgICAgIGJ1c2hlbC5jb25jYXQoXG4gICAgICAgICAgICAgICAgKGFubm90YXRpb25EYXRhW2EubmFtZV0gfHwgW10pLm1hcChzZXJpZXMgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKCFzZXJpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gQXJyYXkuaXNBcnJheShzZXJpZXMua2V5KVxuICAgICAgICAgICAgICAgICAgICA/IGAke2EubmFtZX0sICR7c2VyaWVzLmtleS5qb2luKCcsICcpfWBcbiAgICAgICAgICAgICAgICAgICAgOiBgJHthLm5hbWV9LCAke3Nlcmllcy5rZXl9YDtcblxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgLi4uc2VyaWVzLFxuICAgICAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBhLmNvbG9yLFxuICAgICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aDogYS53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NlZDogYCR7YS5vcGFjaXR5fSAke2Euc3R5bGV9IG52LXRpbWVzZXJpZXMtYW5ub3RhdGlvbi1sYXllciBzaG93TWFya2VycyR7YS5zaG93TWFya2Vyc30gaGlkZUxpbmUke2EuaGlkZUxpbmV9YCxcbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICBbXSxcbiAgICAgICAgICApO1xuICAgICAgICBkYXRhLnB1c2goLi4udGltZVNlcmllc0Fubm90YXRpb25zKTtcbiAgICAgIH1cblxuICAgICAgLy8gVW5pcXVlbHkgaWRlbnRpZnkgdG9vbHRpcHMgYmFzZWQgb24gY2hhcnRJZCBzbyB0aGlzIGNoYXJ0IGluc3RhbmNlIG9ubHlcbiAgICAgIC8vIGNvbnRyb2xzIGl0cyBvd24gdG9vbHRpcHNcbiAgICAgIGlmIChjaGFydElkKSB7XG4gICAgICAgIGlmIChjaGFydCAmJiBjaGFydC5pbnRlcmFjdGl2ZUxheWVyICYmIGNoYXJ0LmludGVyYWN0aXZlTGF5ZXIudG9vbHRpcCkge1xuICAgICAgICAgIGNoYXJ0LmludGVyYWN0aXZlTGF5ZXIudG9vbHRpcC5jbGFzc2VzKFtnZW5lcmF0ZVRvb2x0aXBDbGFzc05hbWUoY2hhcnRJZCldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGFydCAmJiBjaGFydC50b29sdGlwKSB7XG4gICAgICAgICAgY2hhcnQudG9vbHRpcC5jbGFzc2VzKFtnZW5lcmF0ZVRvb2x0aXBDbGFzc05hbWUoY2hhcnRJZCldKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyByZW5kZXIgY2hhcnRcbiAgICAgIGNoYXJ0Lm1hcmdpbihtYXJnaW5zKTtcbiAgICAgIHN2Z1xuICAgICAgICAuZGF0dW0oZGF0YSlcbiAgICAgICAgLnRyYW5zaXRpb24oKVxuICAgICAgICAuZHVyYXRpb24oNTAwKVxuICAgICAgICAuYXR0cignd2lkdGgnLCB3aWR0aClcbiAgICAgICAgLmF0dHIoJ2hlaWdodCcsIGhlaWdodClcbiAgICAgICAgLmNhbGwoY2hhcnQpO1xuXG4gICAgICAvLyBPbiBzY3JvbGwsIGhpZGUgKG5vdCByZW1vdmUpIHRvb2x0aXBzIHNvIHRoZXkgY2FuIHJlYXBwZWFyIG9uIGhvdmVyLlxuICAgICAgLy8gVGhyb3R0bGUgdG8gb25seSA0eC9zZWNvbmQuXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgJ3Njcm9sbCcsXG4gICAgICAgIHRocm90dGxlKCgpID0+IGhpZGVUb29sdGlwcyhmYWxzZSksIDI1MCksXG4gICAgICApO1xuXG4gICAgICAvLyBUaGUgYmVsb3cgY29kZSBzaG91bGQgYmUgcnVuIEFGVEVSIHJlbmRlcmluZyBiZWNhdXNlIGNoYXJ0IGlzIHVwZGF0ZWQgaW4gY2FsbCgpXG4gICAgICBpZiAoaXNUaW1lU2VyaWVzICYmIGFjdGl2ZUFubm90YXRpb25MYXllcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyBGb3JtdWxhIGFubm90YXRpb25zXG4gICAgICAgIGNvbnN0IGZvcm11bGFzID0gYWN0aXZlQW5ub3RhdGlvbkxheWVyc1xuICAgICAgICAgIC5maWx0ZXIoYSA9PiBhLmFubm90YXRpb25UeXBlID09PSBBTk5PVEFUSU9OX1RZUEVTLkZPUk1VTEEpXG4gICAgICAgICAgLm1hcChhID0+ICh7IC4uLmEsIGZvcm11bGE6IG1hdGhqc1BhcnNlKGEudmFsdWUpIH0pKTtcblxuICAgICAgICBsZXQgeE1heDtcbiAgICAgICAgbGV0IHhNaW47XG4gICAgICAgIGxldCB4U2NhbGU7XG4gICAgICAgIGlmICh2aXpUeXBlID09PSAnYmFyJykge1xuICAgICAgICAgIHhNaW4gPSBkMy5taW4oZGF0YVswXS52YWx1ZXMsIGQgPT4gZC54KTtcbiAgICAgICAgICB4TWF4ID0gZDMubWF4KGRhdGFbMF0udmFsdWVzLCBkID0+IGQueCk7XG4gICAgICAgICAgeFNjYWxlID0gZDMuc2NhbGUucXVhbnRpbGUoKS5kb21haW4oW3hNaW4sIHhNYXhdKS5yYW5nZShjaGFydC54QXhpcy5yYW5nZSgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB4TWluID0gY2hhcnQueEF4aXMuc2NhbGUoKS5kb21haW4oKVswXS52YWx1ZU9mKCk7XG4gICAgICAgICAgeE1heCA9IGNoYXJ0LnhBeGlzLnNjYWxlKCkuZG9tYWluKClbMV0udmFsdWVPZigpO1xuICAgICAgICAgIGlmIChjaGFydC54U2NhbGUpIHtcbiAgICAgICAgICAgIHhTY2FsZSA9IGNoYXJ0LnhTY2FsZSgpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoY2hhcnQueEF4aXMuc2NhbGUpIHtcbiAgICAgICAgICAgIHhTY2FsZSA9IGNoYXJ0LnhBeGlzLnNjYWxlKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHhTY2FsZSA9IGQzLnNjYWxlLmxpbmVhcigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoeFNjYWxlICYmIHhTY2FsZS5jbGFtcCkge1xuICAgICAgICAgIHhTY2FsZS5jbGFtcCh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmb3JtdWxhcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgeFZhbHVlcyA9IFtdO1xuICAgICAgICAgIGlmICh2aXpUeXBlID09PSAnYmFyJykge1xuICAgICAgICAgICAgLy8gRm9yIGJhci1jaGFydHMgd2Ugd2FudCBvbmUgZGF0YSBwb2ludCBldmFsdWF0ZWQgZm9yIGV2ZXJ5XG4gICAgICAgICAgICAvLyBkYXRhIHBvaW50IHRoYXQgd2lsbCBiZSBkaXNwbGF5ZWQuXG4gICAgICAgICAgICBjb25zdCBkaXN0aW5jdCA9IGRhdGEucmVkdWNlKCh4VmFscywgZCkgPT4ge1xuICAgICAgICAgICAgICBkLnZhbHVlcy5mb3JFYWNoKHggPT4geFZhbHMuYWRkKHgueCkpO1xuXG4gICAgICAgICAgICAgIHJldHVybiB4VmFscztcbiAgICAgICAgICAgIH0sIG5ldyBTZXQoKSk7XG4gICAgICAgICAgICB4VmFsdWVzLnB1c2goLi4uZGlzdGluY3QudmFsdWVzKCkpO1xuICAgICAgICAgICAgeFZhbHVlcy5zb3J0KCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEZvciBldmVyeSBvdGhlciB0aW1lIHZpc3VhbGl6YXRpb24gaXQgc2hvdWxkIGJlIG9rLCB0byBoYXZlIGFcbiAgICAgICAgICAgIC8vIGRhdGEgcG9pbnRzIGluIGV2ZW4gaW50ZXJ2YWxzLlxuICAgICAgICAgICAgbGV0IHBlcmlvZCA9IE1hdGgubWluKFxuICAgICAgICAgICAgICAuLi5kYXRhLm1hcChkID0+IE1hdGgubWluKC4uLmQudmFsdWVzLnNsaWNlKDEpLm1hcCgodiwgaSkgPT4gdi54IC0gZC52YWx1ZXNbaV0ueCkpKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zdCBkYXRhUG9pbnRzID0gKHhNYXggLSB4TWluKSAvIChwZXJpb2QgfHwgMSk7XG4gICAgICAgICAgICAvLyBtYWtlIHN1cmUgdGhhdCB0aGVyZSBhcmUgZW5vdWdoIGRhdGEgcG9pbnRzIGFuZCBub3QgdG9vIG1hbnlcbiAgICAgICAgICAgIHBlcmlvZCA9IGRhdGFQb2ludHMgPCAxMDAgPyAoeE1heCAtIHhNaW4pIC8gMTAwIDogcGVyaW9kO1xuICAgICAgICAgICAgcGVyaW9kID0gZGF0YVBvaW50cyA+IDUwMCA/ICh4TWF4IC0geE1pbikgLyA1MDAgOiBwZXJpb2Q7XG4gICAgICAgICAgICB4VmFsdWVzLnB1c2goeE1pbik7XG4gICAgICAgICAgICBmb3IgKGxldCB4ID0geE1pbjsgeCA8IHhNYXg7IHggKz0gcGVyaW9kKSB7XG4gICAgICAgICAgICAgIHhWYWx1ZXMucHVzaCh4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHhWYWx1ZXMucHVzaCh4TWF4KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgZm9ybXVsYURhdGEgPSBmb3JtdWxhcy5tYXAoZm8gPT4gKHtcbiAgICAgICAgICAgIGtleTogZm8ubmFtZSxcbiAgICAgICAgICAgIHZhbHVlczogeFZhbHVlcy5tYXAoeCA9PiAoeyB5OiBmby5mb3JtdWxhLmV2YWx1YXRlKHsgeCB9KSwgeCB9KSksXG4gICAgICAgICAgICBjb2xvcjogZm8uY29sb3IsXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogZm8ud2lkdGgsXG4gICAgICAgICAgICBjbGFzc2VkOiBgJHtmby5vcGFjaXR5fSAke2ZvLnN0eWxlfWAsXG4gICAgICAgICAgfSkpO1xuICAgICAgICAgIGRhdGEucHVzaCguLi5mb3JtdWxhRGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeEF4aXMgPSBjaGFydC54QXhpczEgPyBjaGFydC54QXhpczEgOiBjaGFydC54QXhpcztcbiAgICAgICAgY29uc3QgeUF4aXMgPSBjaGFydC55QXhpczEgPyBjaGFydC55QXhpczEgOiBjaGFydC55QXhpcztcbiAgICAgICAgY29uc3QgY2hhcnRXaWR0aCA9IHhBeGlzLnNjYWxlKCkucmFuZ2UoKVsxXTtcbiAgICAgICAgY29uc3QgYW5ub3RhdGlvbkhlaWdodCA9IHlBeGlzLnNjYWxlKCkucmFuZ2UoKVswXTtcblxuICAgICAgICBpZiAoYW5ub3RhdGlvbkRhdGEpIHtcbiAgICAgICAgICAvLyBFdmVudCBhbm5vdGF0aW9uc1xuICAgICAgICAgIGFjdGl2ZUFubm90YXRpb25MYXllcnNcbiAgICAgICAgICAgIC5maWx0ZXIoXG4gICAgICAgICAgICAgIHggPT5cbiAgICAgICAgICAgICAgICB4LmFubm90YXRpb25UeXBlID09PSBBTk5PVEFUSU9OX1RZUEVTLkVWRU5UICYmXG4gICAgICAgICAgICAgICAgYW5ub3RhdGlvbkRhdGEgJiZcbiAgICAgICAgICAgICAgICBhbm5vdGF0aW9uRGF0YVt4Lm5hbWVdLFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLmZvckVhY2goKGNvbmZpZywgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgZSA9IGFwcGx5TmF0aXZlQ29sdW1ucyhjb25maWcpO1xuICAgICAgICAgICAgICAvLyBBZGQgZXZlbnQgYW5ub3RhdGlvbiBsYXllclxuICAgICAgICAgICAgICBjb25zdCBhbm5vdGF0aW9ucyA9IGQzXG4gICAgICAgICAgICAgICAgLnNlbGVjdChlbGVtZW50KVxuICAgICAgICAgICAgICAgIC5zZWxlY3QoJy5udi13cmFwJylcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCdnJylcbiAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCBgbnYtZXZlbnQtYW5ub3RhdGlvbi1sYXllci0ke2luZGV4fWApO1xuICAgICAgICAgICAgICBjb25zdCBhQ29sb3IgPSBlLmNvbG9yIHx8IGdldENvbG9yKGNsZWFuQ29sb3JJbnB1dChlLm5hbWUpLCBjb2xvclNjaGVtZSk7XG5cbiAgICAgICAgICAgICAgY29uc3QgdGlwID0gdGlwRmFjdG9yeSh7XG4gICAgICAgICAgICAgICAgLi4uZSxcbiAgICAgICAgICAgICAgICBhbm5vdGF0aW9uVGlwQ2xhc3M6IGBhcnJvdy1kb3duIG52LWV2ZW50LWFubm90YXRpb24tbGF5ZXItJHtjb25maWcuc291cmNlVHlwZX1gLFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgY29uc3QgcmVjb3JkcyA9IChhbm5vdGF0aW9uRGF0YVtlLm5hbWVdLnJlY29yZHMgfHwgW10pXG4gICAgICAgICAgICAgICAgLm1hcChyID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVWYWx1ZSA9IG5ldyBEYXRlKG1vbWVudC51dGMocltlLnRpbWVDb2x1bW5dKSk7XG5cbiAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLnIsXG4gICAgICAgICAgICAgICAgICAgIFtlLnRpbWVDb2x1bW5dOiB0aW1lVmFsdWUsXG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmZpbHRlcihyZWNvcmQgPT4gIU51bWJlci5pc05hTihyZWNvcmRbZS50aW1lQ29sdW1uXS5nZXRNaWxsaXNlY29uZHMoKSkpO1xuXG4gICAgICAgICAgICAgIGlmIChyZWNvcmRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBhbm5vdGF0aW9uc1xuICAgICAgICAgICAgICAgICAgLnNlbGVjdEFsbCgnbGluZScpXG4gICAgICAgICAgICAgICAgICAuZGF0YShyZWNvcmRzKVxuICAgICAgICAgICAgICAgICAgLmVudGVyKClcbiAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJ2xpbmUnKVxuICAgICAgICAgICAgICAgICAgLmF0dHIoe1xuICAgICAgICAgICAgICAgICAgICB4MTogZCA9PiB4U2NhbGUobmV3IERhdGUoZFtlLnRpbWVDb2x1bW5dKSksXG4gICAgICAgICAgICAgICAgICAgIHkxOiAwLFxuICAgICAgICAgICAgICAgICAgICB4MjogZCA9PiB4U2NhbGUobmV3IERhdGUoZFtlLnRpbWVDb2x1bW5dKSksXG4gICAgICAgICAgICAgICAgICAgIHkyOiBhbm5vdGF0aW9uSGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsIGAke2Uub3BhY2l0eX0gJHtlLnN0eWxlfWApXG4gICAgICAgICAgICAgICAgICAuc3R5bGUoJ3N0cm9rZScsIGFDb2xvcilcbiAgICAgICAgICAgICAgICAgIC5zdHlsZSgnc3Ryb2tlLXdpZHRoJywgZS53aWR0aClcbiAgICAgICAgICAgICAgICAgIC5vbignbW91c2VvdmVyJywgdGlwLnNob3cpXG4gICAgICAgICAgICAgICAgICAub24oJ21vdXNlb3V0JywgdGlwLmhpZGUpXG4gICAgICAgICAgICAgICAgICAuY2FsbCh0aXApO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gdXBkYXRlIGFubm90YXRpb24gcG9zaXRpb25zIG9uIGJydXNoIGV2ZW50XG4gICAgICAgICAgICAgIGlmIChjaGFydC5mb2N1cykge1xuICAgICAgICAgICAgICAgIGNoYXJ0LmZvY3VzLmRpc3BhdGNoLm9uKCdvbkJydXNoLmV2ZW50LWFubm90YXRpb24nLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBhbm5vdGF0aW9uc1xuICAgICAgICAgICAgICAgICAgICAuc2VsZWN0QWxsKCdsaW5lJylcbiAgICAgICAgICAgICAgICAgICAgLmRhdGEocmVjb3JkcylcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoe1xuICAgICAgICAgICAgICAgICAgICAgIHgxOiBkID0+IHhTY2FsZShuZXcgRGF0ZShkW2UudGltZUNvbHVtbl0pKSxcbiAgICAgICAgICAgICAgICAgICAgICB5MTogMCxcbiAgICAgICAgICAgICAgICAgICAgICB4MjogZCA9PiB4U2NhbGUobmV3IERhdGUoZFtlLnRpbWVDb2x1bW5dKSksXG4gICAgICAgICAgICAgICAgICAgICAgeTI6IGFubm90YXRpb25IZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB4ID0geFNjYWxlKG5ldyBEYXRlKGRbZS50aW1lQ29sdW1uXSkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geCA+IDAgJiYgeCA8IGNoYXJ0V2lkdGggPyAxIDogMDtcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyBJbnRlcnZhbCBhbm5vdGF0aW9uc1xuICAgICAgICAgIGFjdGl2ZUFubm90YXRpb25MYXllcnNcbiAgICAgICAgICAgIC5maWx0ZXIoXG4gICAgICAgICAgICAgIHggPT5cbiAgICAgICAgICAgICAgICB4LmFubm90YXRpb25UeXBlID09PSBBTk5PVEFUSU9OX1RZUEVTLklOVEVSVkFMICYmXG4gICAgICAgICAgICAgICAgYW5ub3RhdGlvbkRhdGEgJiZcbiAgICAgICAgICAgICAgICBhbm5vdGF0aW9uRGF0YVt4Lm5hbWVdLFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLmZvckVhY2goKGNvbmZpZywgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgZSA9IGFwcGx5TmF0aXZlQ29sdW1ucyhjb25maWcpO1xuICAgICAgICAgICAgICAvLyBBZGQgaW50ZXJ2YWwgYW5ub3RhdGlvbiBsYXllclxuICAgICAgICAgICAgICBjb25zdCBhbm5vdGF0aW9ucyA9IGQzXG4gICAgICAgICAgICAgICAgLnNlbGVjdChlbGVtZW50KVxuICAgICAgICAgICAgICAgIC5zZWxlY3QoJy5udi13cmFwJylcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCdnJylcbiAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCBgbnYtaW50ZXJ2YWwtYW5ub3RhdGlvbi1sYXllci0ke2luZGV4fWApO1xuXG4gICAgICAgICAgICAgIGNvbnN0IGFDb2xvciA9IGUuY29sb3IgfHwgZ2V0Q29sb3IoY2xlYW5Db2xvcklucHV0KGUubmFtZSksIGNvbG9yU2NoZW1lKTtcbiAgICAgICAgICAgICAgY29uc3QgdGlwID0gdGlwRmFjdG9yeShlKTtcblxuICAgICAgICAgICAgICBjb25zdCByZWNvcmRzID0gKGFubm90YXRpb25EYXRhW2UubmFtZV0ucmVjb3JkcyB8fCBbXSlcbiAgICAgICAgICAgICAgICAubWFwKHIgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgdGltZVZhbHVlID0gbmV3IERhdGUobW9tZW50LnV0YyhyW2UudGltZUNvbHVtbl0pKTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGludGVydmFsRW5kVmFsdWUgPSBuZXcgRGF0ZShtb21lbnQudXRjKHJbZS5pbnRlcnZhbEVuZENvbHVtbl0pKTtcblxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgLi4ucixcbiAgICAgICAgICAgICAgICAgICAgW2UudGltZUNvbHVtbl06IHRpbWVWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgW2UuaW50ZXJ2YWxFbmRDb2x1bW5dOiBpbnRlcnZhbEVuZFZhbHVlLFxuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5maWx0ZXIoXG4gICAgICAgICAgICAgICAgICByZWNvcmQgPT5cbiAgICAgICAgICAgICAgICAgICAgIU51bWJlci5pc05hTihyZWNvcmRbZS50aW1lQ29sdW1uXS5nZXRNaWxsaXNlY29uZHMoKSkgJiZcbiAgICAgICAgICAgICAgICAgICAgIU51bWJlci5pc05hTihyZWNvcmRbZS5pbnRlcnZhbEVuZENvbHVtbl0uZ2V0TWlsbGlzZWNvbmRzKCkpLFxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgaWYgKHJlY29yZHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGFubm90YXRpb25zXG4gICAgICAgICAgICAgICAgICAuc2VsZWN0QWxsKCdyZWN0JylcbiAgICAgICAgICAgICAgICAgIC5kYXRhKHJlY29yZHMpXG4gICAgICAgICAgICAgICAgICAuZW50ZXIoKVxuICAgICAgICAgICAgICAgICAgLmFwcGVuZCgncmVjdCcpXG4gICAgICAgICAgICAgICAgICAuYXR0cih7XG4gICAgICAgICAgICAgICAgICAgIHg6IGQgPT5cbiAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1pbihcbiAgICAgICAgICAgICAgICAgICAgICAgIHhTY2FsZShuZXcgRGF0ZShkW2UudGltZUNvbHVtbl0pKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHhTY2FsZShuZXcgRGF0ZShkW2UuaW50ZXJ2YWxFbmRDb2x1bW5dKSksXG4gICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgeTogMCxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGQgPT5cbiAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1heChcbiAgICAgICAgICAgICAgICAgICAgICAgIE1hdGguYWJzKFxuICAgICAgICAgICAgICAgICAgICAgICAgICB4U2NhbGUobmV3IERhdGUoZFtlLmludGVydmFsRW5kQ29sdW1uXSkpIC1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4U2NhbGUobmV3IERhdGUoZFtlLnRpbWVDb2x1bW5dKSksXG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgMSxcbiAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGFubm90YXRpb25IZWlnaHQsXG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgYCR7ZS5vcGFjaXR5fSAke2Uuc3R5bGV9YClcbiAgICAgICAgICAgICAgICAgIC5zdHlsZSgnc3Ryb2tlLXdpZHRoJywgZS53aWR0aClcbiAgICAgICAgICAgICAgICAgIC5zdHlsZSgnc3Ryb2tlJywgYUNvbG9yKVxuICAgICAgICAgICAgICAgICAgLnN0eWxlKCdmaWxsJywgYUNvbG9yKVxuICAgICAgICAgICAgICAgICAgLnN0eWxlKCdmaWxsLW9wYWNpdHknLCAwLjIpXG4gICAgICAgICAgICAgICAgICAub24oJ21vdXNlb3ZlcicsIHRpcC5zaG93KVxuICAgICAgICAgICAgICAgICAgLm9uKCdtb3VzZW91dCcsIHRpcC5oaWRlKVxuICAgICAgICAgICAgICAgICAgLmNhbGwodGlwKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIHVwZGF0ZSBhbm5vdGF0aW9uIHBvc2l0aW9ucyBvbiBicnVzaCBldmVudFxuICAgICAgICAgICAgICBpZiAoY2hhcnQuZm9jdXMpIHtcbiAgICAgICAgICAgICAgICBjaGFydC5mb2N1cy5kaXNwYXRjaC5vbignb25CcnVzaC5pbnRlcnZhbC1hbm5vdGF0aW9uJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgYW5ub3RhdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgLnNlbGVjdEFsbCgncmVjdCcpXG4gICAgICAgICAgICAgICAgICAgIC5kYXRhKHJlY29yZHMpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKHtcbiAgICAgICAgICAgICAgICAgICAgICB4OiBkID0+IHhTY2FsZShuZXcgRGF0ZShkW2UudGltZUNvbHVtbl0pKSxcbiAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB4MSA9IHhTY2FsZShuZXcgRGF0ZShkW2UudGltZUNvbHVtbl0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHgyID0geFNjYWxlKG5ldyBEYXRlKGRbZS5pbnRlcnZhbEVuZENvbHVtbl0pKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHgyIC0geDE7XG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVyZW5kZXIgY2hhcnQgYXBwZW5kZWQgd2l0aCBhbm5vdGF0aW9uIGxheWVyXG4gICAgICAgIHN2Zy5kYXR1bShkYXRhKS5hdHRyKCdoZWlnaHQnLCBoZWlnaHQpLmF0dHIoJ3dpZHRoJywgd2lkdGgpLmNhbGwoY2hhcnQpO1xuXG4gICAgICAgIC8vIERpc3BsYXkgc3R5bGVzIGZvciBUaW1lIFNlcmllcyBBbm5vdGF0aW9uc1xuICAgICAgICBjaGFydC5kaXNwYXRjaC5vbigncmVuZGVyRW5kLnRpbWVzZXJpZXMtYW5ub3RhdGlvbicsICgpID0+IHtcbiAgICAgICAgICBkMy5zZWxlY3RBbGwoJy5zbGljZV9jb250YWluZXIgLm52LXRpbWVzZXJpZXMtYW5ub3RhdGlvbi1sYXllci5zaG93TWFya2Vyc3RydWUgLm52LXBvaW50JylcbiAgICAgICAgICAgIC5zdHlsZSgnc3Ryb2tlLW9wYWNpdHknLCAxKVxuICAgICAgICAgICAgLnN0eWxlKCdmaWxsLW9wYWNpdHknLCAxKTtcbiAgICAgICAgICBkMy5zZWxlY3RBbGwoJy5zbGljZV9jb250YWluZXIgLm52LXRpbWVzZXJpZXMtYW5ub3RhdGlvbi1sYXllci5oaWRlTGluZXRydWUnKS5zdHlsZShcbiAgICAgICAgICAgICdzdHJva2Utd2lkdGgnLFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB3cmFwVG9vbHRpcChjaGFydCwgbWF4V2lkdGgpO1xuXG4gICAgcmV0dXJuIGNoYXJ0O1xuICB9O1xuXG4gIC8vIFJlbW92ZSB0b29sdGlwcyBiZWZvcmUgcmVuZGVyaW5nIGNoYXJ0LCBpZiB0aGUgY2hhcnQgaXMgYmVpbmcgcmUtcmVuZGVyZWQgc29tZXRpbWVzXG4gIC8vIHRoZXJlIGFyZSBsZWZ0IG92ZXIgdG9vbHRpcHMgaW4gdGhlIGRvbSxcbiAgLy8gdGhpcyB3aWxsIGNsZWFyIHRoZW0gYmVmb3JlIHJlbmRlcmluZyB0aGUgY2hhcnQgYWdhaW4uXG4gIGlmIChjaGFydElkKSB7XG4gICAgcmVtb3ZlVG9vbHRpcChjaGFydElkKTtcbiAgfSBlbHNlIHtcbiAgICBoaWRlVG9vbHRpcHModHJ1ZSk7XG4gIH1cblxuICBudi5hZGRHcmFwaChkcmF3R3JhcGgpO1xufVxuXG5udmQzVmlzLmRpc3BsYXlOYW1lID0gJ05WRDMnO1xubnZkM1Zpcy5wcm9wVHlwZXMgPSBwcm9wVHlwZXM7XG5leHBvcnQgZGVmYXVsdCBudmQzVmlzO1xuIiwiLyoqXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHJlYWN0aWZ5LCBzdHlsZWQgfSBmcm9tICdAc3VwZXJzZXQtdWkvY29yZSc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IENvbXBvbmVudCBmcm9tICcuL05WRDNWaXMnO1xuaW1wb3J0IHsgaGlkZVRvb2x0aXBzLCByZW1vdmVUb29sdGlwIH0gZnJvbSAnLi91dGlscyc7XG5cbmZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICBjb25zdCB7IGlkIH0gPSB0aGlzLnByb3BzO1xuICBpZiAoaWQgIT09IG51bGwgJiYgaWQgIT09IHVuZGVmaW5lZCkge1xuICAgIHJlbW92ZVRvb2x0aXAoaWQpO1xuICB9IGVsc2Uge1xuICAgIGhpZGVUb29sdGlwcyh0cnVlKTtcbiAgfVxufVxuXG5jb25zdCBSZWFjdE5WRDMgPSByZWFjdGlmeShDb21wb25lbnQsIHsgY29tcG9uZW50V2lsbFVubW91bnQgfSk7XG5cbmNvbnN0IE5WRDMgPSAoeyBjbGFzc05hbWUsIC4uLm90aGVyUHJvcHMgfSkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWV9PlxuICAgICAgPFJlYWN0TlZEMyB7Li4ub3RoZXJQcm9wc30gLz5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbk5WRDMucHJvcFR5cGVzID0ge1xuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHN0eWxlZChOVkQzKWBcbiAgLnN1cGVyc2V0LWxlZ2FjeS1jaGFydC1udmQzLWRpc3QtYmFyIHtcbiAgICBvdmVyZmxvdy14OiBhdXRvICFpbXBvcnRhbnQ7XG4gICAgc3ZnIHtcbiAgICAgICYubnZkMy1zdmcge1xuICAgICAgICB3aWR0aDogYXV0bztcbiAgICAgICAgZm9udC1zaXplOiAkeyh7IHRoZW1lIH0pID0+IHRoZW1lLnR5cG9ncmFwaHkuc2l6ZXMubX07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC5zdXBlcnNldC1sZWdhY3ktY2hhcnQtbnZkMyB7XG4gICAgbnYteCB0ZXh0IHtcbiAgICAgIGZvbnQtc2l6ZTogJHsoeyB0aGVtZSB9KSA9PiB0aGVtZS50eXBvZ3JhcGh5LnNpemVzLm19O1xuICAgIH1cbiAgICBnLnN1cGVyc2V0IHBhdGgge1xuICAgICAgc3Ryb2tlLWRhc2hhcnJheTogNSwgNTtcbiAgICB9XG4gICAgLm52dG9vbHRpcCB0ci5oaWdobGlnaHQgdGQge1xuICAgICAgZm9udC13ZWlnaHQ6ICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUudHlwb2dyYXBoeS53ZWlnaHRzLmJvbGR9O1xuICAgICAgZm9udC1zaXplOiAxNXB4ICFpbXBvcnRhbnQ7XG4gICAgfVxuICAgIHRleHQubnYtYXhpc2xhYmVsIHtcbiAgICAgIGZvbnQtc2l6ZTogJHsoeyB0aGVtZSB9KSA9PiB0aGVtZS50eXBvZ3JhcGh5LnNpemVzLm19ICFpbXBvcnRhbnQ7XG4gICAgfVxuICAgIGcuc29saWQgcGF0aCxcbiAgICBsaW5lLnNvbGlkIHtcbiAgICAgIHN0cm9rZS1kYXNoYXJyYXk6IHVuc2V0O1xuICAgIH1cbiAgICBnLmRhc2hlZCBwYXRoLFxuICAgIGxpbmUuZGFzaGVkIHtcbiAgICAgIHN0cm9rZS1kYXNoYXJyYXk6IDUsIDU7XG4gICAgfVxuICAgIGcubG9uZ0Rhc2hlZCBwYXRoLFxuICAgIGxpbmUuZG90dGVkIHtcbiAgICAgIHN0cm9rZS1kYXNoYXJyYXk6IDEsIDE7XG4gICAgfVxuXG4gICAgZy5vcGFjaXR5TG93IHBhdGgsXG4gICAgbGluZS5vcGFjaXR5TG93IHtcbiAgICAgIHN0cm9rZS1vcGFjaXR5OiAwLjI7XG4gICAgfVxuXG4gICAgZy5vcGFjaXR5TWVkaXVtIHBhdGgsXG4gICAgbGluZS5vcGFjaXR5TWVkaXVtIHtcbiAgICAgIHN0cm9rZS1vcGFjaXR5OiAwLjU7XG4gICAgfVxuICAgIGcub3BhY2l0eUhpZ2ggcGF0aCxcbiAgICBsaW5lLm9wYWNpdHlIaWdoIHtcbiAgICAgIHN0cm9rZS1vcGFjaXR5OiAwLjg7XG4gICAgfVxuICAgIGcudGltZS1zaGlmdC0wIHBhdGgsXG4gICAgbGluZS50aW1lLXNoaWZ0LTAge1xuICAgICAgc3Ryb2tlLWRhc2hhcnJheTogNSwgNTtcbiAgICB9XG4gICAgZy50aW1lLXNoaWZ0LTEgcGF0aCxcbiAgICBsaW5lLnRpbWUtc2hpZnQtMSB7XG4gICAgICBzdHJva2UtZGFzaGFycmF5OiAxLCA1O1xuICAgIH1cbiAgICBnLnRpbWUtc2hpZnQtMiBwYXRoLFxuICAgIGxpbmUudGltZS1zaGlmdC0zIHtcbiAgICAgIHN0cm9rZS1kYXNoYXJyYXk6IDUsIDE7XG4gICAgfVxuICAgIGcudGltZS1zaGlmdC0zIHBhdGgsXG4gICAgbGluZS50aW1lLXNoaWZ0LTMge1xuICAgICAgc3Ryb2tlLWRhc2hhcnJheTogNSwgMTtcbiAgICB9XG4gICAgZy50aW1lLXNoaWZ0LTQgcGF0aCxcbiAgICBsaW5lLnRpbWUtc2hpZnQtNCB7XG4gICAgICBzdHJva2UtZGFzaGFycmF5OiA1LCAxMDtcbiAgICB9XG4gICAgZy50aW1lLXNoaWZ0LTUgcGF0aCxcbiAgICBsaW5lLnRpbWUtc2hpZnQtNSB7XG4gICAgICBzdHJva2UtZGFzaGFycmF5OiAwLjk7XG4gICAgfVxuICAgIGcudGltZS1zaGlmdC02IHBhdGgsXG4gICAgbGluZS50aW1lLXNoaWZ0LTYge1xuICAgICAgc3Ryb2tlLWRhc2hhcnJheTogMTUsIDEwLCA1O1xuICAgIH1cbiAgICBnLnRpbWUtc2hpZnQtNyBwYXRoLFxuICAgIGxpbmUudGltZS1zaGlmdC03IHtcbiAgICAgIHN0cm9rZS1kYXNoYXJyYXk6IDE1LCAxMCwgNSwgMTA7XG4gICAgfVxuICAgIGcudGltZS1zaGlmdC04IHBhdGgsXG4gICAgbGluZS50aW1lLXNoaWZ0LTgge1xuICAgICAgc3Ryb2tlLWRhc2hhcnJheTogMTUsIDEwLCA1LCAxMCwgMTU7XG4gICAgfVxuICAgIGcudGltZS1zaGlmdC05IHBhdGgsXG4gICAgbGluZS50aW1lLXNoaWZ0LTkge1xuICAgICAgc3Ryb2tlLWRhc2hhcnJheTogNSwgNSwgMSwgNTtcbiAgICB9XG4gICAgLm52LW5vRGF0YS5ib2R5IHtcbiAgICAgIGZvbnQtc2l6ZTogJHsoeyB0aGVtZSB9KSA9PiB0aGVtZS50eXBvZ3JhcGh5LnNpemVzLm19O1xuICAgICAgZm9udC13ZWlnaHQ6ICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUudHlwb2dyYXBoeS53ZWlnaHRzLm5vcm1hbH07XG4gICAgfVxuICB9XG4gIC5zdXBlcnNldC1sZWdhY3ktY2hhcnQtbnZkMy10ci1oaWdobGlnaHQge1xuICAgIGJvcmRlci10b3A6IDFweCBzb2xpZDtcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQ7XG4gICAgZm9udC13ZWlnaHQ6ICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUudHlwb2dyYXBoeS53ZWlnaHRzLmJvbGR9O1xuICB9XG4gIC5zdXBlcnNldC1sZWdhY3ktY2hhcnQtbnZkMy10ci10b3RhbCB7XG4gICAgZm9udC13ZWlnaHQ6ICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUudHlwb2dyYXBoeS53ZWlnaHRzLmJvbGR9O1xuICB9XG4gIC5udnRvb2x0aXAge1xuICAgIC50b29sdGlwLWhlYWRlciB7XG4gICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgICAgZm9udC13ZWlnaHQ6ICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUudHlwb2dyYXBoeS53ZWlnaHRzLmJvbGR9O1xuICAgIH1cbiAgICB0Ym9keSB0cjpub3QoLnRvb2x0aXAtaGVhZGVyKSB0ZDpudGgtY2hpbGQoMikge1xuICAgICAgd29yZC1icmVhazogYnJlYWstd29yZDtcbiAgICB9XG4gIH1cbiAgLmQzLXRpcC5udi1ldmVudC1hbm5vdGF0aW9uLWxheWVyLXRhYmxlLFxuICAuZDMtdGlwLm52LWV2ZW50LWFubm90YXRpb24tbGF5ZXItTkFUSVZFIHtcbiAgICB3aWR0aDogMjAwcHg7XG4gICAgYm9yZGVyLXJhZGl1czogMnB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICM0ODQ4NDg7XG4gICAgZmlsbC1vcGFjaXR5OiAwLjY7XG4gICAgbWFyZ2luOiA4cHg7XG4gICAgcGFkZGluZzogOHB4O1xuICAgIGNvbG9yOiAjZmZmO1xuICAgICY6YWZ0ZXIge1xuICAgICAgY29udGVudDogJ1xcMjVCQyc7XG4gICAgICBmb250LXNpemU6ICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUudHlwb2dyYXBoeS5zaXplcy5tfTtcbiAgICAgIGNvbG9yOiAjNDg0ODQ4O1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgYm90dG9tOiAtMTRweDtcbiAgICAgIGxlZnQ6IDk0cHg7XG4gICAgfVxuICB9XG5gO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFrQkE7O0FDbEJBOzs7Ozs7Ozs7Ozs7Ozs7OztBQW1CQTtBQTZEQTtBQUNBO0FBU0E7QUEyQ0E7QUFFQTtBQUtBO0FBS0E7QUFRQTtBQUtBO0FBT0E7QUEwQ0E7QUFFQTtBQUdBO0FBRUE7QUFFQTtBQUdBO0FBRUE7QUFFQTtBQVlBO0FBRUE7QUFNQTtBQU1BO0FBOEdBO0FBMkNBO0FBd0JBO0FBT0E7QUFTQTtBQVVBO0FBOENBO0FBZ0JBO0FBc0RBO0FBNkJBO0FBQ0E7QUFnQkE7QUFnQ0E7QUErQkE7QUFZQTtBQU1BO0FBWUE7QUFDQTtBQU9BO0FBQ0E7QUFHQTtBQUlBO0FBR0E7QUFDQTtBQUVBO0FBZUE7QUFLQTtBQTRCQTtBQUNBO0FBT0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBWUE7QUFJQTtBQTZCQTtBQUNBO0FBWUE7QUE0QkE7QUFDQTtBQVdBO0FBVUE7QUFDQTtBQU1BO0FBRUE7QUE4QkE7QUFDQTtBQVNBO0FBQ0E7QUFLQTtBQXdCQTtBQWdDQTtBQXFCQTtBQXFCQTtBQW9DQTtBQWtDQTtBQW9CQTtBQUdBO0FBa0JBO0FBQ0E7QUFDQTs7QUNocENBOzs7Ozs7Ozs7Ozs7Ozs7OztBQWtCQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2505\n')}}]);